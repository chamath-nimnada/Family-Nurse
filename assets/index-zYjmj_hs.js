(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function M1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var lm={exports:{}},Cl={};var S0;function nx(){if(S0)return Cl;S0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Cl.Fragment=e,Cl.jsx=n,Cl.jsxs=n,Cl}var x0;function ix(){return x0||(x0=1,lm.exports=nx()),lm.exports}var _=ix(),um={exports:{}},xe={};var w0;function sx(){if(w0)return xe;w0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function j(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,W={};function oe(M,$,ne){this.props=M,this.context=$,this.refs=W,this.updater=ne||q}oe.prototype.isReactComponent={},oe.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},oe.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function le(){}le.prototype=oe.prototype;function ue(M,$,ne){this.props=M,this.context=$,this.refs=W,this.updater=ne||q}var _e=ue.prototype=new le;_e.constructor=ue,H(_e,oe.prototype),_e.isPureReactComponent=!0;var Ie=Array.isArray;function Se(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function A(M,$,ne){var se=ne.ref;return{$$typeof:r,type:M,key:$,ref:se!==void 0?se:null,props:ne}}function D(M,$){return A(M.type,$,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function V(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return $[ne]})}var N=/\/+/g;function Oe(M,$){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):$.toString(36)}function ot(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Se,Se):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,$,ne,se,ve){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var Be=!1;if(M===null)Be=!0;else switch(Ne){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(M.$$typeof){case r:case e:Be=!0;break;case E:return Be=M._init,K(Be(M._payload),$,ne,se,ve)}}if(Be)return ve=ve(M),Be=se===""?"."+Oe(M,0):se,Ie(ve)?(ne="",Be!=null&&(ne=Be.replace(N,"$&/")+"/"),K(ve,$,ne,"",function(fr){return fr})):ve!=null&&(O(ve)&&(ve=D(ve,ne+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+Be)),$.push(ve)),1;Be=0;var Dt=se===""?".":se+":";if(Ie(M))for(var lt=0;lt<M.length;lt++)se=M[lt],Ne=Dt+Oe(se,lt),Be+=K(se,$,ne,Ne,ve);else if(lt=j(M),typeof lt=="function")for(M=lt.call(M),lt=0;!(se=M.next()).done;)se=se.value,Ne=Dt+Oe(se,lt++),Be+=K(se,$,ne,Ne,ve);else if(Ne==="object"){if(typeof M.then=="function")return K(ot(M),$,ne,se,ve);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ee(M,$,ne){if(M==null)return M;var se=[],ve=0;return K(M,se,"","",function(Ne){return $.call(ne,Ne,ve++)}),se}function he(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var De=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},He={map:ee,forEach:function(M,$,ne){ee(M,function(){$.apply(this,arguments)},ne)},count:function(M){var $=0;return ee(M,function(){$++}),$},toArray:function(M){return ee(M,function($){return $})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return xe.Activity=T,xe.Children=He,xe.Component=oe,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=ue,xe.StrictMode=s,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},xe.cache=function(M){return function(){return M.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(M,$,ne){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=H({},M.props),ve=M.key;if($!=null)for(Ne in $.key!==void 0&&(ve=""+$.key),$)!R.call($,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&$.ref===void 0||(se[Ne]=$[Ne]);var Ne=arguments.length-2;if(Ne===1)se.children=ne;else if(1<Ne){for(var Be=Array(Ne),Dt=0;Dt<Ne;Dt++)Be[Dt]=arguments[Dt+2];se.children=Be}return A(M.type,ve,se)},xe.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},xe.createElement=function(M,$,ne){var se,ve={},Ne=null;if($!=null)for(se in $.key!==void 0&&(Ne=""+$.key),$)R.call($,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ve[se]=$[se]);var Be=arguments.length-2;if(Be===1)ve.children=ne;else if(1<Be){for(var Dt=Array(Be),lt=0;lt<Be;lt++)Dt[lt]=arguments[lt+2];ve.children=Dt}if(M&&M.defaultProps)for(se in Be=M.defaultProps,Be)ve[se]===void 0&&(ve[se]=Be[se]);return A(M,Ne,ve)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:m,render:M}},xe.isValidElement=O,xe.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:he}},xe.memo=function(M,$){return{$$typeof:p,type:M,compare:$===void 0?null:$}},xe.startTransition=function(M){var $=I.T,ne={};I.T=ne;try{var se=M(),ve=I.S;ve!==null&&ve(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Se,De)}catch(Ne){De(Ne)}finally{$!==null&&ne.types!==null&&($.types=ne.types),I.T=$}},xe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xe.use=function(M){return I.H.use(M)},xe.useActionState=function(M,$,ne){return I.H.useActionState(M,$,ne)},xe.useCallback=function(M,$){return I.H.useCallback(M,$)},xe.useContext=function(M){return I.H.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M,$){return I.H.useDeferredValue(M,$)},xe.useEffect=function(M,$){return I.H.useEffect(M,$)},xe.useEffectEvent=function(M){return I.H.useEffectEvent(M)},xe.useId=function(){return I.H.useId()},xe.useImperativeHandle=function(M,$,ne){return I.H.useImperativeHandle(M,$,ne)},xe.useInsertionEffect=function(M,$){return I.H.useInsertionEffect(M,$)},xe.useLayoutEffect=function(M,$){return I.H.useLayoutEffect(M,$)},xe.useMemo=function(M,$){return I.H.useMemo(M,$)},xe.useOptimistic=function(M,$){return I.H.useOptimistic(M,$)},xe.useReducer=function(M,$,ne){return I.H.useReducer(M,$,ne)},xe.useRef=function(M){return I.H.useRef(M)},xe.useState=function(M){return I.H.useState(M)},xe.useSyncExternalStore=function(M,$,ne){return I.H.useSyncExternalStore(M,$,ne)},xe.useTransition=function(){return I.H.useTransition()},xe.version="19.2.3",xe}var A0;function Vh(){return A0||(A0=1,um.exports=sx()),um.exports}var pe=Vh();const rx=M1(pe);var cm={exports:{}},Il={},hm={exports:{}},fm={};var R0;function ax(){return R0||(R0=1,(function(r){function e(K,ee){var he=K.length;K.push(ee);e:for(;0<he;){var De=he-1>>>1,He=K[De];if(0<o(He,ee))K[De]=ee,K[he]=He,he=De;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ee=K[0],he=K.pop();if(he!==ee){K[0]=he;e:for(var De=0,He=K.length,M=He>>>1;De<M;){var $=2*(De+1)-1,ne=K[$],se=$+1,ve=K[se];if(0>o(ne,he))se<He&&0>o(ve,ne)?(K[De]=ve,K[se]=he,De=se):(K[De]=ne,K[$]=he,De=$);else if(se<He&&0>o(ve,he))K[De]=ve,K[se]=he,De=se;else break e}}return ee}function o(K,ee){var he=K.sortIndex-ee.sortIndex;return he!==0?he:K.id-ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],E=1,T=null,w=3,j=!1,q=!1,H=!1,W=!1,oe=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function _e(K){for(var ee=n(p);ee!==null;){if(ee.callback===null)s(p);else if(ee.startTime<=K)s(p),ee.sortIndex=ee.expirationTime,e(g,ee);else break;ee=n(p)}}function Ie(K){if(H=!1,_e(K),!q)if(n(g)!==null)q=!0,Se||(Se=!0,V());else{var ee=n(p);ee!==null&&ot(Ie,ee.startTime-K)}}var Se=!1,I=-1,R=5,A=-1;function D(){return W?!0:!(r.unstable_now()-A<R)}function O(){if(W=!1,Se){var K=r.unstable_now();A=K;var ee=!0;try{e:{q=!1,H&&(H=!1,le(I),I=-1),j=!0;var he=w;try{t:{for(_e(K),T=n(g);T!==null&&!(T.expirationTime>K&&D());){var De=T.callback;if(typeof De=="function"){T.callback=null,w=T.priorityLevel;var He=De(T.expirationTime<=K);if(K=r.unstable_now(),typeof He=="function"){T.callback=He,_e(K),ee=!0;break t}T===n(g)&&s(g),_e(K)}else s(g);T=n(g)}if(T!==null)ee=!0;else{var M=n(p);M!==null&&ot(Ie,M.startTime-K),ee=!1}}break e}finally{T=null,w=he,j=!1}ee=void 0}}finally{ee?V():Se=!1}}}var V;if(typeof ue=="function")V=function(){ue(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Oe=N.port2;N.port1.onmessage=O,V=function(){Oe.postMessage(null)}}else V=function(){oe(O,0)};function ot(K,ee){I=oe(function(){K(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var ee=3;break;default:ee=w}var he=w;w=ee;try{return K()}finally{w=he}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=w;w=K;try{return ee()}finally{w=he}},r.unstable_scheduleCallback=function(K,ee,he){var De=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?De+he:De):he=De,K){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=he+He,K={id:E++,callback:ee,priorityLevel:K,startTime:he,expirationTime:He,sortIndex:-1},he>De?(K.sortIndex=he,e(p,K),n(g)===null&&K===n(p)&&(H?(le(I),I=-1):H=!0,ot(Ie,he-De))):(K.sortIndex=He,e(g,K),q||j||(q=!0,Se||(Se=!0,V()))),K},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(K){var ee=w;return function(){var he=w;w=ee;try{return K.apply(this,arguments)}finally{w=he}}}})(fm)),fm}var N0;function ox(){return N0||(N0=1,hm.exports=ax()),hm.exports}var dm={exports:{}},Jt={};var C0;function lx(){if(C0)return Jt;C0=1;var r=Vh();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},Jt.flushSync=function(g){var p=h.T,E=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=E,s.d.f()}},Jt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Jt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Jt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,T=m(E,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:j}):E==="script"&&s.d.X(g,{crossOrigin:T,integrity:w,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Jt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,T=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Jt.requestFormReset=function(g){s.d.r(g)},Jt.unstable_batchedUpdates=function(g,p){return g(p)},Jt.useFormState=function(g,p,E){return h.H.useFormState(g,p,E)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var I0;function ux(){if(I0)return dm.exports;I0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=lx(),dm.exports}var O0;function cx(){if(O0)return Il;O0=1;var r=ox(),e=Vh(),n=ux();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,l=d;break}if(S===l){v=!0,l=f,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=f;break}if(S===l){v=!0,l=d,a=f;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case oe:return"Profiler";case W:return"StrictMode";case Ie:return"Suspense";case Se:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case ue:return t.displayName||"Context";case le:return(t._context.displayName||"Context")+".Consumer";case _e:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:Oe(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Oe(t(i))}catch{}}return null}var ot=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},De=[],He=-1;function M(t){return{current:t}}function $(t){0>He||(t.current=De[He],De[He]=null,He--)}function ne(t,i){He++,De[He]=t.current,t.current=i}var se=M(null),ve=M(null),Ne=M(null),Be=M(null);function Dt(t,i){switch(ne(Ne,i),ne(ve,t),ne(se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?K_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=K_(i),t=Q_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(se),ne(se,t)}function lt(){$(se),$(ve),$(Ne)}function fr(t){t.memoizedState!==null&&ne(Be,t);var i=se.current,a=Q_(i,t.type);i!==a&&(ne(ve,t),ne(se,a))}function sa(t){ve.current===t&&($(se),$(ve)),Be.current===t&&($(Be),wl._currentValue=he)}var ra,aa;function ri(t){if(ra===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ra=i&&i[1]||"",aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+t+aa}var wo=!1;function dr(t,i){if(!t||wo)return"";wo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var B=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){B=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){B=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var C=v.split(`
`),z=S.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===z.length)for(l=C.length-1,f=z.length-1;1<=l&&0<=f&&C[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==z[f]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=f);break}}}finally{wo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function Ao(t,i){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return dr(t.type,!1);case 11:return dr(t.type.render,!1);case 1:return dr(t.type,!0);case 31:return ri("Activity");default:return""}}function Ro(t){try{var i="",a=null;do i+=Ao(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,us=r.unstable_cancelCallback,cf=r.unstable_shouldYield,yu=r.unstable_requestPaint,nn=r.unstable_now,mr=r.unstable_getCurrentPriorityLevel,No=r.unstable_ImmediatePriority,Co=r.unstable_UserBlockingPriority,cs=r.unstable_NormalPriority,hf=r.unstable_LowPriority,_u=r.unstable_IdlePriority,vu=r.log,bu=r.unstable_setDisableYieldValue,Hn=null,qt=null;function An(t){if(typeof vu=="function"&&bu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Hn,t)}catch{}}var pt=Math.clz32?Math.clz32:Tu,Eu=Math.log,oa=Math.LN2;function Tu(t){return t>>>=0,t===0?32:31-(Eu(t)/oa|0)|0}var ai=256,pr=262144,Et=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=oi(l):(v&=S,v!==0?f=oi(v):a||(a=S&~t,a!==0&&(f=oi(a))))):(S=l&~d,S!==0?f=oi(S):v!==0?f=oi(v):a||(a=l&~t,a!==0&&(f=oi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ff(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function df(t,i,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-pt(a),J=1<<Q;S[Q]=0,C[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var G=B[Q];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&yr(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function yr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Io(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Oo(t,i){var a=i&-i;return a=(a&42)!==0?1:_r(a),(a&(t.suspendedLanes|i))!==0?0:a}function _r(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xu(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:g0(t.type))}function Gn(t,i){var a=ee.p;try{return ee.p=t,i()}finally{ee.p=a}}var Kn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Kn,Lt="__reactProps$"+Kn,ci="__reactContainer$"+Kn,la="__reactEvents$"+Kn,mf="__reactListeners$"+Kn,wu="__reactHandles$"+Kn,Au="__reactResources$"+Kn,hi="__reactMarker$"+Kn;function ua(t){delete t[Tt],delete t[Lt],delete t[la],delete t[mf],delete t[wu]}function fi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ci]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=e0(t);t!==null;){if(a=t[Tt])return a;t=e0(t)}return i}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Tt]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function di(t){var i=t[Au];return i||(i=t[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[hi]=!0}var Do=new Set,Mo={};function mi(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(Mo[t]=i,t=0;t<i.length;t++)Do.add(i[t])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},jo={};function Ru(t){return bt.call(jo,t)?!0:bt.call(Vo,t)?!1:ko.test(t)?jo[t]=!0:(Vo[t]=!0,!1)}function ca(t,i,a){if(Ru(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=hs(t)?"checked":"value";t._valueTracker=Lo(t,i,""+t[i])}}function vr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=hs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var br=/[\n"\\]/g;function on(t){return t.replace(br,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ha(t,i,a,l,f,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Po(t,v,Pt(i)):a!=null?Po(t,v,Pt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Pt(S):t.removeAttribute("name")}function Nu(t,i,a,l,f,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ye(t)}function Po(t,i,a){i==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function fs(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Cu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function ds(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Iu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function zo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Uo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Uo(t,d,i[d])}function fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return ms.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var Bo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ps=null,yi=null;function Er(t){var i=Rn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ha(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));ha(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&vr(l)}break e;case"textarea":Cu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&fs(t,!!a.multiple,i,!1)}}}var ma=!1;function gs(t,i,a){if(ma)return t(i,a);ma=!0;try{var l=t(i);return l}finally{if(ma=!1,(ps!==null||yi!==null)&&(xc(),ps&&(i=ps,t=yi,yi=ps=null,Er(i),t)))for(i=0;i<t.length;i++)Er(t[i])}}function $n(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(Cn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Tr=!1}var _i=null,qo=null,Sr=null;function Ho(){if(Sr)return Sr;var t,i=qo,a=i.length,l,f="value"in _i?_i.value:_i.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===f[d-l];l++);return Sr=f.slice(t,1<l?1-l:void 0)}function xr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Yn(){return!1}function Ht(t){function i(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Ht(Pi),ys=T({},Pi,{view:0,detail:0}),Fo=Ht(ys),_s,pa,bi,ga=T({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(_s=t.screenX-bi.screenX,pa=t.screenY-bi.screenY):pa=_s=0,bi=t),_s)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),Go=Ht(ga),wr=T({},ga,{dataTransfer:0}),Du=Ht(wr),Mu=T({},ys,{relatedTarget:0}),Ar=Ht(Mu),Ko=T({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),ku=Ht(Ko),ya=T({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vu=Ht(ya),ju=T({},Pi,{data:0}),Ei=Ht(ju),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Uu[t])?!!i[t]:!1}function vs(){return zu}var sn=T({},ys,{key:function(t){if(t.key){var i=Lu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(t){return t.type==="keypress"?xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bu=Ht(sn),qu=T({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Ht(qu),c=T({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),y=Ht(c),b=T({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Ht(b),P=T({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Ht(P),te=T({},Pi,{newState:0,oldState:0}),Ae=Ht(te),gt=[9,13,27,32],Ke=Cn&&"CompositionEvent"in window,ut=null;Cn&&"documentMode"in document&&(ut=document.documentMode);var In=Cn&&"TextEvent"in window&&!ut,Ti=Cn&&(!Ke||ut&&8<ut&&11>=ut),Xn=" ",Jn=!1;function Rr(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function AT(t,i){switch(t){case"compositionend":return _a(i);case"keypress":return i.which!==32?null:(Jn=!0,Xn);case"textInput":return t=i.data,t===Xn&&Jn?null:t;default:return null}}function RT(t,i){if(va)return t==="compositionend"||!Ke&&Rr(t,i)?(t=Ho(),Sr=qo=_i=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var NT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!NT[t.type]:i==="textarea"}function sg(t,i,a,l){ps?yi?yi.push(l):yi=[l]:ps=l,i=Oc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Qo=null,$o=null;function CT(t){z_(t,0)}function Hu(t){var i=gn(t);if(vr(i))return t}function rg(t,i){if(t==="change")return i}var ag=!1;if(Cn){var pf;if(Cn){var gf="oninput"in document;if(!gf){var og=document.createElement("div");og.setAttribute("oninput","return;"),gf=typeof og.oninput=="function"}pf=gf}else pf=!1;ag=pf&&(!document.documentMode||9<document.documentMode)}function lg(){Qo&&(Qo.detachEvent("onpropertychange",ug),$o=Qo=null)}function ug(t){if(t.propertyName==="value"&&Hu($o)){var i=[];sg(i,$o,t,Nn(t)),gs(CT,i)}}function IT(t,i,a){t==="focusin"?(lg(),Qo=i,$o=a,Qo.attachEvent("onpropertychange",ug)):t==="focusout"&&lg()}function OT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu($o)}function DT(t,i){if(t==="click")return Hu(i)}function MT(t,i){if(t==="input"||t==="change")return Hu(i)}function kT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:kT;function Yo(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bt.call(i,f)||!_n(t[f],i[f]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hg(t,i){var a=cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cg(a)}}function fg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?fg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gi(t.document)}return i}function yf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var VT=Cn&&"documentMode"in document&&11>=document.documentMode,ba=null,_f=null,Xo=null,vf=!1;function mg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vf||ba==null||ba!==gi(l)||(l=ba,"selectionStart"in l&&yf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Yo(Xo,l)||(Xo=l,l=Oc(_f,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ba)))}function Nr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ea={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},bf={},pg={};Cn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Cr(t){if(bf[t])return bf[t];if(!Ea[t])return t;var i=Ea[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in pg)return bf[t]=i[a];return t}var gg=Cr("animationend"),yg=Cr("animationiteration"),_g=Cr("animationstart"),jT=Cr("transitionrun"),LT=Cr("transitionstart"),PT=Cr("transitioncancel"),vg=Cr("transitionend"),bg=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function Zn(t,i){bg.set(t,i),mi(i,[t])}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],Ta=0,Tf=0;function Gu(){for(var t=Ta,i=Tf=Ta=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var f=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Eg(a,f,d)}}function Ku(t,i,a,l){On[Ta++]=t,On[Ta++]=i,On[Ta++]=a,On[Ta++]=l,Tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sf(t,i,a,l){return Ku(t,i,a,l),Qu(t)}function Ir(t,i){return Ku(t,null,null,i),Qu(t)}function Eg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-pt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Qu(t){if(50<_l)throw _l=0,Dd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Sa={};function UT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new UT(t,i,a,l)}function xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Tg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $u(t,i,a,l,f,d){var v=0;if(l=t,typeof t=="function")xf(t)&&(v=1);else if(typeof t=="string")v=FS(t,a,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=vn(31,a,i,f),t.elementType=A,t.lanes=d,t;case H:return Or(a.children,f,d,i);case W:v=8,f|=24;break;case oe:return t=vn(12,a,i,f|2),t.elementType=oe,t.lanes=d,t;case Ie:return t=vn(13,a,i,f),t.elementType=Ie,t.lanes=d,t;case Se:return t=vn(19,a,i,f),t.elementType=Se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ue:v=10;break e;case le:v=9;break e;case _e:v=11;break e;case I:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(v,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Or(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function wf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Sg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Af(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var xg=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var a=xg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ro(i)},xg.set(t,i),i)}return{value:t,source:i,stack:Ro(i)}}var xa=[],wa=0,Yu=null,Jo=0,Mn=[],kn=0,bs=null,Si=1,xi="";function Bi(t,i){xa[wa++]=Jo,xa[wa++]=Yu,Yu=t,Jo=i}function wg(t,i,a){Mn[kn++]=Si,Mn[kn++]=xi,Mn[kn++]=bs,bs=t;var l=Si;t=xi;var f=32-pt(l)-1;l&=~(1<<f),a+=1;var d=32-pt(i)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Si=1<<32-pt(i)+f|a<<f|l,xi=d+t}else Si=1<<d|a<<f|l,xi=t}function Rf(t){t.return!==null&&(Bi(t,1),wg(t,1,0))}function Nf(t){for(;t===Yu;)Yu=xa[--wa],xa[wa]=null,Jo=xa[--wa],xa[wa]=null;for(;t===bs;)bs=Mn[--kn],Mn[kn]=null,xi=Mn[--kn],Mn[kn]=null,Si=Mn[--kn],Mn[kn]=null}function Ag(t,i){Mn[kn++]=Si,Mn[kn++]=xi,Mn[kn++]=bs,Si=i.id,xi=i.overflow,bs=t}var Ft=null,st=null,ze=!1,Es=null,Vn=!1,Cf=Error(s(519));function Ts(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(Dn(i,t)),Cf}function Rg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[Lt]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<bl.length;a++)ke(bl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Nu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),ds(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||F_(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Ts(t,!0)}function Ng(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Ft=Ft.return}}function Aa(t){if(t!==Ft)return!1;if(!ze)return Ng(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qd(t.type,t.memoizedProps)),a=!a),a&&st&&Ts(t),Ng(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=W_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=W_(t)}else i===27?(i=st,js(t.type)?(t=Zd,Zd=null,st=t):st=i):st=Ft?Ln(t.stateNode.nextSibling):null;return!0}function Dr(){st=Ft=null,ze=!1}function If(){var t=Es;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Es=null),t}function Zo(t){Es===null?Es=[t]:Es.push(t)}var Of=M(null),Mr=null,qi=null;function Ss(t,i,a){ne(Of,i._currentValue),i._currentValue=a}function Hi(t){t._currentValue=Of.current,$(Of)}function Df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Mf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var C=0;C<i.length;C++)if(S.context===i[C]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Df(d.return,a,t),l||(v=null);break e}d=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Df(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ra(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=f.type;_n(f.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(f===Be.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}f=f.return}t!==null&&Mf(i,t,a,l),i.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function kr(t){Mr=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Cg(Mr,t)}function Ju(t,i){return Mr===null&&kr(t),Cg(t,i)}function Cg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(t===null)throw Error(s(308));qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else qi=qi.next=i;return a}var zT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},BT=r.unstable_scheduleCallback,qT=r.unstable_NormalPriority,wt={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new zT,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&BT(qT,function(){t.controller.abort()})}var el=null,Vf=0,Na=0,Ca=null;function HT(t,i){if(el===null){var a=el=[];Vf=0,Na=Pd(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,i.then(Ig,Ig),i}function Ig(){if(--Vf===0&&el!==null){Ca!==null&&(Ca.status="fulfilled");var t=el;el=null,Na=0,Ca=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function FT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Og=K.S;K.S=function(t,i){m_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&HT(t,i),Og!==null&&Og(t,i)};var Vr=M(null);function jf(){var t=Vr.current;return t!==null?t:nt.pooledCache}function Zu(t,i){i===null?ne(Vr,Vr.current):ne(Vr,i.pool)}function Dg(){var t=jf();return t===null?null:{parent:wt._currentValue,pool:t}}var Ia=Error(s(460)),Lf=Error(s(474)),Wu=Error(s(542)),ec={then:function(){}};function Mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function kg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jg(t),t;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jg(t),t}throw Lr=i,Ia}}function jr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Lr=a,Ia):a}}var Lr=null;function Vg(){if(Lr===null)throw Error(s(459));var t=Lr;return Lr=null,t}function jg(t){if(t===Ia||t===Wu)throw Error(s(483))}var Oa=null,tl=0;function tc(t){var i=tl;return tl+=1,Oa===null&&(Oa=[]),kg(Oa,t,i)}function nl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function nc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Lg(t){function i(L,k){if(t){var U=L.deletions;U===null?(L.deletions=[k],L.flags|=16):U.push(k)}}function a(L,k){if(!t)return null;for(;k!==null;)i(L,k),k=k.sibling;return null}function l(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function f(L,k){return L=zi(L,k),L.index=0,L.sibling=null,L}function d(L,k,U){return L.index=U,t?(U=L.alternate,U!==null?(U=U.index,U<k?(L.flags|=67108866,k):U):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,k,U,Y){return k===null||k.tag!==6?(k=wf(U,L.mode,Y),k.return=L,k):(k=f(k,U),k.return=L,k)}function C(L,k,U,Y){var fe=U.type;return fe===H?Q(L,k,U.props.children,Y,U.key):k!==null&&(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&jr(fe)===k.type)?(k=f(k,U.props),nl(k,U),k.return=L,k):(k=$u(U.type,U.key,U.props,null,L.mode,Y),nl(k,U),k.return=L,k)}function z(L,k,U,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=Af(U,L.mode,Y),k.return=L,k):(k=f(k,U.children||[]),k.return=L,k)}function Q(L,k,U,Y,fe){return k===null||k.tag!==7?(k=Or(U,L.mode,Y,fe),k.return=L,k):(k=f(k,U),k.return=L,k)}function J(L,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=wf(""+k,L.mode,U),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case j:return U=$u(k.type,k.key,k.props,null,L.mode,U),nl(U,k),U.return=L,U;case q:return k=Af(k,L.mode,U),k.return=L,k;case R:return k=jr(k),J(L,k,U)}if(ot(k)||V(k))return k=Or(k,L.mode,U,null),k.return=L,k;if(typeof k.then=="function")return J(L,tc(k),U);if(k.$$typeof===ue)return J(L,Ju(L,k),U);nc(L,k)}return null}function B(L,k,U,Y){var fe=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return fe!==null?null:S(L,k,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return U.key===fe?C(L,k,U,Y):null;case q:return U.key===fe?z(L,k,U,Y):null;case R:return U=jr(U),B(L,k,U,Y)}if(ot(U)||V(U))return fe!==null?null:Q(L,k,U,Y,null);if(typeof U.then=="function")return B(L,k,tc(U),Y);if(U.$$typeof===ue)return B(L,k,Ju(L,U),Y);nc(L,U)}return null}function G(L,k,U,Y,fe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(U)||null,S(k,L,""+Y,fe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return L=L.get(Y.key===null?U:Y.key)||null,C(k,L,Y,fe);case q:return L=L.get(Y.key===null?U:Y.key)||null,z(k,L,Y,fe);case R:return Y=jr(Y),G(L,k,U,Y,fe)}if(ot(Y)||V(Y))return L=L.get(U)||null,Q(k,L,Y,fe,null);if(typeof Y.then=="function")return G(L,k,U,tc(Y),fe);if(Y.$$typeof===ue)return G(L,k,U,Ju(k,Y),fe);nc(k,Y)}return null}function ae(L,k,U,Y){for(var fe=null,Fe=null,ce=k,Ce=k=0,je=null;ce!==null&&Ce<U.length;Ce++){ce.index>Ce?(je=ce,ce=null):je=ce.sibling;var Ge=B(L,ce,U[Ce],Y);if(Ge===null){ce===null&&(ce=je);break}t&&ce&&Ge.alternate===null&&i(L,ce),k=d(Ge,k,Ce),Fe===null?fe=Ge:Fe.sibling=Ge,Fe=Ge,ce=je}if(Ce===U.length)return a(L,ce),ze&&Bi(L,Ce),fe;if(ce===null){for(;Ce<U.length;Ce++)ce=J(L,U[Ce],Y),ce!==null&&(k=d(ce,k,Ce),Fe===null?fe=ce:Fe.sibling=ce,Fe=ce);return ze&&Bi(L,Ce),fe}for(ce=l(ce);Ce<U.length;Ce++)je=G(ce,L,Ce,U[Ce],Y),je!==null&&(t&&je.alternate!==null&&ce.delete(je.key===null?Ce:je.key),k=d(je,k,Ce),Fe===null?fe=je:Fe.sibling=je,Fe=je);return t&&ce.forEach(function(Bs){return i(L,Bs)}),ze&&Bi(L,Ce),fe}function me(L,k,U,Y){if(U==null)throw Error(s(151));for(var fe=null,Fe=null,ce=k,Ce=k=0,je=null,Ge=U.next();ce!==null&&!Ge.done;Ce++,Ge=U.next()){ce.index>Ce?(je=ce,ce=null):je=ce.sibling;var Bs=B(L,ce,Ge.value,Y);if(Bs===null){ce===null&&(ce=je);break}t&&ce&&Bs.alternate===null&&i(L,ce),k=d(Bs,k,Ce),Fe===null?fe=Bs:Fe.sibling=Bs,Fe=Bs,ce=je}if(Ge.done)return a(L,ce),ze&&Bi(L,Ce),fe;if(ce===null){for(;!Ge.done;Ce++,Ge=U.next())Ge=J(L,Ge.value,Y),Ge!==null&&(k=d(Ge,k,Ce),Fe===null?fe=Ge:Fe.sibling=Ge,Fe=Ge);return ze&&Bi(L,Ce),fe}for(ce=l(ce);!Ge.done;Ce++,Ge=U.next())Ge=G(ce,L,Ce,Ge.value,Y),Ge!==null&&(t&&Ge.alternate!==null&&ce.delete(Ge.key===null?Ce:Ge.key),k=d(Ge,k,Ce),Fe===null?fe=Ge:Fe.sibling=Ge,Fe=Ge);return t&&ce.forEach(function(tx){return i(L,tx)}),ze&&Bi(L,Ce),fe}function tt(L,k,U,Y){if(typeof U=="object"&&U!==null&&U.type===H&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case j:e:{for(var fe=U.key;k!==null;){if(k.key===fe){if(fe=U.type,fe===H){if(k.tag===7){a(L,k.sibling),Y=f(k,U.props.children),Y.return=L,L=Y;break e}}else if(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&jr(fe)===k.type){a(L,k.sibling),Y=f(k,U.props),nl(Y,U),Y.return=L,L=Y;break e}a(L,k);break}else i(L,k);k=k.sibling}U.type===H?(Y=Or(U.props.children,L.mode,Y,U.key),Y.return=L,L=Y):(Y=$u(U.type,U.key,U.props,null,L.mode,Y),nl(Y,U),Y.return=L,L=Y)}return v(L);case q:e:{for(fe=U.key;k!==null;){if(k.key===fe)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(L,k.sibling),Y=f(k,U.children||[]),Y.return=L,L=Y;break e}else{a(L,k);break}else i(L,k);k=k.sibling}Y=Af(U,L.mode,Y),Y.return=L,L=Y}return v(L);case R:return U=jr(U),tt(L,k,U,Y)}if(ot(U))return ae(L,k,U,Y);if(V(U)){if(fe=V(U),typeof fe!="function")throw Error(s(150));return U=fe.call(U),me(L,k,U,Y)}if(typeof U.then=="function")return tt(L,k,tc(U),Y);if(U.$$typeof===ue)return tt(L,k,Ju(L,U),Y);nc(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(L,k.sibling),Y=f(k,U),Y.return=L,L=Y):(a(L,k),Y=wf(U,L.mode,Y),Y.return=L,L=Y),v(L)):a(L,k)}return function(L,k,U,Y){try{tl=0;var fe=tt(L,k,U,Y);return Oa=null,fe}catch(ce){if(ce===Ia||ce===Wu)throw ce;var Fe=vn(29,ce,null,L.mode);return Fe.lanes=Y,Fe.return=L,Fe}}}var Pr=Lg(!0),Pg=Lg(!1),xs=!1;function Pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ws(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function As(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Qu(t),Eg(t,null,a),i}return Ku(t,l,i,a),Qu(t)}function il(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Io(t,a)}}function zf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Bf=!1;function sl(){if(Bf){var t=Ca;if(t!==null)throw t}}function rl(t,i,a,l){Bf=!1;var f=t.updateQueue;xs=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var C=S,z=C.next;C.next=null,v===null?d=z:v.next=z,v=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==v&&(S===null?Q.firstBaseUpdate=z:S.next=z,Q.lastBaseUpdate=C))}if(d!==null){var J=f.baseState;v=0,Q=z=C=null,S=d;do{var B=S.lane&-536870913,G=B!==S.lane;if(G?(Ve&B)===B:(l&B)===B){B!==0&&B===Na&&(Bf=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ae=t,me=S;B=i;var tt=a;switch(me.tag){case 1:if(ae=me.payload,typeof ae=="function"){J=ae.call(tt,J,B);break e}J=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=me.payload,B=typeof ae=="function"?ae.call(tt,J,B):ae,B==null)break e;J=T({},J,B);break e;case 2:xs=!0}}B=S.callback,B!==null&&(t.flags|=64,G&&(t.flags|=8192),G=f.callbacks,G===null?f.callbacks=[B]:G.push(B))}else G={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(z=Q=G,C=J):Q=Q.next=G,v|=B;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Q===null&&(C=J),f.baseState=C,f.firstBaseUpdate=z,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),Os|=v,t.lanes=v,t.memoizedState=J}}function Ug(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function zg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ug(a[t],i)}var Da=M(null),ic=M(0);function Bg(t,i){t=Zi,ne(ic,t),ne(Da,i),Zi=t|i.baseLanes}function qf(){ne(ic,Zi),ne(Da,Da.current)}function Hf(){Zi=ic.current,$(Da),$(ic)}var bn=M(null),jn=null;function Rs(t){var i=t.alternate;ne(yt,yt.current&1),ne(bn,t),jn===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(jn=t)}function Ff(t){ne(yt,yt.current),ne(bn,t),jn===null&&(jn=t)}function qg(t){t.tag===22?(ne(yt,yt.current),ne(bn,t),jn===null&&(jn=t)):Ns()}function Ns(){ne(yt,yt.current),ne(bn,bn.current)}function En(t){$(bn),jn===t&&(jn=null),$(yt)}var yt=M(0);function sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Xd(a)||Jd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,Re=null,We=null,At=null,rc=!1,Ma=!1,Ur=!1,ac=0,al=0,ka=null,GT=0;function ft(){throw Error(s(321))}function Gf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function Kf(t,i,a,l,f,d){return Fi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?wy:od,Ur=!1,d=a(l,f),Ur=!1,Ma&&(d=Fg(i,a,l,f)),Hg(t),d}function Hg(t){K.H=ul;var i=We!==null&&We.next!==null;if(Fi=0,At=We=Re=null,rc=!1,al=0,ka=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&Xu(t)&&(Rt=!0))}function Fg(t,i,a,l){Re=t;var f=0;do{if(Ma&&(ka=null),al=0,Ma=!1,25<=f)throw Error(s(301));if(f+=1,At=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Ay,d=i(a,l)}while(Ma);return d}function KT(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?ol(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Re.flags|=1024),i}function Qf(){var t=ac!==0;return ac=0,t}function $f(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Yf(t){if(rc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}rc=!1}Fi=0,At=We=Re=null,Ma=!1,al=ac=0,ka=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Re.memoizedState=At=t:At=At.next=t,At}function _t(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=At===null?Re.memoizedState:At.next;if(i!==null)At=i,We=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},At===null?Re.memoizedState=At=t:At=At.next=t}return At}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var i=al;return al+=1,ka===null&&(ka=[]),t=kg(ka,t,i),i=Re,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?wy:od),t}function lc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===ue)return Gt(t)}throw Error(s(438,String(t)))}function Xf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=oc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=D;return i.index++,a}function Gi(t,i){return typeof i=="function"?i(t):i}function uc(t){var i=_t();return Jf(i,We,t)}function Jf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=v=null,C=null,z=i,Q=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Ve&J)===J:(Fi&J)===J){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===Na&&(Q=!0);else if((Fi&B)===B){z=z.next,B===Na&&(Q=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(S=C=J,v=d):C=C.next=J,Re.lanes|=B,Os|=B;J=z.action,Ur&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else B={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(S=C=B,v=d):C=C.next=B,Re.lanes|=J,Os|=J;z=z.next}while(z!==null&&z!==i);if(C===null?v=d:C.next=S,!_n(d,t.memoizedState)&&(Rt=!0,Q&&(a=Ca,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Zf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);_n(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Gg(t,i,a){var l=Re,f=_t(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!_n((We||f).memoizedState,a);if(v&&(f.memoizedState=a,Rt=!0),f=f.queue,td($g.bind(null,l,f,t),[t]),f.getSnapshot!==i||v||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Va(9,{destroy:void 0},Qg.bind(null,l,f,a,i),null),nt===null)throw Error(s(349));d||(Fi&127)!==0||Kg(l,i,a)}return a}function Kg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=oc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Qg(t,i,a,l){i.value=a,i.getSnapshot=l,Yg(i)&&Xg(t)}function $g(t,i,a){return a(function(){Yg(i)&&Xg(t)})}function Yg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function Xg(t){var i=Ir(t,2);i!==null&&dn(i,t,2)}function Wf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Ur){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},i}function Jg(t,i,a,l){return t.baseState=a,Jf(t,We,typeof l=="function"?l:Gi)}function QT(t,i,a,l,f){if(fc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Zg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Zg(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var S=a(f,l),C=K.S;C!==null&&C(v,S),Wg(t,i,S)}catch(z){ed(t,i,z)}finally{d!==null&&v.types!==null&&(d.types=v.types),K.T=d}}else try{d=a(f,l),Wg(t,i,d)}catch(z){ed(t,i,z)}}function Wg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ey(t,i,l)},function(l){return ed(t,i,l)}):ey(t,i,a)}function ey(t,i,a){i.status="fulfilled",i.value=a,ty(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Zg(t,a)))}function ed(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ty(i),i=i.next;while(i!==l)}t.action=null}function ty(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ny(t,i){return i}function iy(t,i){if(ze){var a=nt.formState;if(a!==null){e:{var l=Re;if(ze){if(st){t:{for(var f=st,d=Vn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Ln(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){st=Ln(f.nextSibling),l=f.data==="F!";break e}}Ts(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:i},a.queue=l,a=Ty.bind(null,Re,l),l.dispatch=a,l=Wf(!1),d=ad.bind(null,Re,!1,l.queue),l=rn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=QT.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function sy(t){var i=_t();return ry(i,We,t)}function ry(t,i,a){if(i=Jf(t,i,ny)[0],t=uc(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ol(i)}catch(v){throw v===Ia?Wu:v}else l=i;i=_t();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Va(9,{destroy:void 0},$T.bind(null,f,a),null)),[l,d,t]}function $T(t,i){t.action=i}function ay(t){var i=_t(),a=We;if(a!==null)return ry(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Va(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=oc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function oy(){return _t().memoizedState}function cc(t,i,a,l){var f=rn();Re.flags|=t,f.memoizedState=Va(1|i,{destroy:void 0},a,l===void 0?null:l)}function hc(t,i,a,l){var f=_t();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&Gf(l,We.memoizedState.deps)?f.memoizedState=Va(i,d,a,l):(Re.flags|=t,f.memoizedState=Va(1|i,d,a,l))}function ly(t,i){cc(8390656,8,t,i)}function td(t,i){hc(2048,8,t,i)}function YT(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=oc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function uy(t){var i=_t().memoizedState;return YT({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function cy(t,i){return hc(4,2,t,i)}function hy(t,i){return hc(4,4,t,i)}function fy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function dy(t,i,a){a=a!=null?a.concat([t]):null,hc(4,4,fy.bind(null,i,t),a)}function nd(){}function my(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Gf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function py(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Gf(i,l[1]))return l[0];if(l=t(),Ur){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l}function id(t,i,a){return a===void 0||(Fi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=g_(),Re.lanes|=t,Os|=t,a)}function gy(t,i,a,l){return _n(a,i)?a:Da.current!==null?(t=id(t,a,l),_n(t,i)||(Rt=!0),t):(Fi&42)===0||(Fi&1073741824)!==0&&(Ve&261930)===0?(Rt=!0,t.memoizedState=a):(t=g_(),Re.lanes|=t,Os|=t,i)}function yy(t,i,a,l,f){var d=ee.p;ee.p=d!==0&&8>d?d:8;var v=K.T,S={};K.T=S,ad(t,!1,i,a);try{var C=f(),z=K.S;if(z!==null&&z(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=FT(C,l);ll(t,i,Q,xn(t))}else ll(t,i,l,xn(t))}catch(J){ll(t,i,{then:function(){},status:"rejected",reason:J},xn())}finally{ee.p=d,v!==null&&S.types!==null&&(v.types=S.types),K.T=v}}function XT(){}function sd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=_y(t).queue;yy(t,f,i,he,a===null?XT:function(){return vy(t),a(l)})}function _y(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function vy(t){var i=_y(t);i.next===null&&(i=t.alternate.memoizedState),ll(t,i.next.queue,{},xn())}function rd(){return Gt(wl)}function by(){return _t().memoizedState}function Ey(){return _t().memoizedState}function JT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();t=ws(a);var l=As(i,t,a);l!==null&&(dn(l,i,a),il(l,i,a)),i={cache:kf()},t.payload=i;return}i=i.return}}function ZT(t,i,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fc(t)?Sy(i,a):(a=Sf(t,i,a,l),a!==null&&(dn(a,t,l),xy(a,i,l)))}function Ty(t,i,a){var l=xn();ll(t,i,a,l)}function ll(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fc(t))Sy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,a);if(f.hasEagerState=!0,f.eagerState=S,_n(S,v))return Ku(t,i,f,0),nt===null&&Gu(),!1}catch{}if(a=Sf(t,i,f,l),a!==null)return dn(a,t,l),xy(a,i,l),!0}return!1}function ad(t,i,a,l){if(l={lane:2,revertLane:Pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fc(t)){if(i)throw Error(s(479))}else i=Sf(t,a,l,2),i!==null&&dn(i,t,2)}function fc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Sy(t,i){Ma=rc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function xy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Io(t,a)}}var ul={readContext:Gt,use:lc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};ul.useEffectEvent=ft;var wy={readContext:Gt,use:lc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:ly,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,cc(4194308,4,fy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return cc(4194308,4,t,i)},useInsertionEffect:function(t,i){cc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Ur){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var f=a(i);if(Ur){An(!0);try{a(i)}finally{An(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=ZT.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Wf(t);var i=t.queue,a=Ty.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:nd,useDeferredValue:function(t,i){var a=rn();return id(a,t,i)},useTransition:function(){var t=Wf(!1);return t=yy.bind(null,Re,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=rn();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Ve&127)!==0||Kg(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,ly($g.bind(null,l,d,t),[t]),l.flags|=2048,Va(9,{destroy:void 0},Qg.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=nt.identifierPrefix;if(ze){var a=xi,l=Si;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ac++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=GT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:rd,useFormState:iy,useActionState:iy,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ad.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Xf,useCacheRefresh:function(){return rn().memoizedState=JT.bind(null,Re)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},od={readContext:Gt,use:lc,useCallback:my,useContext:Gt,useEffect:td,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:uc,useRef:oy,useState:function(){return uc(Gi)},useDebugValue:nd,useDeferredValue:function(t,i){var a=_t();return gy(a,We.memoizedState,t,i)},useTransition:function(){var t=uc(Gi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:Gg,useId:by,useHostTransitionStatus:rd,useFormState:sy,useActionState:sy,useOptimistic:function(t,i){var a=_t();return Jg(a,We,t,i)},useMemoCache:Xf,useCacheRefresh:Ey};od.useEffectEvent=uy;var Ay={readContext:Gt,use:lc,useCallback:my,useContext:Gt,useEffect:td,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:Zf,useRef:oy,useState:function(){return Zf(Gi)},useDebugValue:nd,useDeferredValue:function(t,i){var a=_t();return We===null?id(a,t,i):gy(a,We.memoizedState,t,i)},useTransition:function(){var t=Zf(Gi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:Gg,useId:by,useHostTransitionStatus:rd,useFormState:ay,useActionState:ay,useOptimistic:function(t,i){var a=_t();return We!==null?Jg(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xf,useCacheRefresh:Ey};Ay.useEffectEvent=uy;function ld(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ud={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=xn(),f=ws(l);f.payload=i,a!=null&&(f.callback=a),i=As(t,f,l),i!==null&&(dn(i,t,l),il(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=xn(),f=ws(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=As(t,f,l),i!==null&&(dn(i,t,l),il(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xn(),l=ws(a);l.tag=2,i!=null&&(l.callback=i),i=As(t,l,a),i!==null&&(dn(i,t,a),il(i,t,a))}};function Ry(t,i,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Yo(a,l)||!Yo(f,d):!0}function Ny(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ud.enqueueReplaceState(i,i.state,null)}function zr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Cy(t){Fu(t)}function Iy(t){console.error(t)}function Oy(t){Fu(t)}function dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Dy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cd(t,i,a){return a=ws(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(t,i)},a}function My(t){return t=ws(t),t.tag=3,t}function ky(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Dy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Dy(i,a,l),typeof f!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function WT(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ra(i,a,f,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?wc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ec?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vd(t,l,f)),!1;case 22:return a.flags|=65536,l===ec?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vd(t,l,f)),!1}throw Error(s(435,a.tag))}return Vd(t,l,f),wc(),!1}if(ze)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Cf&&(t=Error(s(422),{cause:l}),Zo(Dn(t,a)))):(l!==Cf&&(i=Error(s(423),{cause:l}),Zo(Dn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Dn(l,a),f=cd(t.stateNode,l,f),zf(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),yl===null?yl=[d]:yl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=cd(a.stateNode,l,t),zf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ds===null||!Ds.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=My(f),ky(f,t,a,l),zf(a,f),!1}a=a.return}while(a!==null);return!1}var hd=Error(s(461)),Rt=!1;function Kt(t,i,a,l){i.child=t===null?Pg(i,null,a,l):Pr(i,t.child,a,l)}function Vy(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return kr(i),l=Kf(t,i,a,v,d,f),S=Qf(),t!==null&&!Rt?($f(t,i,f),Ki(t,i,f)):(ze&&S&&Rf(i),i.flags|=1,Kt(t,i,l,f),i.child)}function jy(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ly(t,i,d,l,f)):(t=$u(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!vd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(v,l)&&t.ref===i.ref)return Ki(t,i,f)}return i.flags|=1,t=zi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ly(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(Yo(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,vd(t,f))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Ki(t,i,f)}return fd(t,i,a,l,f)}function Py(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return Uy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(i,d!==null?d.cachePool:null),d!==null?Bg(i,d):qf(),qg(i);else return l=i.lanes=536870912,Uy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Zu(i,d.cachePool),Bg(i,d),Ns(),i.memoizedState=null):(t!==null&&Zu(i,null),qf(),Ns());return Kt(t,i,f,a),i.child}function cl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Uy(t,i,a,l,f){var d=jf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Zu(i,null),qf(),qg(i),t!==null&&Ra(t,i,l,!0),i.childLanes=f,null}function mc(t,i){return i=gc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function zy(t,i,a){return Pr(i,t.child,null,a),t=mc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function eS(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=mc(i,l),i.lanes=536870912,cl(null,t);if(Ff(i),(t=st)?(t=Z_(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:bs!==null?{id:Si,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=Sg(t),a.return=i,i.child=a,Ft=i,st=null)):t=null,t===null)throw Ts(i);return i.lanes=536870912,null}return mc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Ff(i),f)if(i.flags&256)i.flags&=-257,i=zy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||Ra(t,i,a,!1),f=(a&t.childLanes)!==0,Rt||f){if(l=nt,l!==null&&(v=Oo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ir(t,v),dn(l,t,v),hd;wc(),i=zy(t,i,a)}else t=d.treeContext,st=Ln(v.nextSibling),Ft=i,ze=!0,Es=null,Vn=!1,t!==null&&Ag(i,t),i=mc(i,l),i.flags|=4096;return i}return t=zi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function pc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function fd(t,i,a,l,f){return kr(i),a=Kf(t,i,a,l,void 0,f),l=Qf(),t!==null&&!Rt?($f(t,i,f),Ki(t,i,f)):(ze&&l&&Rf(i),i.flags|=1,Kt(t,i,a,f),i.child)}function By(t,i,a,l,f,d){return kr(i),i.updateQueue=null,a=Fg(i,l,a,f),Hg(t),l=Qf(),t!==null&&!Rt?($f(t,i,d),Ki(t,i,d)):(ze&&l&&Rf(i),i.flags|=1,Kt(t,i,a,d),i.child)}function qy(t,i,a,l,f){if(kr(i),i.stateNode===null){var d=Sa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Gt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ud,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Pf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Gt(v):Sa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ld(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ud.enqueueReplaceState(d,d.state,null),rl(i,l,d,f),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,C=zr(a,S);d.props=C;var z=d.context,Q=a.contextType;v=Sa,typeof Q=="object"&&Q!==null&&(v=Gt(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||z!==v)&&Ny(i,d,l,v),xs=!1;var B=i.memoizedState;d.state=B,rl(i,l,d,f),sl(),z=i.memoizedState,S||B!==z||xs?(typeof J=="function"&&(ld(i,a,J,l),z=i.memoizedState),(C=xs||Ry(i,a,C,l,B,z,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Uf(t,i),v=i.memoizedProps,Q=zr(a,v),d.props=Q,J=i.pendingProps,B=d.context,z=a.contextType,C=Sa,typeof z=="object"&&z!==null&&(C=Gt(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||B!==C)&&Ny(i,d,l,C),xs=!1,B=i.memoizedState,d.state=B,rl(i,l,d,f),sl();var G=i.memoizedState;v!==J||B!==G||xs||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof S=="function"&&(ld(i,a,S,l),G=i.memoizedState),(Q=xs||Ry(i,a,Q,l,B,G,C)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=C,l=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,pc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Pr(i,t.child,null,f),i.child=Pr(i,null,a,f)):Kt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Ki(t,i,f),t}function Hy(t,i,a,l){return Dr(),i.flags|=256,Kt(t,i,a,l),i.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(t){return{baseLanes:t,cachePool:Dg()}}function pd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function Fy(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(f?Rs(i):Ns(),(t=st)?(t=Z_(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:bs!==null?{id:Si,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=Sg(t),a.return=i,i.child=a,Ft=i,st=null)):t=null,t===null)throw Ts(i);return Jd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Ns(),f=i.mode,S=gc({mode:"hidden",children:S},f),l=Or(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=md(a),l.childLanes=pd(t,v,a),i.memoizedState=dd,cl(null,l)):(Rs(i),gd(i,S))}var C=t.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(d)i.flags&256?(Rs(i),i.flags&=-257,i=yd(t,i,a)):i.memoizedState!==null?(Ns(),i.child=t.child,i.flags|=128,i=null):(Ns(),S=l.fallback,f=i.mode,l=gc({mode:"visible",children:l.children},f),S=Or(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Pr(i,t.child,null,a),l=i.child,l.memoizedState=md(a),l.childLanes=pd(t,v,a),i.memoizedState=dd,i=cl(null,l));else if(Rs(i),Jd(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,Zo({value:l,source:null,stack:null}),i=yd(t,i,a)}else if(Rt||Ra(t,i,a,!1),v=(a&t.childLanes)!==0,Rt||v){if(v=nt,v!==null&&(l=Oo(v,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Ir(t,l),dn(v,t,l),hd;Xd(S)||wc(),i=yd(t,i,a)}else Xd(S)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,st=Ln(S.nextSibling),Ft=i,ze=!0,Es=null,Vn=!1,t!==null&&Ag(i,t),i=gd(i,l.children),i.flags|=4096);return i}return f?(Ns(),S=l.fallback,f=i.mode,C=t.child,z=C.sibling,l=zi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?S=zi(z,S):(S=Or(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,cl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=md(a):(f=S.cachePool,f!==null?(C=wt._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=Dg(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=pd(t,v,a),i.memoizedState=dd,cl(t.child,l)):(Rs(i),a=t.child,t=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function gd(t,i){return i=gc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function gc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function yd(t,i,a){return Pr(i,t.child,null,a),t=gd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Gy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Df(t.return,i,a)}function _d(t,i,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function Ky(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=yt.current,S=(v&2)!==0;if(S?(v=v&1|2,i.flags|=128):v&=1,ne(yt,v),Kt(t,i,l,a),l=ze?Jo:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gy(t,a,i);else if(t.tag===19)Gy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&sc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),_d(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&sc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}_d(i,!0,a,null,d,l);break;case"together":_d(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Os|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ra(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function vd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function tS(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),Ss(i,wt,t.memoizedState.cache),Dr();break;case 27:case 5:fr(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:Ss(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ff(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Rs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Fy(t,i,a):(Rs(i),t=Ki(t,i,a),t!==null?t.sibling:null);Rs(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ra(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return Ky(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ne(yt,yt.current),l)break;return null;case 22:return i.lanes=0,Py(t,i,a,i.pendingProps);case 24:Ss(i,wt,t.memoizedState.cache)}return Ki(t,i,a)}function Qy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!vd(t,a)&&(i.flags&128)===0)return Rt=!1,tS(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,ze&&(i.flags&1048576)!==0&&wg(i,Jo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=jr(i.elementType),i.type=t,typeof t=="function")xf(t)?(l=zr(t,l),i.tag=1,i=qy(null,i,t,l,a)):(i.tag=0,i=fd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===_e){i.tag=11,i=Vy(null,i,t,l,a);break e}else if(f===I){i.tag=14,i=jy(null,i,t,l,a);break e}}throw i=Oe(t)||t,Error(s(306,i,""))}}return i;case 0:return fd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=zr(l,i.pendingProps),qy(t,i,l,f,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Uf(t,i),rl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Ss(i,wt,l),l!==d.cache&&Mf(i,[wt],a,!0),sl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Hy(t,i,l,a);break e}else if(l!==f){f=Dn(Error(s(424)),i),Zo(f),i=Hy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,st=Ln(t.firstChild),Ft=i,ze=!0,Es=null,Vn=!0,a=Pg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Dr(),l===f){i=Ki(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return pc(t,i),t===null?(a=s0(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Dc(Ne.current).createElement(a),l[Tt]=i,l[Lt]=t,Qt(l,a,t),St(l),i.stateNode=l):i.memoizedState=s0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return fr(i),t===null&&ze&&(l=i.stateNode=t0(i.type,i.pendingProps,Ne.current),Ft=i,Vn=!0,f=st,js(i.type)?(Zd=f,st=Ln(l.firstChild)):st=f),Kt(t,i,i.pendingProps.children,a),pc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((f=l=st)&&(l=OS(l,i.type,i.pendingProps,Vn),l!==null?(i.stateNode=l,Ft=i,st=Ln(l.firstChild),Vn=!1,f=!0):f=!1),f||Ts(i)),fr(i),f=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Qd(f,d)?l=null:v!==null&&Qd(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=Kf(t,i,KT,null,null,a),wl._currentValue=f),pc(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=st)&&(a=DS(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,Ft=i,st=null,t=!0):t=!1),t||Ts(i)),null;case 13:return Fy(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Pr(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return Vy(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ss(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,kr(i),f=Gt(f),l=l(f),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return jy(t,i,i.type,i.pendingProps,a);case 15:return Ly(t,i,i.type,i.pendingProps,a);case 19:return Ky(t,i,a);case 31:return eS(t,i,a);case 22:return Py(t,i,a,i.pendingProps);case 24:return kr(i),l=Gt(wt),t===null?(f=jf(),f===null&&(f=nt,d=kf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Pf(i),Ss(i,wt,f)):((t.lanes&a)!==0&&(Uf(t,i),rl(i,null,null,a),sl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ss(i,wt,l)):(l=d.cache,Ss(i,wt,l),l!==f.cache&&Mf(i,[wt],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qi(t){t.flags|=4}function bd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(b_())t.flags|=8192;else throw Lr=ec,Lf}else t.flags&=-16777217}function $y(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!u0(i))if(b_())t.flags|=8192;else throw Lr=ec,Lf}function yc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Su():536870912,t.lanes|=i,Ua|=i)}function hl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function nS(t,i,a){var l=i.pendingProps;switch(Nf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(wt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Aa(i)?Qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,If())),rt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Qi(i),d!==null?(rt(i),$y(i,d)):(rt(i),bd(i,f,null,l,a))):d?d!==t.memoizedState?(Qi(i),rt(i),$y(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qi(i),rt(i),bd(i,f,t,l,a)),null;case 27:if(sa(i),a=Ne.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=se.current,Aa(i)?Rg(i):(t=t0(f,l,a),i.stateNode=t,Qi(i))}return rt(i),null;case 5:if(sa(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(d=se.current,Aa(i))Rg(i);else{var v=Dc(Ne.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[Tt]=i,d[Lt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Qt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qi(i)}}return rt(i),bd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ne.current,Aa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Ft,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||F_(t.nodeValue,a)),t||Ts(i,!0)}else t=Dc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Aa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Dr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Aa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Tt]=i}else Dr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else f=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),yc(i,i.updateQueue),rt(i),null);case 4:return lt(),t===null&&qd(i.stateNode.containerInfo),rt(i),null;case 10:return Hi(i.type),rt(i),null;case 19:if($(yt),l=i.memoizedState,l===null)return rt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)hl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=sc(t),d!==null){for(i.flags|=128,hl(l,!1),t=d.updateQueue,i.updateQueue=t,yc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Tg(a,t),a=a.sibling;return ne(yt,yt.current&1|2),ze&&Bi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>Tc&&(i.flags|=128,f=!0,hl(l,!1),i.lanes=4194304)}else{if(!f)if(t=sc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,yc(i,t),hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return rt(i),null}else 2*nn()-l.renderingStartTime>Tc&&a!==536870912&&(i.flags|=128,f=!0,hl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=yt.current,ne(yt,f?a&1|2:a&1),ze&&Bi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return En(i),Hf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&yc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&$(Vr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(wt),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function iS(t,i){switch(Nf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Hi(wt),lt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return sa(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(s(340));Dr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Dr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(yt),null;case 4:return lt(),null;case 10:return Hi(i.type),null;case 22:case 23:return En(i),Hf(),t!==null&&$(Vr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Hi(wt),null;case 25:return null;default:return null}}function Yy(t,i){switch(Nf(i),i.tag){case 3:Hi(wt),lt();break;case 26:case 27:case 5:sa(i);break;case 4:lt();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:$(yt);break;case 10:Hi(i.type);break;case 22:case 23:En(i),Hf(),t!==null&&$(Vr);break;case 24:Hi(wt)}}function fl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(S){Je(i,i.return,S)}}function Cs(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=i;var C=a,z=S;try{z()}catch(Q){Je(f,C,Q)}}}l=l.next}while(l!==d)}}catch(Q){Je(i,i.return,Q)}}function Xy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{zg(i,a)}catch(l){Je(t,t.return,l)}}}function Jy(t,i,a){a.props=zr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function dl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Je(t,i,f)}}function wi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(t,i,f)}else a.current=null}function Zy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(t,t.return,f)}}function Ed(t,i,a){try{var l=t.stateNode;wS(l,t.type,a,i),l[Lt]=i}catch(f){Je(t,t.return,f)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&js(t.type)||t.tag===4}function Td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&js(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Sd(t,i,a),t=t.sibling;t!==null;)Sd(t,i,a),t=t.sibling}function _c(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&js(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_c(t,i,a),t=t.sibling;t!==null;)_c(t,i,a),t=t.sibling}function e_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Qt(i,l,a),i[Tt]=t,i[Lt]=a}catch(d){Je(t,t.return,d)}}var $i=!1,Nt=!1,xd=!1,t_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function sS(t,i){if(t=t.containerInfo,Gd=Uc,t=dg(t),yf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,C=-1,z=0,Q=0,J=t,B=null;t:for(;;){for(var G;J!==a||f!==0&&J.nodeType!==3||(S=v+f),J!==d||l!==0&&J.nodeType!==3||(C=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(G=J.firstChild)!==null;)B=J,J=G;for(;;){if(J===t)break t;if(B===a&&++z===f&&(S=v),B===d&&++Q===l&&(C=v),(G=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=G}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kd={focusedElem:t,selectionRange:a},Uc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ae=zr(a.type,f);t=l.getSnapshotBeforeUpdate(ae,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(me){Je(a,a.return,me)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function n_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(t,a),l&4&&fl(5,a);break;case 1:if(Xi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var f=zr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}l&64&&Xy(a),l&512&&dl(a,a.return);break;case 3:if(Xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{zg(t,i)}catch(v){Je(a,a.return,v)}}break;case 27:i===null&&l&4&&e_(a);case 26:case 5:Xi(t,a),i===null&&l&4&&Zy(a),l&512&&dl(a,a.return);break;case 12:Xi(t,a);break;case 31:Xi(t,a),l&4&&r_(t,a);break;case 13:Xi(t,a),l&4&&a_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=dS.bind(null,a),MS(t,a))));break;case 22:if(l=a.memoizedState!==null||$i,!l){i=i!==null&&i.memoizedState!==null||Nt,f=$i;var d=Nt;$i=l,(Nt=i)&&!d?Ji(t,a,(a.subtreeFlags&8772)!==0):Xi(t,a),$i=f,Nt=d}break;case 30:break;default:Xi(t,a)}}function i_(t){var i=t.alternate;i!==null&&(t.alternate=null,i_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ua(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,un=!1;function Yi(t,i,a){for(a=a.child;a!==null;)s_(t,i,a),a=a.sibling}function s_(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Nt||wi(a,i),Yi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||wi(a,i);var l=ct,f=un;js(a.type)&&(ct=a.stateNode,un=!1),Yi(t,i,a),Tl(a.stateNode),ct=l,un=f;break;case 5:Nt||wi(a,i);case 6:if(l=ct,f=un,ct=null,Yi(t,i,a),ct=l,un=f,ct!==null)if(un)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:ct!==null&&(un?(t=ct,X_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qa(t)):X_(ct,a.stateNode));break;case 4:l=ct,f=un,ct=a.stateNode.containerInfo,un=!0,Yi(t,i,a),ct=l,un=f;break;case 0:case 11:case 14:case 15:Cs(2,a,i),Nt||Cs(4,a,i),Yi(t,i,a);break;case 1:Nt||(wi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Jy(a,i,l)),Yi(t,i,a);break;case 21:Yi(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,Yi(t,i,a),Nt=l;break;default:Yi(t,i,a)}}function r_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(a){Je(i,i.return,a)}}}function a_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(a){Je(i,i.return,a)}}function rS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new t_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new t_),i;default:throw Error(s(435,t.tag))}}function vc(t,i){var a=rS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=mS.bind(null,t,l);l.then(f,f)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(js(S.type)){ct=S.stateNode,un=!1;break e}break;case 5:ct=S.stateNode,un=!1;break e;case 3:case 4:ct=S.stateNode.containerInfo,un=!0;break e}S=S.return}if(ct===null)throw Error(s(160));s_(d,v,f),ct=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)o_(i,t),i=i.sibling}var Wn=null;function o_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(Cs(3,t,t.return),fl(3,t),Cs(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(Nt||a===null||wi(a,a.return)),l&64&&$i&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Wn;if(cn(i,t),hn(t),l&512&&(Nt||a===null||wi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[hi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Qt(d,l,a),d[Tt]=t,St(d),l=d;break e;case"link":var v=o0("link","href",f).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=o0("meta","content",f).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,St(d),l=d}t.stateNode=l}else l0(f,t.type,t.stateNode);else t.stateNode=a0(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?l0(f,t.type,t.stateNode):a0(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(Nt||a===null||wi(a,a.return)),a!==null&&l&4&&Ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(Nt||a===null||wi(a,a.return)),t.flags&32){f=t.stateNode;try{ln(f,"")}catch(ae){Je(t,t.return,ae)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Ed(t,f,a!==null?a.memoizedProps:f)),l&1024&&(xd=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ae){Je(t,t.return,ae)}}break;case 3:if(Vc=null,f=Wn,Wn=Mc(i.containerInfo),cn(i,t),Wn=f,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(ae){Je(t,t.return,ae)}xd&&(xd=!1,l_(t));break;case 4:l=Wn,Wn=Mc(t.stateNode.containerInfo),cn(i,t),hn(t),Wn=l;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vc(t,l)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ec=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vc(t,l)));break;case 22:f=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=$i,Q=Nt;if($i=z||f,Nt=Q||C,cn(i,t),Nt=Q,$i=z,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||C||$i||Nt||Br(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=C.stateNode;var J=C.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ae){Je(C,C.return,ae)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(ae){Je(C,C.return,ae)}}}else if(i.tag===18){if(a===null){C=i;try{var G=C.stateNode;f?J_(G,!0):J_(C.stateNode,!1)}catch(ae){Je(C,C.return,ae)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vc(t,a))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vc(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Wy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Td(t);_c(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(ln(v,""),a.flags&=-33);var S=Td(t);_c(t,S,v);break;case 3:case 4:var C=a.stateNode.containerInfo,z=Td(t);Sd(t,z,C);break;default:throw Error(s(161))}}catch(Q){Je(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function l_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;l_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)n_(t,i.alternate,i),i=i.sibling}function Br(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Cs(4,i,i.return),Br(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Jy(i,i.return,a),Br(i);break;case 27:Tl(i.stateNode);case 26:case 5:wi(i,i.return),Br(i);break;case 22:i.memoizedState===null&&Br(i);break;case 30:Br(i);break;default:Br(i)}t=t.sibling}}function Ji(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ji(f,d,a),fl(4,d);break;case 1:if(Ji(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Je(l,l.return,z)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Ug(C[f],S)}catch(z){Je(l,l.return,z)}}a&&v&64&&Xy(d),dl(d,d.return);break;case 27:e_(d);case 26:case 5:Ji(f,d,a),a&&l===null&&v&4&&Zy(d),dl(d,d.return);break;case 12:Ji(f,d,a);break;case 31:Ji(f,d,a),a&&v&4&&r_(f,d);break;case 13:Ji(f,d,a),a&&v&4&&a_(f,d);break;case 22:d.memoizedState===null&&Ji(f,d,a),dl(d,d.return);break;case 30:break;default:Ji(f,d,a)}i=i.sibling}}function wd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function Ad(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t))}function ei(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u_(t,i,a,l),i=i.sibling}function u_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,a,l),f&2048&&fl(9,i);break;case 1:ei(t,i,a,l);break;case 3:ei(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t)));break;case 12:if(f&2048){ei(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Je(i,i.return,C)}}else ei(t,i,a,l);break;case 31:ei(t,i,a,l);break;case 13:ei(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,a,l):ml(t,i):d._visibility&2?ei(t,i,a,l):(d._visibility|=2,ja(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&wd(v,i);break;case 24:ei(t,i,a,l),f&2048&&Ad(i.alternate,i);break;default:ei(t,i,a,l)}}function ja(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,S=a,C=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:ja(d,v,S,C,f),fl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?ja(d,v,S,C,f):ml(d,v):(Q._visibility|=2,ja(d,v,S,C,f)),f&&z&2048&&wd(v.alternate,v);break;case 24:ja(d,v,S,C,f),f&&z&2048&&Ad(v.alternate,v);break;default:ja(d,v,S,C,f)}i=i.sibling}}function ml(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:ml(a,l),f&2048&&wd(l.alternate,l);break;case 24:ml(a,l),f&2048&&Ad(l.alternate,l);break;default:ml(a,l)}i=i.sibling}}var pl=8192;function La(t,i,a){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)c_(t,i,a),t=t.sibling}function c_(t,i,a){switch(t.tag){case 26:La(t,i,a),t.flags&pl&&t.memoizedState!==null&&GS(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:La(t,i,a);break;case 3:case 4:var l=Wn;Wn=Mc(t.stateNode.containerInfo),La(t,i,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=pl,pl=16777216,La(t,i,a),pl=l):La(t,i,a));break;default:La(t,i,a)}}function h_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function gl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,d_(l,t)}h_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)f_(t),t=t.sibling}function f_(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Cs(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,bc(t)):gl(t);break;default:gl(t)}}function bc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,d_(l,t)}h_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Cs(8,i,i.return),bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,bc(i));break;default:bc(i)}t=t.sibling}}function d_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Cs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var f=l.sibling,d=l.return;if(i_(l),l===a){Ut=null;break e}if(f!==null){f.return=d,Ut=f;break e}Ut=d}}}var aS={getCacheForType:function(t){var i=Gt(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(wt).controller.signal}},oS=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,Me=null,Ve=0,Xe=0,Tn=null,Is=!1,Pa=!1,Rd=!1,Zi=0,dt=0,Os=0,qr=0,Nd=0,Sn=0,Ua=0,yl=null,fn=null,Cd=!1,Ec=0,m_=0,Tc=1/0,Sc=null,Ds=null,kt=0,Ms=null,za=null,Wi=0,Id=0,Od=null,p_=null,_l=0,Dd=null;function xn(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:K.T!==null?Pd():xu()}function g_(){if(Sn===0)if((Ve&536870912)===0||ze){var t=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),Sn=t}else Sn=536870912;return t=bn.current,t!==null&&(t.flags|=32),Sn}function dn(t,i,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),ks(t,Ve,Sn,!1)),gr(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(qr|=a),dt===4&&ks(t,Ve,Sn,!1)),Ai(t))}function y_(t,i,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),f=l?cS(t,i):kd(t,i,!0),d=l;do{if(f===0){Pa&&!l&&ks(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!lS(a)){f=kd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;f=yl;var C=S.current.memoizedState.isDehydrated;if(C&&(Ba(S,v).flags|=256),v=kd(S,v,!1),v!==2){if(Rd&&!C){S.errorRecoveryDisabledLanes|=d,qr|=d,f=4;break e}d=fn,fn=f,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Ba(t,0),ks(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ks(l,i,Sn,!Is);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Ec+300-nn(),10<f)){if(ks(l,i,Sn,!Is),li(l,0,!0)!==0)break e;Wi=i,l.timeoutHandle=$_(__.bind(null,l,a,fn,Sc,Cd,i,Sn,qr,Ua,Is,d,"Throttled",-0,0),f);break e}__(l,a,fn,Sc,Cd,i,Sn,qr,Ua,Is,d,null,-0,0)}}break}while(!0);Ai(t)}function __(t,i,a,l,f,d,v,S,C,z,Q,J,B,G){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},c_(i,d,J);var ae=(d&62914560)===d?Ec-nn():(d&4194048)===d?m_-nn():0;if(ae=KS(J,ae),ae!==null){Wi=d,t.cancelPendingCommit=ae(A_.bind(null,t,i,d,a,l,f,v,S,C,Q,J,null,B,G)),ks(t,d,v,!z);return}}A_(t,i,d,a,l,f,v,S,C)}function lS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ks(t,i,a,l){i&=~Nd,i&=~qr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-pt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&yr(t,a,i)}function xc(){return(Qe&6)===0?(vl(0),!1):!0}function Md(){if(Me!==null){if(Xe===0)var t=Me.return;else t=Me,qi=Mr=null,Yf(t),Oa=null,tl=0,t=Me;for(;t!==null;)Yy(t.alternate,t),t=t.return;Me=null}}function Ba(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,NS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Wi=0,Md(),nt=t,Me=a=zi(t.current,null),Ve=i,Xe=0,Tn=null,Is=!1,Pa=Fn(t,i),Rd=!1,Ua=Sn=Nd=qr=Os=dt=0,fn=yl=null,Cd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-pt(l),d=1<<f;i|=t[f],l&=~d}return Zi=i,Gu(),a}function v_(t,i){Re=null,K.H=ul,i===Ia||i===Wu?(i=Vg(),Xe=3):i===Lf?(i=Vg(),Xe=4):Xe=i===hd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Me===null&&(dt=1,dc(t,Dn(i,t.current)))}function b_(){var t=bn.current;return t===null?!0:(Ve&4194048)===Ve?jn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===jn:!1}function E_(){var t=K.H;return K.H=ul,t===null?ul:t}function T_(){var t=K.A;return K.A=aS,t}function wc(){dt=4,Is||(Ve&4194048)!==Ve&&bn.current!==null||(Pa=!0),(Os&134217727)===0&&(qr&134217727)===0||nt===null||ks(nt,Ve,Sn,!1)}function kd(t,i,a){var l=Qe;Qe|=2;var f=E_(),d=T_();(nt!==t||Ve!==i)&&(Sc=null,Ba(t,i)),i=!1;var v=dt;e:do try{if(Xe!==0&&Me!==null){var S=Me,C=Tn;switch(Xe){case 8:Md(),v=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var z=Xe;if(Xe=0,Tn=null,qa(t,S,C,z),a&&Pa){v=0;break e}break;default:z=Xe,Xe=0,Tn=null,qa(t,S,C,z)}}uS(),v=dt;break}catch(Q){v_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,qi=Mr=null,Qe=l,K.H=f,K.A=d,Me===null&&(nt=null,Ve=0,Gu()),v}function uS(){for(;Me!==null;)S_(Me)}function cS(t,i){var a=Qe;Qe|=2;var l=E_(),f=T_();nt!==t||Ve!==i?(Sc=null,Tc=nn()+500,Ba(t,i)):Pa=Fn(t,i);e:do try{if(Xe!==0&&Me!==null){i=Me;var d=Tn;t:switch(Xe){case 1:Xe=0,Tn=null,qa(t,i,d,1);break;case 2:case 9:if(Mg(d)){Xe=0,Tn=null,x_(i);break}i=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Ai(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Mg(d)?(Xe=0,Tn=null,x_(i)):(Xe=0,Tn=null,qa(t,i,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var S=Me;if(v?u0(v):S.stateNode.complete){Xe=0,Tn=null;var C=S.sibling;if(C!==null)Me=C;else{var z=S.return;z!==null?(Me=z,Ac(z)):Me=null}break t}}Xe=0,Tn=null,qa(t,i,d,5);break;case 6:Xe=0,Tn=null,qa(t,i,d,6);break;case 8:Md(),dt=6;break e;default:throw Error(s(462))}}hS();break}catch(Q){v_(t,Q)}while(!0);return qi=Mr=null,K.H=l,K.A=f,Qe=a,Me!==null?0:(nt=null,Ve=0,Gu(),dt)}function hS(){for(;Me!==null&&!cf();)S_(Me)}function S_(t){var i=Qy(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,i===null?Ac(t):Me=i}function x_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=By(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=By(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Yf(i);default:Yy(a,i),i=Me=Tg(i,Zi),i=Qy(a,i,Zi)}t.memoizedProps=t.pendingProps,i===null?Ac(t):Me=i}function qa(t,i,a,l){qi=Mr=null,Yf(i),Oa=null,tl=0;var f=i.return;try{if(WT(t,f,i,a,Ve)){dt=1,dc(t,Dn(a,t.current)),Me=null;return}}catch(d){if(f!==null)throw Me=f,d;dt=1,dc(t,Dn(a,t.current)),Me=null;return}i.flags&32768?(ze||l===1?t=!0:Pa||(Ve&536870912)!==0?t=!1:(Is=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),w_(i,t)):Ac(i)}function Ac(t){var i=t;do{if((i.flags&32768)!==0){w_(i,Is);return}t=i.return;var a=nS(i.alternate,i,Zi);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);dt===0&&(dt=5)}function w_(t,i){do{var a=iS(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);dt=6,Me=null}function A_(t,i,a,l,f,d,v,S,C){t.cancelPendingCommit=null;do Rc();while(kt!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Tf,df(t,a,d,v,S,C),t===nt&&(Me=nt=null,Ve=0),za=i,Ms=t,Wi=a,Id=d,Od=f,p_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pS(cs,function(){return O_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=ee.p,ee.p=2,v=Qe,Qe|=4;try{sS(t,i,a)}finally{Qe=v,ee.p=f,K.T=l}}kt=1,R_(),N_(),C_()}}function R_(){if(kt===1){kt=0;var t=Ms,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ee.p;ee.p=2;var f=Qe;Qe|=4;try{o_(i,t);var d=Kd,v=dg(t.containerInfo),S=d.focusedElem,C=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&fg(S.ownerDocument.documentElement,S)){if(C!==null&&yf(S)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(Q,S.value.length);else{var J=S.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var G=B.getSelection(),ae=S.textContent.length,me=Math.min(C.start,ae),tt=C.end===void 0?me:Math.min(C.end,ae);!G.extend&&me>tt&&(v=tt,tt=me,me=v);var L=hg(S,me),k=hg(S,tt);if(L&&k&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var U=J.createRange();U.setStart(L.node,L.offset),G.removeAllRanges(),me>tt?(G.addRange(U),G.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),G.addRange(U))}}}}for(J=[],G=S;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var Y=J[S];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Uc=!!Gd,Kd=Gd=null}finally{Qe=f,ee.p=l,K.T=a}}t.current=i,kt=2}}function N_(){if(kt===2){kt=0;var t=Ms,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ee.p;ee.p=2;var f=Qe;Qe|=4;try{n_(t,i.alternate,i)}finally{Qe=f,ee.p=l,K.T=a}}kt=3}}function C_(){if(kt===4||kt===3){kt=0,yu();var t=Ms,i=za,a=Wi,l=p_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,za=Ms=null,I_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ds=null),ji(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,f=ee.p,ee.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{K.T=i,ee.p=f}}(Wi&3)!==0&&Rc(),Ai(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Dd?_l++:(_l=0,Dd=t):_l=0,vl(0)}}function I_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Wo(i)))}function Rc(){return R_(),N_(),C_(),O_()}function O_(){if(kt!==5)return!1;var t=Ms,i=Id;Id=0;var a=ji(Wi),l=K.T,f=ee.p;try{ee.p=32>a?32:a,K.T=null,a=Od,Od=null;var d=Ms,v=Wi;if(kt=0,za=Ms=null,Wi=0,(Qe&6)!==0)throw Error(s(331));var S=Qe;if(Qe|=4,f_(d.current),u_(d,d.current,v,a),Qe=S,vl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{ee.p=f,K.T=l,I_(t,i)}}function D_(t,i,a){i=Dn(a,i),i=cd(t.stateNode,i,2),t=As(t,i,2),t!==null&&(gr(t,2),Ai(t))}function Je(t,i,a){if(t.tag===3)D_(t,t,a);else for(;i!==null;){if(i.tag===3){D_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ds===null||!Ds.has(l))){t=Dn(a,t),a=My(2),l=As(i,a,2),l!==null&&(ky(a,l,i,t),gr(l,2),Ai(l));break}}i=i.return}}function Vd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new oS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Rd=!0,f.add(a),t=fS.bind(null,t,i,a),i.then(t,t))}function fS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ve&a)===a&&(dt===4||dt===3&&(Ve&62914560)===Ve&&300>nn()-Ec?(Qe&2)===0&&Ba(t,0):Nd|=a,Ua===Ve&&(Ua=0)),Ai(t)}function M_(t,i){i===0&&(i=Su()),t=Ir(t,i),t!==null&&(gr(t,i),Ai(t))}function dS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),M_(t,a)}function mS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),M_(t,a)}function pS(t,i){return Mt(t,i)}var Nc=null,Ha=null,jd=!1,Cc=!1,Ld=!1,Vs=0;function Ai(t){t!==Ha&&t.next===null&&(Ha===null?Nc=Ha=t:Ha=Ha.next=t),Cc=!0,jd||(jd=!0,yS())}function vl(t,i){if(!Ld&&Cc){Ld=!0;do for(var a=!1,l=Nc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=f&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,L_(l,d))}else d=Ve,d=li(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(a=!0,L_(l,d));l=l.next}while(a);Ld=!1}}function gS(){k_()}function k_(){Cc=jd=!1;var t=0;Vs!==0&&RS()&&(t=Vs);for(var i=nn(),a=null,l=Nc;l!==null;){var f=l.next,d=V_(l,i);d===0?(l.next=null,a===null?Nc=f:a.next=f,f===null&&(Ha=a)):(a=l,(t!==0||(d&3)!==0)&&(Cc=!0)),l=f}kt!==0&&kt!==5||vl(t),Vs!==0&&(Vs=0)}function V_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-pt(d),S=1<<v,C=f[v];C===-1?((S&a)===0||(S&l)!==0)&&(f[v]=ff(S,i)):C<=i&&(t.expiredLanes|=S),d&=~S}if(i=nt,a=Ve,a=li(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&us(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&us(l),ji(a)){case 2:case 8:a=Co;break;case 32:a=cs;break;case 268435456:a=_u;break;default:a=cs}return l=j_.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&us(l),t.callbackPriority=2,t.callbackNode=null,2}function j_(t,i){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Rc()&&t.callbackNode!==a)return null;var l=Ve;return l=li(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(y_(t,l,i),V_(t,nn()),t.callbackNode!=null&&t.callbackNode===a?j_.bind(null,t):null)}function L_(t,i){if(Rc())return null;y_(t,i,!0)}function yS(){CS(function(){(Qe&6)!==0?Mt(No,gS):k_()})}function Pd(){if(Vs===0){var t=Na;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Vs=t}return Vs}function P_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function U_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function _S(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=P_((f[Lt]||null).action),v=l.submitter;v&&(i=(i=v[Lt]||null)?P_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new vi("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var C=v?U_(f,v):new FormData(f);sd(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=v?U_(f,v):new FormData(f),sd(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var Ud=0;Ud<Ef.length;Ud++){var zd=Ef[Ud],vS=zd.toLowerCase(),bS=zd[0].toUpperCase()+zd.slice(1);Zn(vS,"on"+bS)}Zn(gg,"onAnimationEnd"),Zn(yg,"onAnimationIteration"),Zn(_g,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(jT,"onTransitionRun"),Zn(LT,"onTransitionStart"),Zn(PT,"onTransitionCancel"),Zn(vg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ES=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function z_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],C=S.instance,z=S.currentTarget;if(S=S.listener,C!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=z;try{d(f)}catch(Q){Fu(Q)}f.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(S=l[v],C=S.instance,z=S.currentTarget,S=S.listener,C!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=z;try{d(f)}catch(Q){Fu(Q)}f.currentTarget=null,d=C}}}}function ke(t,i){var a=i[la];a===void 0&&(a=i[la]=new Set);var l=t+"__bubble";a.has(l)||(B_(i,t,2,!1),a.add(l))}function Bd(t,i,a){var l=0;i&&(l|=4),B_(a,t,l,i)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function qd(t){if(!t[Ic]){t[Ic]=!0,Do.forEach(function(a){a!=="selectionchange"&&(ES.has(a)||Bd(a,!1,t),Bd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ic]||(i[Ic]=!0,Bd("selectionchange",!1,i))}}function B_(t,i,a,l){switch(g0(i)){case 2:var f=YS;break;case 8:f=XS;break;default:f=im}a=f.bind(null,i,a,t),f=void 0,!Tr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Hd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=fi(S),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}S=S.parentNode}}l=l.return}gs(function(){var z=d,Q=Nn(a),J=[];e:{var B=bg.get(t);if(B!==void 0){var G=vi,ae=t;switch(t){case"keypress":if(xr(a)===0)break e;case"keydown":case"keyup":G=Bu;break;case"focusin":ae="focus",G=Ar;break;case"focusout":ae="blur",G=Ar;break;case"beforeblur":case"afterblur":G=Ar;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case gg:case yg:case _g:G=ku;break;case vg:G=x;break;case"scroll":case"scrollend":G=Fo;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ui;break;case"toggle":case"beforetoggle":G=Ae}var me=(i&4)!==0,tt=!me&&(t==="scroll"||t==="scrollend"),L=me?B!==null?B+"Capture":null:B;me=[];for(var k=z,U;k!==null;){var Y=k;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||L===null||(Y=$n(k,L),Y!=null&&me.push(El(k,Y,U))),tt)break;k=k.return}0<me.length&&(B=new G(B,ae,null,a,Q),J.push({event:B,listeners:me}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",B&&a!==Bo&&(ae=a.relatedTarget||a.fromElement)&&(fi(ae)||ae[ci]))break e;if((G||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,G?(ae=a.relatedTarget||a.toElement,G=z,ae=ae?fi(ae):null,ae!==null&&(tt=u(ae),me=ae.tag,ae!==tt||me!==5&&me!==27&&me!==6)&&(ae=null)):(G=null,ae=z),G!==ae)){if(me=Go,Y="onMouseLeave",L="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(me=Ui,Y="onPointerLeave",L="onPointerEnter",k="pointer"),tt=G==null?B:gn(G),U=ae==null?B:gn(ae),B=new me(Y,k+"leave",G,a,Q),B.target=tt,B.relatedTarget=U,Y=null,fi(Q)===z&&(me=new me(L,k+"enter",ae,a,Q),me.target=U,me.relatedTarget=tt,Y=me),tt=Y,G&&ae)t:{for(me=TS,L=G,k=ae,U=0,Y=L;Y;Y=me(Y))U++;Y=0;for(var fe=k;fe;fe=me(fe))Y++;for(;0<U-Y;)L=me(L),U--;for(;0<Y-U;)k=me(k),Y--;for(;U--;){if(L===k||k!==null&&L===k.alternate){me=L;break t}L=me(L),k=me(k)}me=null}else me=null;G!==null&&q_(J,B,G,me,!1),ae!==null&&tt!==null&&q_(J,tt,ae,me,!0)}}e:{if(B=z?gn(z):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var Fe=rg;else if(ig(B))if(ag)Fe=MT;else{Fe=OT;var ce=IT}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&fa(z.elementType)&&(Fe=rg):Fe=DT;if(Fe&&(Fe=Fe(t,z))){sg(J,Fe,a,Q);break e}ce&&ce(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Po(B,"number",B.value)}switch(ce=z?gn(z):window,t){case"focusin":(ig(ce)||ce.contentEditable==="true")&&(ba=ce,_f=z,Xo=null);break;case"focusout":Xo=_f=ba=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,mg(J,a,Q);break;case"selectionchange":if(VT)break;case"keydown":case"keyup":mg(J,a,Q)}var Ce;if(Ke)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else va?Rr(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Ti&&a.locale!=="ko"&&(va||je!=="onCompositionStart"?je==="onCompositionEnd"&&va&&(Ce=Ho()):(_i=Q,qo="value"in _i?_i.value:_i.textContent,va=!0)),ce=Oc(z,je),0<ce.length&&(je=new Ei(je,t,null,a,Q),J.push({event:je,listeners:ce}),Ce?je.data=Ce:(Ce=_a(a),Ce!==null&&(je.data=Ce)))),(Ce=In?AT(t,a):RT(t,a))&&(je=Oc(z,"onBeforeInput"),0<je.length&&(ce=new Ei("onBeforeInput","beforeinput",null,a,Q),J.push({event:ce,listeners:je}),ce.data=Ce)),_S(J,t,z,a,Q)}z_(J,i)})}function El(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Oc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=$n(t,a),f!=null&&l.unshift(El(t,f,d)),f=$n(t,i),f!=null&&l.push(El(t,f,d))),t.tag===3)return l;t=t.return}return[]}function TS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function q_(t,i,a,l,f){for(var d=i._reactName,v=[];a!==null&&a!==l;){var S=a,C=S.alternate,z=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||z===null||(C=z,f?(z=$n(a,d),z!=null&&v.unshift(El(a,z,C))):f||(z=$n(a,d),z!=null&&v.push(El(a,z,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var SS=/\r\n?/g,xS=/\u0000|\uFFFD/g;function H_(t){return(typeof t=="string"?t:""+t).replace(SS,`
`).replace(xS,"")}function F_(t,i){return i=H_(i),H_(t)===i}function et(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":zo(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",f.name,f,null),et(t,i,"formEncType",f.formEncType,f,null),et(t,i,"formMethod",f.formMethod,f,null),et(t,i,"formTarget",f.formTarget,f,null)):(et(t,i,"encType",f.encType,f,null),et(t,i,"method",f.method,f,null),et(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),ca(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,ca(t,a,l))}}function Fd(t,i,a,l,f,d){switch(a){case"style":zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ca(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,d,v,a,null)}}f&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var S=d=v=f=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":v=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:et(t,i,l,Q,a,null)}}Nu(t,d,S,C,z,v,f,!1);return;case"select":ke("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:et(t,i,f,S,a,null)}i=d,a=v,t.multiple=!!l,i!=null?fs(t,!!l,i,!1):a!=null&&fs(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(t,i,v,S,a,null)}ds(t,l,f,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,i,C,l,a,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)ke(bl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,z,l,a,null)}return;default:if(fa(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Fd(t,i,Q,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&et(t,i,S,l,a,null))}function wS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,S=null,C=null,z=null,Q=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(G)||et(t,i,G,null,l,J)}}for(var B in l){var G=l[B];if(J=a[B],l.hasOwnProperty(B)&&(G!=null||J!=null))switch(B){case"type":d=G;break;case"name":f=G;break;case"checked":z=G;break;case"defaultChecked":Q=G;break;case"value":v=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==J&&et(t,i,B,G,l,J)}}ha(t,v,S,C,z,Q,d,f);return;case"select":G=v=S=B=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||et(t,i,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":B=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==C&&et(t,i,f,d,l,C)}i=S,a=v,l=G,B!=null?fs(t,!!a,B,!1):!!l!=!!a&&(i!=null?fs(t,!!a,i,!0):fs(t,!!a,a?[]:"",!1));return;case"textarea":G=B=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(t,i,S,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":B=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&et(t,i,v,f,l,d)}Cu(t,B,G);return;case"option":for(var ae in a)B=a[ae],a.hasOwnProperty(ae)&&B!=null&&!l.hasOwnProperty(ae)&&(ae==="selected"?t.selected=!1:et(t,i,ae,null,l,B));for(C in l)B=l[C],G=a[C],l.hasOwnProperty(C)&&B!==G&&(B!=null||G!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":et(t,i,C,B,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)B=a[me],a.hasOwnProperty(me)&&B!=null&&!l.hasOwnProperty(me)&&et(t,i,me,null,l,B);for(z in l)if(B=l[z],G=a[z],l.hasOwnProperty(z)&&B!==G&&(B!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:et(t,i,z,B,l,G)}return;default:if(fa(i)){for(var tt in a)B=a[tt],a.hasOwnProperty(tt)&&B!==void 0&&!l.hasOwnProperty(tt)&&Fd(t,i,tt,void 0,l,B);for(Q in l)B=l[Q],G=a[Q],!l.hasOwnProperty(Q)||B===G||B===void 0&&G===void 0||Fd(t,i,Q,B,l,G);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!l.hasOwnProperty(L)&&et(t,i,L,null,l,B);for(J in l)B=l[J],G=a[J],!l.hasOwnProperty(J)||B===G||B==null&&G==null||et(t,i,J,B,l,G)}function G_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,S=f.duration;if(d&&S&&G_(v)){for(v=0,S=f.responseEnd,l+=1;l<a.length;l++){var C=a[l],z=C.startTime;if(z>S)break;var Q=C.transferSize,J=C.initiatorType;Q&&G_(J)&&(C=C.responseEnd,v+=Q*(C<S?1:(S-z)/(C-z)))}if(--l,i+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gd=null,Kd=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function K_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Qd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $d=null;function RS(){var t=window.event;return t&&t.type==="popstate"?t===$d?!1:($d=t,!0):($d=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,NS=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,CS=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(t){return Y_.resolve(null).then(t).catch(IS)}:$_;function IS(t){setTimeout(function(){throw t})}function js(t){return t==="head"}function X_(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Qa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Tl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Tl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[hi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Tl(t.ownerDocument.body);a=f}while(a);Qa(i)}function J_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Yd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yd(a),ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function OS(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function DS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function Z_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function Xd(t){return t.data==="$?"||t.data==="$~"}function Jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function MS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Zd=null;function W_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function e0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function t0(t,i,a){switch(i=Dc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Tl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ua(t)}var Pn=new Map,n0=new Set;function Mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var es=ee.d;ee.d={f:kS,r:VS,D:jS,C:LS,L:PS,m:US,X:BS,S:zS,M:qS};function kS(){var t=es.f(),i=xc();return t||i}function VS(t){var i=Rn(t);i!==null&&i.tag===5&&i.type==="form"?vy(i):es.r(t)}var Fa=typeof document>"u"?null:document;function i0(t,i,a){var l=Fa;if(l&&typeof i=="string"&&i){var f=on(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),n0.has(f)||(n0.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Qt(i,"link",t),St(i),l.head.appendChild(i)))}}function jS(t){es.D(t),i0("dns-prefetch",t,null)}function LS(t,i){es.C(t,i),i0("preconnect",t,i)}function PS(t,i,a){es.L(t,i,a);var l=Fa;if(l&&t&&i){var f='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(t)+'"]';var d=f;switch(i){case"style":d=Ga(t);break;case"script":d=Ka(t)}Pn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Pn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(xl(d))||(i=l.createElement("link"),Qt(i,"link",t),St(i),l.head.appendChild(i)))}}function US(t,i){es.m(t,i);var a=Fa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(t)}if(!Pn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Pn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(d)))return}l=a.createElement("link"),Qt(l,"link",t),St(l),a.head.appendChild(l)}}}function zS(t,i,a){es.S(t,i,a);var l=Fa;if(l&&t){var f=di(l).hoistableStyles,d=Ga(t);i=i||"default";var v=f.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Sl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Pn.get(d))&&Wd(t,a);var C=v=l.createElement("link");St(C),Qt(C,"link",t),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,kc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(d,v)}}}function BS(t,i){es.X(t,i);var a=Fa;if(a&&t){var l=di(a).hoistableScripts,f=Ka(t),d=l.get(f);d||(d=a.querySelector(xl(f)),d||(t=T({src:t,async:!0},i),(i=Pn.get(f))&&em(t,i),d=a.createElement("script"),St(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function qS(t,i){es.M(t,i);var a=Fa;if(a&&t){var l=di(a).hoistableScripts,f=Ka(t),d=l.get(f);d||(d=a.querySelector(xl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Pn.get(f))&&em(t,i),d=a.createElement("script"),St(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function s0(t,i,a,l){var f=(f=Ne.current)?Mc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ga(a.href),a=di(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ga(a.href);var d=di(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(Sl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||HS(f,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ka(a),a=di(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ga(t){return'href="'+on(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function r0(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function HS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),St(i),t.head.appendChild(i))}function Ka(t){return'[src="'+on(t)+'"]'}function xl(t){return"script[async]"+t}function a0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,St(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Qt(l,"style",f),kc(l,a.precedence,t),i.instance=l;case"stylesheet":f=Ga(a.href);var d=t.querySelector(Sl(f));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=r0(a),(f=Pn.get(f))&&Wd(l,f),d=(t.ownerDocument||t).createElement("link"),St(d);var v=d;return v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),Qt(d,"link",l),i.state.loading|=4,kc(d,a.precedence,t),i.instance=d;case"script":return d=Ka(a.src),(f=t.querySelector(xl(d)))?(i.instance=f,St(f),f):(l=a,(f=Pn.get(d))&&(l=T({},a),em(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),St(f),Qt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,kc(l,a.precedence,t));return i.instance}function kc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Wd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function em(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Vc=null;function o0(t,i,a){if(Vc===null){var l=new Map,f=Vc=new Map;f.set(a,l)}else f=Vc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[hi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function l0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function FS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function u0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function GS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ga(l.href),d=i.querySelector(Sl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=jc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=r0(l),(f=Pn.get(f))&&Wd(l,f),d=d.createElement("link"),St(d);var v=d;v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=jc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var tm=0;function KS(t,i){return t.stylesheets&&t.count===0&&Pc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Pc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&tm===0&&(tm=62500*AS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>tm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function Pc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,i.forEach(QS,t),Lc=null,jc.call(t))}function QS(t,i){if(!(i.state.loading&4)){var a=Lc.get(t);if(a)var l=a.get(null);else{a=new Map,Lc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=i.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=jc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var wl={$$typeof:ue,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function $S(t,i,a,l,f,d,v,S,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function c0(t,i,a,l,f,d,v,S,C,z,Q,J){return t=new $S(t,i,a,v,C,z,Q,J,S),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=kf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Pf(d),t}function h0(t){return t?(t=Sa,t):Sa}function f0(t,i,a,l,f,d){f=h0(f),l.context===null?l.context=f:l.pendingContext=f,l=ws(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=As(t,l,i),a!==null&&(dn(a,t,i),il(a,t,i))}function d0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function nm(t,i){d0(t,i),(t=t.alternate)&&d0(t,i)}function m0(t){if(t.tag===13||t.tag===31){var i=Ir(t,67108864);i!==null&&dn(i,t,67108864),nm(t,67108864)}}function p0(t){if(t.tag===13||t.tag===31){var i=xn();i=_r(i);var a=Ir(t,i);a!==null&&dn(a,t,i),nm(t,i)}}var Uc=!0;function YS(t,i,a,l){var f=K.T;K.T=null;var d=ee.p;try{ee.p=2,im(t,i,a,l)}finally{ee.p=d,K.T=f}}function XS(t,i,a,l){var f=K.T;K.T=null;var d=ee.p;try{ee.p=8,im(t,i,a,l)}finally{ee.p=d,K.T=f}}function im(t,i,a,l){if(Uc){var f=sm(l);if(f===null)Hd(t,i,l,zc,a),y0(t,l);else if(ZS(f,t,i,a,l))l.stopPropagation();else if(y0(t,l),i&4&&-1<JS.indexOf(t)){for(;f!==null;){var d=Rn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=oi(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var C=1<<31-pt(v);S.entanglements[1]|=C,v&=~C}Ai(d),(Qe&6)===0&&(Tc=nn()+500,vl(0))}}break;case 31:case 13:S=Ir(d,2),S!==null&&dn(S,d,2),xc(),nm(d,2)}if(d=sm(l),d===null&&Hd(t,i,l,zc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Hd(t,i,l,null,a)}}function sm(t){return t=Nn(t),rm(t)}var zc=null;function rm(t){if(zc=null,t=fi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return zc=t,null}function g0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case No:return 2;case Co:return 8;case cs:case hf:return 32;case _u:return 268435456;default:return 32}default:return 32}}var am=!1,Ls=null,Ps=null,Us=null,Al=new Map,Rl=new Map,zs=[],JS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y0(t,i){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(i.pointerId)}}function Nl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Rn(i),i!==null&&m0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function ZS(t,i,a,l,f){switch(i){case"focusin":return Ls=Nl(Ls,t,i,a,l,f),!0;case"dragenter":return Ps=Nl(Ps,t,i,a,l,f),!0;case"mouseover":return Us=Nl(Us,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Al.set(d,Nl(Al.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Rl.set(d,Nl(Rl.get(d)||null,t,i,a,l,f)),!0}return!1}function _0(t){var i=fi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){p0(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){p0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=sm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Bo=l,a.target.dispatchEvent(l),Bo=null}else return i=Rn(a),i!==null&&m0(i),t.blockedOn=a,!1;i.shift()}return!0}function v0(t,i,a){Bc(t)&&a.delete(i)}function WS(){am=!1,Ls!==null&&Bc(Ls)&&(Ls=null),Ps!==null&&Bc(Ps)&&(Ps=null),Us!==null&&Bc(Us)&&(Us=null),Al.forEach(v0),Rl.forEach(v0)}function qc(t,i){t.blockedOn===i&&(t.blockedOn=null,am||(am=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,WS)))}var Hc=null;function b0(t){Hc!==t&&(Hc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hc===t&&(Hc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(rm(l||a)===null)continue;break}var d=Rn(a);d!==null&&(t.splice(i,3),i-=3,sd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Qa(t){function i(C){return qc(C,t)}Ls!==null&&qc(Ls,t),Ps!==null&&qc(Ps,t),Us!==null&&qc(Us,t),Al.forEach(i),Rl.forEach(i);for(var a=0;a<zs.length;a++){var l=zs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zs.length&&(a=zs[0],a.blockedOn===null);)_0(a),a.blockedOn===null&&zs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Lt]||null;if(typeof d=="function")v||b0(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Lt]||null)S=v.formAction;else if(rm(f)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),b0(a)}}}function E0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function om(t){this._internalRoot=t}Fc.prototype.render=om.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();f0(a,l,t,i,null,null)},Fc.prototype.unmount=om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;f0(t.current,2,null,t,null,null),xc(),i[ci]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var i=xu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<zs.length&&i!==0&&i<zs[a].priority;a++);zs.splice(a,0,t),a===0&&_0(t)}};var T0=e.version;if(T0!=="19.2.3")throw Error(s(527,T0,"19.2.3"));ee.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var ex={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Hn=Gc.inject(ex),qt=Gc}catch{}}return Il.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=Cy,d=Iy,v=Oy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=c0(t,1,!1,null,null,a,l,null,f,d,v,E0),t[ci]=i.current,qd(t),new om(i)},Il.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Cy,v=Iy,S=Oy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=c0(t,1,!0,i,a??null,l,f,C,d,v,S,E0),i.context=h0(null),a=i.current,l=xn(),l=_r(l),f=ws(l),f.callback=null,As(a,f,l),a=l,i.current.lanes=a,gr(i,a),Ai(i),t[ci]=i.current,qd(t),new Fc(i)},Il.version="19.2.3",Il}var D0;function hx(){if(D0)return cm.exports;D0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cm.exports=cx(),cm.exports}var fx=hx();const dx=M1(fx),mx=()=>{};var M0={};const k1=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},px=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},V1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|p>>6,j=p&63;g||(j=64,h||(w=64)),s.push(n[E],n[T],n[w],n[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(k1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):px(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||T==null)throw new gx;const w=u<<2|m>>4;if(s.push(w),p!==64){const j=m<<4&240|p>>2;if(s.push(j),T!==64){const q=p<<6&192|T;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class gx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yx=function(r){const e=k1(r);return V1.encodeByteArray(e,!0)},ch=function(r){return yx(r).replace(/\./g,"")},j1=function(r){try{return V1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _x(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vx=()=>_x().__FIREBASE_DEFAULTS__,bx=()=>{if(typeof process>"u"||typeof M0>"u")return;const r=M0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ex=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&j1(r[1]);return e&&JSON.parse(e)},jh=()=>{try{return mx()||vx()||bx()||Ex()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},L1=r=>jh()?.emulatorHosts?.[r],Tx=r=>{const e=L1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},P1=()=>jh()?.config,U1=r=>jh()?.[`_${r}`];class Sx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function yo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z1(r){return(await fetch(r,{credentials:"include"})).ok}function xx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ch(JSON.stringify(n)),ch(JSON.stringify(h)),""].join(".")}const Pl={};function wx(){const r={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?r.emulator.push(e):r.prod.push(e);return r}function Ax(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let k0=!1;function B1(r,e){if(typeof window>"u"||typeof document>"u"||!yo(window.location.host)||Pl[r]===e||Pl[r]||k0)return;Pl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=wx().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,j){w.setAttribute("width","24"),w.setAttribute("id",j),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{k0=!0,h()},w}function E(w,j){w.setAttribute("id",j),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=Ax(s),j=n("text"),q=document.getElementById(j)||document.createElement("span"),H=n("learnmore"),W=document.getElementById(H)||document.createElement("a"),oe=n("preprendIcon"),le=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ue=w.element;m(ue),E(W,H);const _e=p();g(le,oe),ue.append(le,q,W,_e),document.body.appendChild(ue)}u?(q.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Nx(){const r=jh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ix(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Ox(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dx(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Mx(){return!Nx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kx(){try{return typeof indexedDB=="object"}catch{return!1}}function Vx(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const jx="FirebaseError";class ls extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=jx,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Lx(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ls(o,m,s)}}function Lx(r,e){return r.replace(Px,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Px=/\{\$([^}]+)}/g;function Ux(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Kr(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(V0(u)&&V0(h)){if(!Kr(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function V0(r){return r!==null&&typeof r=="object"}function au(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Dl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ml(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function zx(r,e){const n=new Bx(r,e);return n.subscribe.bind(n)}class Bx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");qx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=mm),o.error===void 0&&(o.error=mm),o.complete===void 0&&(o.complete=mm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qx(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function mm(){}function jt(r){return r&&r._delegate?r._delegate:r}class Qr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hr="[DEFAULT]";class Hx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Sx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gx(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Fx(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fx(r){return r===Hr?void 0:r}function Gx(r){return r.instantiationMode==="EAGER"}class Kx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Hx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const Qx={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},$x=Le.INFO,Yx={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},Xx=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Yx[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let hp=class{constructor(e){this.name=e,this._logLevel=$x,this._logHandler=Xx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}};const Jx=(r,e)=>e.some(n=>r instanceof n);let j0,L0;function Zx(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wx(){return L0||(L0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q1=new WeakMap,Om=new WeakMap,H1=new WeakMap,pm=new WeakMap,fp=new WeakMap;function ew(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n($s(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&q1.set(n,r)}).catch(()=>{}),fp.set(e,r),e}function tw(r){if(Om.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Om.set(r,e)}let Dm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Om.get(r);if(e==="objectStoreNames")return r.objectStoreNames||H1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nw(r){Dm=r(Dm)}function iw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(gm(this),e,...n);return H1.set(s,e.sort?e.sort():[e]),$s(s)}:Wx().includes(r)?function(...e){return r.apply(gm(this),e),$s(q1.get(this))}:function(...e){return $s(r.apply(gm(this),e))}}function sw(r){return typeof r=="function"?iw(r):(r instanceof IDBTransaction&&tw(r),Jx(r,Zx())?new Proxy(r,Dm):r)}function $s(r){if(r instanceof IDBRequest)return ew(r);if(pm.has(r))return pm.get(r);const e=sw(r);return e!==r&&(pm.set(r,e),fp.set(e,r)),e}const gm=r=>fp.get(r);function rw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=$s(h);return s&&h.addEventListener("upgradeneeded",g=>{s($s(h.result),g.oldVersion,g.newVersion,$s(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const aw=["get","getKey","getAll","getAllKeys","count"],ow=["put","add","delete","clear"],ym=new Map;function P0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=ow.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||aw.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return ym.set(e,u),u}nw(r=>({...r,get:(e,n,s)=>P0(e,n)||r.get(e,n,s),has:(e,n)=>!!P0(e,n)||r.has(e,n)}));class lw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function uw(r){return r.getComponent()?.type==="VERSION"}const Mm="@firebase/app",U0="0.14.6";const ss=new hp("@firebase/app"),cw="@firebase/app-compat",hw="@firebase/analytics-compat",fw="@firebase/analytics",dw="@firebase/app-check-compat",mw="@firebase/app-check",pw="@firebase/auth",gw="@firebase/auth-compat",yw="@firebase/database",_w="@firebase/data-connect",vw="@firebase/database-compat",bw="@firebase/functions",Ew="@firebase/functions-compat",Tw="@firebase/installations",Sw="@firebase/installations-compat",xw="@firebase/messaging",ww="@firebase/messaging-compat",Aw="@firebase/performance",Rw="@firebase/performance-compat",Nw="@firebase/remote-config",Cw="@firebase/remote-config-compat",Iw="@firebase/storage",Ow="@firebase/storage-compat",Dw="@firebase/firestore",Mw="@firebase/ai",kw="@firebase/firestore-compat",Vw="firebase",jw="12.6.0";const km="[DEFAULT]",Lw={[Mm]:"fire-core",[cw]:"fire-core-compat",[fw]:"fire-analytics",[hw]:"fire-analytics-compat",[mw]:"fire-app-check",[dw]:"fire-app-check-compat",[pw]:"fire-auth",[gw]:"fire-auth-compat",[yw]:"fire-rtdb",[_w]:"fire-data-connect",[vw]:"fire-rtdb-compat",[bw]:"fire-fn",[Ew]:"fire-fn-compat",[Tw]:"fire-iid",[Sw]:"fire-iid-compat",[xw]:"fire-fcm",[ww]:"fire-fcm-compat",[Aw]:"fire-perf",[Rw]:"fire-perf-compat",[Nw]:"fire-rc",[Cw]:"fire-rc-compat",[Iw]:"fire-gcs",[Ow]:"fire-gcs-compat",[Dw]:"fire-fst",[kw]:"fire-fst-compat",[Mw]:"fire-vertex","fire-js":"fire-js",[Vw]:"fire-js-all"};const hh=new Map,Pw=new Map,Vm=new Map;function z0(r,e){try{r.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function oo(r){const e=r.name;if(Vm.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,r);for(const n of hh.values())z0(n,r);for(const n of Pw.values())z0(n,r);return!0}function dp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Un(r){return r==null?!1:r.settings!==void 0}const Uw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new ru("app","Firebase",Uw);class zw{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}const _o=jw;function F1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:km,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ys.create("bad-app-name",{appName:String(o)});if(n||(n=P1()),!n)throw Ys.create("no-options");const u=hh.get(o);if(u){if(Kr(n,u.options)&&Kr(s,u.config))return u;throw Ys.create("duplicate-app",{appName:o})}const h=new Kx(o);for(const g of Vm.values())h.addComponent(g);const m=new zw(n,s,h);return hh.set(o,m),m}function G1(r=km){const e=hh.get(r);if(!e&&r===km&&P1())return F1();if(!e)throw Ys.create("no-app",{appName:r});return e}function Xs(r,e,n){let s=Lw[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(h.join(" "));return}oo(new Qr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Bw="firebase-heartbeat-database",qw=1,Ql="firebase-heartbeat-store";let _m=null;function K1(){return _m||(_m=rw(Bw,qw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ys.create("idb-open",{originalErrorMessage:r.message})})),_m}async function Hw(r){try{const n=(await K1()).transaction(Ql),s=await n.objectStore(Ql).get(Q1(r));return await n.done,s}catch(e){if(e instanceof ls)ss.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e?.message});ss.warn(n.message)}}}async function B0(r,e){try{const s=(await K1()).transaction(Ql,"readwrite");await s.objectStore(Ql).put(e,Q1(r)),await s.done}catch(n){if(n instanceof ls)ss.warn(n.message);else{const s=Ys.create("idb-set",{originalErrorMessage:n?.message});ss.warn(s.message)}}}function Q1(r){return`${r.name}!${r.options.appId}`}const Fw=1024,Gw=30;class Kw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $w(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=q0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Gw){const o=Yw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=q0(),{heartbeatsToSend:n,unsentEntries:s}=Qw(this._heartbeatsCache.heartbeats),o=ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ss.warn(e),""}}}function q0(){return new Date().toISOString().substring(0,10)}function Qw(r,e=Fw){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),H0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),H0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $w{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kx()?Vx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return B0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return B0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function H0(r){return ch(JSON.stringify({version:2,heartbeats:r})).length}function Yw(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function Xw(r){oo(new Qr("platform-logger",e=>new lw(e),"PRIVATE")),oo(new Qr("heartbeat",e=>new Kw(e),"PRIVATE")),Xs(Mm,U0,r),Xs(Mm,U0,"esm2020"),Xs("fire-js","")}Xw("");function $1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jw=$1,Y1=new ru("auth","Firebase",$1());const fh=new hp("@firebase/auth");function Zw(r,...e){fh.logLevel<=Le.WARN&&fh.warn(`Auth (${_o}): ${r}`,...e)}function Wc(r,...e){fh.logLevel<=Le.ERROR&&fh.error(`Auth (${_o}): ${r}`,...e)}function ni(r,...e){throw mp(r,...e)}function Ci(r,...e){return mp(r,...e)}function X1(r,e,n){const s={...Jw(),[e]:n};return new ru("auth","Firebase",s).create(e,{appName:r.name})}function is(r){return X1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Y1.create(r,...e)}function ge(r,e,...n){if(!r)throw mp(e,...n)}function ts(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Wc(e),new Error(e)}function rs(r,e){r||ts(e)}function jm(){return typeof self<"u"&&self.location?.href||""}function Ww(){return F0()==="http:"||F0()==="https:"}function F0(){return typeof self<"u"&&self.location?.protocol||null}function e2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ww()||Ix()||"connection"in navigator)?navigator.onLine:!0}function t2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=Rx()||Ox()}get(){return e2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pp(r,e){rs(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class J1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const n2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const i2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s2=new ou(3e4,6e4);function lr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ur(r,e,n,s,o={}){return Z1(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=au({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return Cx()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&yo(r.emulatorConfig.host)&&(p.credentials="include"),J1.fetch()(await W1(r,r.config.apiHost,n,m),p)})}async function Z1(r,e,n){r._canInitEmulator=!1;const s={...n2,...e};try{const o=new a2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Kc(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Kc(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Kc(r,"user-disabled",h);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw X1(r,E,p);ni(r,E)}}catch(o){if(o instanceof ls)throw o;ni(r,"network-request-failed",{message:String(o)})}}async function lu(r,e,n,s,o={}){const u=await ur(r,e,n,s,o);return"mfaPendingCredential"in u&&ni(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function W1(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?pp(r.config,o):`${r.config.apiScheme}://${o}`;return i2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function r2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class a2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),s2.get())})}}function Kc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ci(r,e,s);return o.customData._tokenResponse=n,o}function G0(r){return r!==void 0&&r.enterprise!==void 0}class o2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function l2(r,e){return ur(r,"GET","/v2/recaptchaConfig",lr(r,e))}async function u2(r,e){return ur(r,"POST","/v1/accounts:delete",e)}async function dh(r,e){return ur(r,"POST","/v1/accounts:lookup",e)}function Ul(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c2(r,e=!1){const n=jt(r),s=await n.getIdToken(e),o=gp(s);ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Ul(vm(o.auth_time)),issuedAtTime:Ul(vm(o.iat)),expirationTime:Ul(vm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function vm(r){return Number(r)*1e3}function gp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=j1(n);return o?JSON.parse(o):(Wc("Failed to decode base64 JWT payload"),null)}catch(o){return Wc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function K0(r){const e=gp(r);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function $l(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ls&&h2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function h2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class f2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function mh(r){const e=r.auth,n=await r.getIdToken(),s=await $l(r,dh(e,{idToken:n}));ge(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?eb(o.providerUserInfo):[],h=m2(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Lm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function d2(r){const e=jt(r);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function eb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function p2(r,e){const n=await Z1(r,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await W1(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&yo(r.emulatorConfig.host)&&(g.credentials="include"),J1.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function g2(r,e){return ur(r,"POST","/v2/accounts:revokeToken",lr(r,e))}class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=K0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await p2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new no;return s&&(ge(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ge(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ge(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return ts("not implemented")}}function qs(r,e){ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new f2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await $l(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c2(this,e)}reload(){return d2(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await $l(this,u2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:j,providerData:q,stsTokenManager:H}=n;ge(T&&H,e,"internal-error");const W=no.fromJSON(this.name,H);ge(typeof T=="string",e,"internal-error"),qs(s,e.name),qs(o,e.name),ge(typeof w=="boolean",e,"internal-error"),ge(typeof j=="boolean",e,"internal-error"),qs(u,e.name),qs(h,e.name),qs(m,e.name),qs(g,e.name),qs(p,e.name),qs(E,e.name);const oe=new ti({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:j,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:W,createdAt:p,lastLoginAt:E});return q&&Array.isArray(q)&&(oe.providerData=q.map(le=>({...le}))),g&&(oe._redirectEventId=g),oe}static async _fromIdTokenResponse(e,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ge(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?eb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new no;m.updateFromIdToken(s);const g=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Lm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const Q0=new Map;function ns(r){rs(r instanceof Function,"Expected a class definition");let e=Q0.get(r);return e?(rs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Q0.set(r,e),e)}class tb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tb.type="NONE";const $0=tb;function eh(r,e,n){return`firebase:${r}:${e}:${n}`}class io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dh(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new io(ns($0),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||ns($0);const h=eh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(h);if(E){let T;if(typeof E=="string"){const w=await dh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await ti._fromGetAccountInfoResponse(e,w,E)}else T=ti._fromJSON(e,E);p!==u&&(m=T),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new io(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new io(u,e,s))}}function Y0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ob(e))return"Blackberry";if(lb(e))return"Webos";if(ib(e))return"Safari";if((e.includes("chrome/")||sb(e))&&!e.includes("edge/"))return"Chrome";if(ab(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function nb(r=tn()){return/firefox\//i.test(r)}function ib(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sb(r=tn()){return/crios\//i.test(r)}function rb(r=tn()){return/iemobile/i.test(r)}function ab(r=tn()){return/android/i.test(r)}function ob(r=tn()){return/blackberry/i.test(r)}function lb(r=tn()){return/webos/i.test(r)}function yp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function y2(r=tn()){return yp(r)&&!!window.navigator?.standalone}function _2(){return Dx()&&document.documentMode===10}function ub(r=tn()){return yp(r)||ab(r)||lb(r)||ob(r)||/windows phone/i.test(r)||rb(r)}function cb(r,e=[]){let n;switch(r){case"Browser":n=Y0(tn());break;case"Worker":n=`${Y0(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_o}/${s}`}class v2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function b2(r,e={}){return ur(r,"GET","/v2/passwordPolicy",lr(r,e))}const E2=6;class T2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??E2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class S2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X0(this),this.idTokenSubscription=new X0(this),this.beforeStateQueue=new v2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dh(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(is(this));const n=e?jt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b2(this),n=new T2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await g2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ns(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Zw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wr(r){return jt(r)}class X0{constructor(e){this.auth=e,this.observer=null,this.addObserver=zx(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x2(r){Lh=r}function hb(r){return Lh.loadJS(r)}function w2(){return Lh.recaptchaEnterpriseScript}function A2(){return Lh.gapiScript}function R2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class N2{constructor(){this.enterprise=new C2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class C2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const I2="recaptcha-enterprise",fb="NO_RECAPTCHA";class O2{constructor(e){this.type=I2,this.auth=Wr(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{l2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new o2(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;G0(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(fb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new N2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&G0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=w2();g.length!==0&&(g+=m),hb(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function J0(r,e,n,s=!1,o=!1){const u=new O2(r);let h;if(o)h=fb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Pm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await J0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await J0(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function D2(r,e){const n=dp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Kr(u,e??{}))return o;ni(o,"already-initialized")}return n.initialize({options:e})}function M2(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ns);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function k2(r,e,n){const s=Wr(r);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=db(e),{host:h,port:m}=V2(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(Kr(p,s.config.emulator)&&Kr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,yo(h)?(z1(`${u}//${h}${g}`),B1("Auth",!0)):j2()}function db(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function V2(r){const e=db(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Z0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Z0(h)}}}function Z0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function j2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class _p{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,n){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function L2(r,e){return ur(r,"POST","/v1/accounts:signUp",e)}async function P2(r,e){return lu(r,"POST","/v1/accounts:signInWithPassword",lr(r,e))}async function U2(r,e){return lu(r,"POST","/v1/accounts:signInWithEmailLink",lr(r,e))}async function z2(r,e){return lu(r,"POST","/v1/accounts:signInWithEmailLink",lr(r,e))}class Yl extends _p{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Yl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pm(e,n,"signInWithPassword",P2);case"emailLink":return U2(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pm(e,s,"signUpPassword",L2);case"emailLink":return z2(e,{idToken:n,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function so(r,e){return lu(r,"POST","/v1/accounts:signInWithIdp",lr(r,e))}const B2="http://localhost";class $r extends _p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new $r(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return so(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,so(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,so(e,n)}buildRequest(){const e={requestUri:B2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}function q2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H2(r){const e=Dl(Ml(r)).link,n=e?Dl(Ml(e)).deep_link_id:null,s=Dl(Ml(r)).deep_link_id;return(s?Dl(Ml(s)).link:null)||s||n||e||r}class vp{constructor(e){const n=Dl(Ml(e)),s=n.apiKey??null,o=n.oobCode??null,u=q2(n.mode??null);ge(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=H2(e);try{return new vp(n)}catch{return null}}}class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=vp.parseLink(n);return ge(s,"argument-error"),Yl._fromEmailAndCode(e,s.code,s.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class mb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uu extends mb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hs extends uu{constructor(){super("facebook.com")}static credential(e){return $r._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";class Fs extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $r._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Fs.credential(n,s)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";class Gs extends uu{constructor(){super("github.com")}static credential(e){return $r._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Ks extends uu{constructor(){super("twitter.com")}static credential(e,n){return $r._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ks.credential(n,s)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";async function F2(r,e){return lu(r,"POST","/v1/accounts:signUp",lr(r,e))}class Yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ti._fromIdTokenResponse(e,s,o),h=W0(s);return new Yr({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=W0(s);return new Yr({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function W0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ph extends ls{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ph(e,n,s,o)}}function pb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(r,u,e,s):u})}async function G2(r,e,n=!1){const s=await $l(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Yr._forOperation(r,"link",s)}async function K2(r,e,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(is(s));const o="reauthenticate";try{const u=await $l(r,pb(s,o,e,r),n);ge(u.idToken,s,"internal-error");const h=gp(u.idToken);ge(h,s,"internal-error");const{sub:m}=h;return ge(r.uid===m,s,"user-mismatch"),Yr._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ni(s,"user-mismatch"),u}}async function gb(r,e,n=!1){if(Un(r.app))return Promise.reject(is(r));const s="signIn",o=await pb(r,s,e),u=await Yr._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function Q2(r,e){return gb(Wr(r),e)}async function yb(r){const e=Wr(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $2(r,e,n){if(Un(r.app))return Promise.reject(is(r));const s=Wr(r),h=await Pm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",F2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&yb(r),g}),m=await Yr._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function Y2(r,e,n){return Un(r.app)?Promise.reject(is(r)):Q2(jt(r),vo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&yb(r),s})}function X2(r,e,n,s){return jt(r).onIdTokenChanged(e,n,s)}function J2(r,e,n){return jt(r).beforeAuthStateChanged(e,n)}function Z2(r,e,n,s){return jt(r).onAuthStateChanged(e,n,s)}function _b(r){return jt(r).signOut()}const gh="__sak";class vb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const W2=1e3,eA=10;class bb extends vb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ub(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);_2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eA):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},W2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bb.type="LOCAL";const tA=bb;class Eb extends vb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Eb.type="SESSION";const Tb=Eb;function nA(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ph(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await nA(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ph.receivers=[];function bp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class iA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=bp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ii(){return window}function sA(r){Ii().location.href=r}function Sb(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function rA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aA(){return navigator?.serviceWorker?.controller||null}function oA(){return Sb()?self:null}const xb="firebaseLocalStorageDb",lA=1,yh="firebaseLocalStorage",wb="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uh(r,e){return r.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function uA(){const r=indexedDB.deleteDatabase(xb);return new cu(r).toPromise()}function Um(){const r=indexedDB.open(xb,lA);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(yh,{keyPath:wb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(yh)?e(s):(s.close(),await uA(),e(await Um()))})})}async function ev(r,e,n){const s=Uh(r,!0).put({[wb]:e,value:n});return new cu(s).toPromise()}async function cA(r,e){const n=Uh(r,!1).get(e),s=await new cu(n).toPromise();return s===void 0?null:s.value}function tv(r,e){const n=Uh(r,!0).delete(e);return new cu(n).toPromise()}const hA=800,fA=3;class Ab{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>fA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ph._getInstance(oA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rA(),!this.activeServiceWorker)return;this.sender=new iA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await ev(e,gh,"1"),await tv(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ev(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>cA(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uh(o,!1).getAll();return new cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ab.type="LOCAL";const dA=Ab;new ou(3e4,6e4);function mA(r,e){return e?ns(e):(ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ep extends _p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,n){return so(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pA(r){return gb(r.auth,new Ep(r),r.bypassAuthState)}function gA(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),K2(n,new Ep(r),r.bypassAuthState)}async function yA(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),G2(n,new Ep(r),r.bypassAuthState)}class Rb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pA;case"linkViaPopup":case"linkViaRedirect":return yA;case"reauthViaPopup":case"reauthViaRedirect":return gA;default:ni(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _A=new ou(2e3,1e4);class to extends Rb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_A.get())};e()}}to.currentPopupAction=null;const vA="pendingRedirect",th=new Map;class bA extends Rb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const s=await EA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EA(r,e){const n=xA(e),s=SA(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function TA(r,e){th.set(r._key(),e)}function SA(r){return ns(r._redirectPersistence)}function xA(r){return eh(vA,r.config.apiKey,r.name)}async function wA(r,e,n=!1){if(Un(r.app))return Promise.reject(is(r));const s=Wr(r),o=mA(s,e),h=await new bA(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const AA=600*1e3;class RA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Nb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ci(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AA&&this.cachedEventUids.clear(),this.cachedEventUids.has(nv(e))}saveEventToCache(e){this.cachedEventUids.add(nv(e)),this.lastProcessedEventTime=Date.now()}}function nv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Nb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function NA(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nb(r);default:return!1}}async function CA(r,e={}){return ur(r,"GET","/v1/projects",e)}const IA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OA=/^https?/;async function DA(r){if(r.config.emulator)return;const{authorizedDomains:e}=await CA(r);for(const n of e)try{if(MA(n))return}catch{}ni(r,"unauthorized-domain")}function MA(r){const e=jm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!OA.test(n))return!1;if(IA.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const kA=new ou(3e4,6e4);function iv(){const r=Ii().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function VA(r){return new Promise((e,n)=>{function s(){iv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iv(),n(Ci(r,"network-request-failed"))},timeout:kA.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const o=R2("iframefcb");return Ii()[o]=()=>{gapi.load?s():n(Ci(r,"network-request-failed"))},hb(`${A2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw nh=null,e})}let nh=null;function jA(r){return nh=nh||VA(r),nh}const LA=new ou(5e3,15e3),PA="__/auth/iframe",UA="emulator/auth/iframe",zA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qA(r){const e=r.config;ge(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?pp(e,UA):`https://${r.config.authDomain}/${PA}`,s={apiKey:e.apiKey,appName:r.name,v:_o},o=BA.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${au(s).slice(1)}`}async function HA(r){const e=await jA(r),n=Ii().gapi;return ge(n,r,"internal-error"),e.open({where:document.body,url:qA(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zA,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ci(r,"network-request-failed"),m=Ii().setTimeout(()=>{u(h)},LA.get());function g(){Ii().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const FA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GA=500,KA=600,QA="_blank",$A="http://localhost";class sv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YA(r,e,n,s=GA,o=KA){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...FA,width:s.toString(),height:o.toString(),top:u,left:h},p=tn().toLowerCase();n&&(m=sb(p)?QA:n),nb(p)&&(e=e||$A,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[j,q])=>`${w}${j}=${q},`,"");if(y2(p)&&m!=="_self")return XA(e||"",m),new sv(null);const T=window.open(e||"",m,E);ge(T,r,"popup-blocked");try{T.focus()}catch{}return new sv(T)}function XA(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const JA="__/auth/handler",ZA="emulator/auth/handler",WA=encodeURIComponent("fac");async function rv(r,e,n,s,o,u){ge(r.config.authDomain,r,"auth-domain-config-required"),ge(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:_o,eventId:o};if(e instanceof mb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",Ux(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof uu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),p=g?`#${WA}=${encodeURIComponent(g)}`:"";return`${eR(r)}?${au(m).slice(1)}${p}`}function eR({config:r}){return r.emulator?pp(r,ZA):`https://${r.authDomain}/${JA}`}const bm="webStorageSupport";class tR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tb,this._completeRedirectFn=wA,this._overrideRedirectResult=TA}async _openPopup(e,n,s,o){rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await rv(e,n,s,jm(),o);return YA(e,u,bp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await rv(e,n,s,jm(),o);return sA(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rs(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await HA(e),s=new RA(e);return n.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bm,{type:bm},o=>{const u=o?.[0]?.[bm];u!==void 0&&n(!!u),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ub()||ib()||yp()}}const nR=tR;var av="@firebase/auth",ov="1.12.0";class iR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rR(r){oo(new Qr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ge(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cb(r)},p=new S2(s,o,u,g);return M2(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),oo(new Qr("auth-internal",e=>{const n=Wr(e.getProvider("auth").getImmediate());return(s=>new iR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(av,ov,sR(r)),Xs(av,ov,"esm2020")}const aR=300,oR=U1("authIdTokenMaxAge")||aR;let lv=null;const lR=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>oR)return;const o=n?.token;lv!==o&&(lv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uR(r=G1()){const e=dp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=D2(r,{popupRedirectResolver:nR,persistence:[dA,tA,Tb]}),s=U1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=lR(u.toString());J2(n,h,()=>h(n.currentUser)),X2(n,m=>h(m))}}const o=L1("auth");return o&&k2(n,`http://${o}`),n}function cR(){return document.getElementsByTagName("head")?.[0]??document}x2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",cR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rR("Browser");var uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,Cb;(function(){var r;function e(I,R){function A(){}A.prototype=R.prototype,I.F=R.prototype,I.prototype=new A,I.prototype.constructor=I,I.D=function(D,O,V){for(var N=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)N[Oe-2]=arguments[Oe];return R.prototype[O].apply(D,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,A){A||(A=0);const D=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)D[O]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(O=0;O<16;++O)D[O]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=I.g[0],A=I.g[1],O=I.g[2];let V=I.g[3],N;N=R+(V^A&(O^V))+D[0]+3614090360&4294967295,R=A+(N<<7&4294967295|N>>>25),N=V+(O^R&(A^O))+D[1]+3905402710&4294967295,V=R+(N<<12&4294967295|N>>>20),N=O+(A^V&(R^A))+D[2]+606105819&4294967295,O=V+(N<<17&4294967295|N>>>15),N=A+(R^O&(V^R))+D[3]+3250441966&4294967295,A=O+(N<<22&4294967295|N>>>10),N=R+(V^A&(O^V))+D[4]+4118548399&4294967295,R=A+(N<<7&4294967295|N>>>25),N=V+(O^R&(A^O))+D[5]+1200080426&4294967295,V=R+(N<<12&4294967295|N>>>20),N=O+(A^V&(R^A))+D[6]+2821735955&4294967295,O=V+(N<<17&4294967295|N>>>15),N=A+(R^O&(V^R))+D[7]+4249261313&4294967295,A=O+(N<<22&4294967295|N>>>10),N=R+(V^A&(O^V))+D[8]+1770035416&4294967295,R=A+(N<<7&4294967295|N>>>25),N=V+(O^R&(A^O))+D[9]+2336552879&4294967295,V=R+(N<<12&4294967295|N>>>20),N=O+(A^V&(R^A))+D[10]+4294925233&4294967295,O=V+(N<<17&4294967295|N>>>15),N=A+(R^O&(V^R))+D[11]+2304563134&4294967295,A=O+(N<<22&4294967295|N>>>10),N=R+(V^A&(O^V))+D[12]+1804603682&4294967295,R=A+(N<<7&4294967295|N>>>25),N=V+(O^R&(A^O))+D[13]+4254626195&4294967295,V=R+(N<<12&4294967295|N>>>20),N=O+(A^V&(R^A))+D[14]+2792965006&4294967295,O=V+(N<<17&4294967295|N>>>15),N=A+(R^O&(V^R))+D[15]+1236535329&4294967295,A=O+(N<<22&4294967295|N>>>10),N=R+(O^V&(A^O))+D[1]+4129170786&4294967295,R=A+(N<<5&4294967295|N>>>27),N=V+(A^O&(R^A))+D[6]+3225465664&4294967295,V=R+(N<<9&4294967295|N>>>23),N=O+(R^A&(V^R))+D[11]+643717713&4294967295,O=V+(N<<14&4294967295|N>>>18),N=A+(V^R&(O^V))+D[0]+3921069994&4294967295,A=O+(N<<20&4294967295|N>>>12),N=R+(O^V&(A^O))+D[5]+3593408605&4294967295,R=A+(N<<5&4294967295|N>>>27),N=V+(A^O&(R^A))+D[10]+38016083&4294967295,V=R+(N<<9&4294967295|N>>>23),N=O+(R^A&(V^R))+D[15]+3634488961&4294967295,O=V+(N<<14&4294967295|N>>>18),N=A+(V^R&(O^V))+D[4]+3889429448&4294967295,A=O+(N<<20&4294967295|N>>>12),N=R+(O^V&(A^O))+D[9]+568446438&4294967295,R=A+(N<<5&4294967295|N>>>27),N=V+(A^O&(R^A))+D[14]+3275163606&4294967295,V=R+(N<<9&4294967295|N>>>23),N=O+(R^A&(V^R))+D[3]+4107603335&4294967295,O=V+(N<<14&4294967295|N>>>18),N=A+(V^R&(O^V))+D[8]+1163531501&4294967295,A=O+(N<<20&4294967295|N>>>12),N=R+(O^V&(A^O))+D[13]+2850285829&4294967295,R=A+(N<<5&4294967295|N>>>27),N=V+(A^O&(R^A))+D[2]+4243563512&4294967295,V=R+(N<<9&4294967295|N>>>23),N=O+(R^A&(V^R))+D[7]+1735328473&4294967295,O=V+(N<<14&4294967295|N>>>18),N=A+(V^R&(O^V))+D[12]+2368359562&4294967295,A=O+(N<<20&4294967295|N>>>12),N=R+(A^O^V)+D[5]+4294588738&4294967295,R=A+(N<<4&4294967295|N>>>28),N=V+(R^A^O)+D[8]+2272392833&4294967295,V=R+(N<<11&4294967295|N>>>21),N=O+(V^R^A)+D[11]+1839030562&4294967295,O=V+(N<<16&4294967295|N>>>16),N=A+(O^V^R)+D[14]+4259657740&4294967295,A=O+(N<<23&4294967295|N>>>9),N=R+(A^O^V)+D[1]+2763975236&4294967295,R=A+(N<<4&4294967295|N>>>28),N=V+(R^A^O)+D[4]+1272893353&4294967295,V=R+(N<<11&4294967295|N>>>21),N=O+(V^R^A)+D[7]+4139469664&4294967295,O=V+(N<<16&4294967295|N>>>16),N=A+(O^V^R)+D[10]+3200236656&4294967295,A=O+(N<<23&4294967295|N>>>9),N=R+(A^O^V)+D[13]+681279174&4294967295,R=A+(N<<4&4294967295|N>>>28),N=V+(R^A^O)+D[0]+3936430074&4294967295,V=R+(N<<11&4294967295|N>>>21),N=O+(V^R^A)+D[3]+3572445317&4294967295,O=V+(N<<16&4294967295|N>>>16),N=A+(O^V^R)+D[6]+76029189&4294967295,A=O+(N<<23&4294967295|N>>>9),N=R+(A^O^V)+D[9]+3654602809&4294967295,R=A+(N<<4&4294967295|N>>>28),N=V+(R^A^O)+D[12]+3873151461&4294967295,V=R+(N<<11&4294967295|N>>>21),N=O+(V^R^A)+D[15]+530742520&4294967295,O=V+(N<<16&4294967295|N>>>16),N=A+(O^V^R)+D[2]+3299628645&4294967295,A=O+(N<<23&4294967295|N>>>9),N=R+(O^(A|~V))+D[0]+4096336452&4294967295,R=A+(N<<6&4294967295|N>>>26),N=V+(A^(R|~O))+D[7]+1126891415&4294967295,V=R+(N<<10&4294967295|N>>>22),N=O+(R^(V|~A))+D[14]+2878612391&4294967295,O=V+(N<<15&4294967295|N>>>17),N=A+(V^(O|~R))+D[5]+4237533241&4294967295,A=O+(N<<21&4294967295|N>>>11),N=R+(O^(A|~V))+D[12]+1700485571&4294967295,R=A+(N<<6&4294967295|N>>>26),N=V+(A^(R|~O))+D[3]+2399980690&4294967295,V=R+(N<<10&4294967295|N>>>22),N=O+(R^(V|~A))+D[10]+4293915773&4294967295,O=V+(N<<15&4294967295|N>>>17),N=A+(V^(O|~R))+D[1]+2240044497&4294967295,A=O+(N<<21&4294967295|N>>>11),N=R+(O^(A|~V))+D[8]+1873313359&4294967295,R=A+(N<<6&4294967295|N>>>26),N=V+(A^(R|~O))+D[15]+4264355552&4294967295,V=R+(N<<10&4294967295|N>>>22),N=O+(R^(V|~A))+D[6]+2734768916&4294967295,O=V+(N<<15&4294967295|N>>>17),N=A+(V^(O|~R))+D[13]+1309151649&4294967295,A=O+(N<<21&4294967295|N>>>11),N=R+(O^(A|~V))+D[4]+4149444226&4294967295,R=A+(N<<6&4294967295|N>>>26),N=V+(A^(R|~O))+D[11]+3174756917&4294967295,V=R+(N<<10&4294967295|N>>>22),N=O+(R^(V|~A))+D[2]+718787259&4294967295,O=V+(N<<15&4294967295|N>>>17),N=A+(V^(O|~R))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+V&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const A=R-this.blockSize,D=this.C;let O=this.h,V=0;for(;V<R;){if(O==0)for(;V<=A;)o(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<R;)if(D[O++]=I.charCodeAt(V++),O==this.blockSize){o(this,D),O=0;break}}else for(;V<R;)if(D[O++]=I[V++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var A=I.length-8;A<I.length;++A)I[A]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,A=0;A<4;++A)for(let D=0;D<32;D+=8)I[R++]=this.g[A]>>>D&255;return I};function u(I,R){var A=m;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=R(I)}function h(I,R){this.h=R;const A=[];let D=!0;for(let O=I.length-1;O>=0;O--){const V=I[O]|0;D&&V==R||(A[O]=V,D=!1)}this.g=A}var m={};function g(I){return-128<=I&&I<128?u(I,function(R){return new h([R|0],R<0?-1:0)}):new h([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return W(p(-I));const R=[];let A=1;for(let D=0;I>=A;D++)R[D]=I/A|0,A*=4294967296;return new h(R,0)}function E(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return W(E(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=p(Math.pow(R,8));let D=T;for(let V=0;V<I.length;V+=8){var O=Math.min(8,I.length-V);const N=parseInt(I.substring(V,V+O),R);O<8?(O=p(Math.pow(R,O)),D=D.j(O).add(p(N))):(D=D.j(A),D=D.add(p(N)))}return D}var T=g(0),w=g(1),j=g(16777216);r=h.prototype,r.m=function(){if(H(this))return-W(this).m();let I=0,R=1;for(let A=0;A<this.g.length;A++){const D=this.i(A);I+=(D>=0?D:4294967296+D)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(q(this))return"0";if(H(this))return"-"+W(this).toString(I);const R=p(Math.pow(I,6));var A=this;let D="";for(;;){const O=_e(A,R).g;A=oe(A,O.j(R));let V=((A.g.length>0?A.g[0]:A.h)>>>0).toString(I);if(A=O,q(A))return V+D;for(;V.length<6;)V="0"+V;D=V+D}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function q(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function H(I){return I.h==-1}r.l=function(I){return I=oe(this,I),H(I)?-1:q(I)?0:1};function W(I){const R=I.g.length,A=[];for(let D=0;D<R;D++)A[D]=~I.g[D];return new h(A,~I.h).add(w)}r.abs=function(){return H(this)?W(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),A=[];let D=0;for(let O=0;O<=R;O++){let V=D+(this.i(O)&65535)+(I.i(O)&65535),N=(V>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);D=N>>>16,V&=65535,N&=65535,A[O]=N<<16|V}return new h(A,A[A.length-1]&-2147483648?-1:0)};function oe(I,R){return I.add(W(R))}r.j=function(I){if(q(this)||q(I))return T;if(H(this))return H(I)?W(this).j(W(I)):W(W(this).j(I));if(H(I))return W(this.j(W(I)));if(this.l(j)<0&&I.l(j)<0)return p(this.m()*I.m());const R=this.g.length+I.g.length,A=[];for(var D=0;D<2*R;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(let O=0;O<I.g.length;O++){const V=this.i(D)>>>16,N=this.i(D)&65535,Oe=I.i(O)>>>16,ot=I.i(O)&65535;A[2*D+2*O]+=N*ot,le(A,2*D+2*O),A[2*D+2*O+1]+=V*ot,le(A,2*D+2*O+1),A[2*D+2*O+1]+=N*Oe,le(A,2*D+2*O+1),A[2*D+2*O+2]+=V*Oe,le(A,2*D+2*O+2)}for(I=0;I<R;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=R;I<2*R;I++)A[I]=0;return new h(A,0)};function le(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function ue(I,R){this.g=I,this.h=R}function _e(I,R){if(q(R))throw Error("division by zero");if(q(I))return new ue(T,T);if(H(I))return R=_e(W(I),R),new ue(W(R.g),W(R.h));if(H(R))return R=_e(I,W(R)),new ue(W(R.g),R.h);if(I.g.length>30){if(H(I)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var A=w,D=R;D.l(I)<=0;)A=Ie(A),D=Ie(D);var O=Se(A,1),V=Se(D,1);for(D=Se(D,2),A=Se(A,2);!q(D);){var N=V.add(D);N.l(I)<=0&&(O=O.add(A),V=N),D=Se(D,1),A=Se(A,1)}return R=oe(I,O.j(R)),new ue(O,R)}for(O=T;I.l(R)>=0;){for(A=Math.max(1,Math.floor(I.m()/R.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),V=p(A),N=V.j(R);H(N)||N.l(I)>0;)A-=D,V=p(A),N=V.j(R);q(V)&&(V=w),O=O.add(V),I=oe(I,N)}return new ue(O,I)}r.B=function(I){return _e(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),A=[];for(let D=0;D<R;D++)A[D]=this.i(D)&I.i(D);return new h(A,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),A=[];for(let D=0;D<R;D++)A[D]=this.i(D)|I.i(D);return new h(A,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),A=[];for(let D=0;D<R;D++)A[D]=this.i(D)^I.i(D);return new h(A,this.h^I.h)};function Ie(I){const R=I.g.length+1,A=[];for(let D=0;D<R;D++)A[D]=I.i(D)<<1|I.i(D-1)>>>31;return new h(A,I.h)}function Se(I,R){const A=R>>5;R%=32;const D=I.g.length-A,O=[];for(let V=0;V<D;V++)O[V]=R>0?I.i(V+A)>>>R|I.i(V+A+1)<<32-R:I.i(V+A);return new h(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Cb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=E,Js=h}).apply(typeof uv<"u"?uv:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ib,kl,Ob,ih,zm,Db,Mb,kb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var b=s;c=c.split(".");for(var x=0;x<c.length-1;x++){var P=c[x];if(!(P in b))break e;b=b[P]}c=c[c.length-1],x=b[c],y=y(x),y!=x&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var b=[],x;for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&b.push([x,y[x]]);return b}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,b){return c.call.apply(c.bind,arguments)}function p(c,y,b){return p=g,p.apply(null,arguments)}function E(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function T(c,y){function b(){}b.prototype=y.prototype,c.Z=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(x,P,F){for(var te=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)te[Ae-2]=arguments[Ae];return y.prototype[P].apply(x,te)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const y=c.length;if(y>0){const b=Array(y);for(let x=0;x<y;x++)b[x]=c[x];return b}return[]}function q(c,y){for(let x=1;x<arguments.length;x++){const P=arguments[x];var b=typeof P;if(b=b!="object"?b:P?Array.isArray(P)?"array":b:"null",b=="array"||b=="object"&&typeof P.length=="number"){b=c.length||0;const F=P.length||0;c.length=b+F;for(let te=0;te<F;te++)c[b+te]=P[te]}else c.push(P)}}class H{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){h.setTimeout(()=>{throw c},0)}function oe(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class le{constructor(){this.h=this.g=null}add(y,b){const x=ue.get();x.set(y,b),this.h?this.h.next=x:this.g=x,this.h=x}}var ue=new H(()=>new _e,c=>c.reset());class _e{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,Se=!1,I=new le,R=()=>{const c=Promise.resolve(void 0);Ie=()=>{c.then(A)}};function A(){for(var c;c=oe();){try{c.h.call(c.g)}catch(b){W(b)}var y=ue;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Se=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};h.addEventListener("test",b,y),h.removeEventListener("test",b,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Oe(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Oe,O),Oe.prototype.init=function(c,y){const b=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ot="closure_listenable_"+(Math.random()*1e6|0),K=0;function ee(c,y,b,x,P){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!x,this.ha=P,this.key=++K,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function De(c,y,b){for(const x in c)y.call(b,c[x],x,c)}function He(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function M(c){const y={};for(const b in c)y[b]=c[b];return y}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(c,y){let b,x;for(let P=1;P<arguments.length;P++){x=arguments[P];for(b in x)c[b]=x[b];for(let F=0;F<$.length;F++)b=$[F],Object.prototype.hasOwnProperty.call(x,b)&&(c[b]=x[b])}}function se(c){this.src=c,this.g={},this.h=0}se.prototype.add=function(c,y,b,x,P){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const te=Ne(c,y,x,P);return te>-1?(y=c[te],b||(y.fa=!1)):(y=new ee(y,this.src,F,!!x,P),y.fa=b,c.push(y)),y};function ve(c,y){const b=y.type;if(b in c.g){var x=c.g[b],P=Array.prototype.indexOf.call(x,y,void 0),F;(F=P>=0)&&Array.prototype.splice.call(x,P,1),F&&(he(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ne(c,y,b,x){for(let P=0;P<c.length;++P){const F=c[P];if(!F.da&&F.listener==y&&F.capture==!!b&&F.ha==x)return P}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Dt={};function lt(c,y,b,x,P){if(Array.isArray(y)){for(let F=0;F<y.length;F++)lt(c,y[F],b,x,P);return null}return b=Ro(b),c&&c[ot]?c.J(y,b,m(x)?!!x.capture:!1,P):fr(c,y,b,!1,x,P)}function fr(c,y,b,x,P,F){if(!y)throw Error("Invalid event type");const te=m(P)?!!P.capture:!!P;let Ae=dr(c);if(Ae||(c[Be]=Ae=new se(c)),b=Ae.add(y,b,x,te,F),b.proxy)return b;if(x=sa(),b.proxy=x,x.src=c,x.listener=b,c.addEventListener)V||(P=te),P===void 0&&(P=!1),c.addEventListener(y.toString(),x,P);else if(c.attachEvent)c.attachEvent(ri(y.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function sa(){function c(b){return y.call(c.src,c.listener,b)}const y=wo;return c}function ra(c,y,b,x,P){if(Array.isArray(y))for(var F=0;F<y.length;F++)ra(c,y[F],b,x,P);else x=m(x)?!!x.capture:!!x,b=Ro(b),c&&c[ot]?(c=c.i,F=String(y).toString(),F in c.g&&(y=c.g[F],b=Ne(y,b,x,P),b>-1&&(he(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete c.g[F],c.h--)))):c&&(c=dr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ne(y,b,x,P)),(b=c>-1?y[c]:null)&&aa(b))}function aa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ot])ve(y.i,c);else{var b=c.type,x=c.proxy;y.removeEventListener?y.removeEventListener(b,x,c.capture):y.detachEvent?y.detachEvent(ri(b),x):y.addListener&&y.removeListener&&y.removeListener(x),(b=dr(y))?(ve(b,c),b.h==0&&(b.src=null,y[Be]=null)):he(c)}}}function ri(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function wo(c,y){if(c.da)c=!0;else{y=new Oe(y,this);const b=c.listener,x=c.ha||c.src;c.fa&&aa(c),c=b.call(x,y)}return c}function dr(c){return c=c[Be],c instanceof se?c:null}var Ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ro(c){return typeof c=="function"?c:(c[Ao]||(c[Ao]=function(y){return c.handleEvent(y)}),c[Ao])}function bt(){D.call(this),this.i=new se(this),this.M=this,this.G=null}T(bt,D),bt.prototype[ot]=!0,bt.prototype.removeEventListener=function(c,y,b,x){ra(this,c,y,b,x)};function Mt(c,y){var b,x=c.G;if(x)for(b=[];x;x=x.G)b.push(x);if(c=c.M,x=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var P=y;y=new O(x,c),ne(y,P)}P=!0;let F,te;if(b)for(te=b.length-1;te>=0;te--)F=y.g=b[te],P=us(F,x,!0,y)&&P;if(F=y.g=c,P=us(F,x,!0,y)&&P,P=us(F,x,!1,y)&&P,b)for(te=0;te<b.length;te++)F=y.g=b[te],P=us(F,x,!1,y)&&P}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const b=c.g[y];for(let x=0;x<b.length;x++)he(b[x]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,b,x){return this.i.add(String(c),y,!1,b,x)},bt.prototype.K=function(c,y,b,x){return this.i.add(String(c),y,!0,b,x)};function us(c,y,b,x){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let P=!0;for(let F=0;F<y.length;++F){const te=y[F];if(te&&!te.da&&te.capture==b){const Ae=te.listener,gt=te.ha||te.src;te.fa&&ve(c.i,te),P=Ae.call(gt,x)!==!1&&P}}return P&&!x.defaultPrevented}function cf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function yu(c){c.g=cf(()=>{c.g=null,c.i&&(c.i=!1,yu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends D{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(c){D.call(this),this.h=c,this.g={}}T(mr,D);var No=[];function Co(c){De(c.g,function(y,b){this.g.hasOwnProperty(b)&&aa(y)},c),c.g={}}mr.prototype.N=function(){mr.Z.N.call(this),Co(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=h.JSON.stringify,hf=h.JSON.parse,_u=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function vu(){}function bu(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){O.call(this,"d")}T(qt,O);function An(){O.call(this,"c")}T(An,O);var pt={},Eu=null;function oa(){return Eu=Eu||new bt}pt.Ia="serverreachability";function Tu(c){O.call(this,pt.Ia,c)}T(Tu,O);function ai(c){const y=oa();Mt(y,new Tu(y))}pt.STAT_EVENT="statevent";function pr(c,y){O.call(this,pt.STAT_EVENT,c),this.stat=y}T(pr,O);function Et(c){const y=oa();Mt(y,new pr(y,c))}pt.Ja="timingevent";function oi(c,y){O.call(this,pt.Ja,c),this.size=y}T(oi,O);function li(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function ff(c,y,b,x,P,F){c.info(function(){if(c.g)if(F){var te="",Ae=F.split("&");for(let Ke=0;Ke<Ae.length;Ke++){var gt=Ae[Ke].split("=");if(gt.length>1){const ut=gt[0];gt=gt[1];const In=ut.split("_");te=In.length>=2&&In[1]=="type"?te+(ut+"="+gt+"&"):te+(ut+"=redacted&")}}}else te=null;else te=F;return"XMLHTTP REQ ("+x+") [attempt "+P+"]: "+y+`
`+b+`
`+te})}function Su(c,y,b,x,P,F,te){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+P+"]: "+y+`
`+b+`
`+F+" "+te})}function ui(c,y,b,x){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+df(c,b)+(x?" "+x:"")})}function gr(c,y){c.info(function(){return"TIMEOUT: "+y})}Fn.prototype.info=function(){};function df(c,y){if(!c.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var b=F[c];if(!(b.length<2)){var x=b[1];if(Array.isArray(x)&&!(x.length<1)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(let te=1;te<x.length;te++)x[te]=""}}}}return cs(F)}catch{return y}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function _r(){}T(_r,vu),_r.prototype.g=function(){return new XMLHttpRequest},Oo=new _r;function ji(c){return encodeURIComponent(String(c))}function xu(c){var y=1;c=c.split(":");const b=[];for(;y>0&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function Gn(c,y,b,x){this.j=c,this.i=y,this.l=b,this.S=x||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function ci(c,y,b){c.M=1,c.A=vr(xt(y)),c.u=b,c.R=!0,la(c,null)}function la(c,y){c.F=Date.now(),hi(c),c.B=xt(c.A);var b=c.B,x=c.S;Array.isArray(x)||(x=[String(x)]),fa(b.i,"t",x),c.C=0,b=c.j.L,c.h=new Kn,c.g=Uu(c.j,b?y:null,!c.u),c.P>0&&(c.O=new nn(p(c.Y,c,c.g),c.P)),y=c.V,b=c.g,x=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(No[0]=P.toString()),P=No);for(let F=0;F<P.length;F++){const te=lt(b,P[F],x||y.handleEvent,!1,y.h||y);if(!te)break;y.g[te.key]=te}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ai(),ff(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Yn(c)==3?y.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Yn(this.g),gt=this.g.ya(),Ke=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ae!=4||gt==7||(gt==8||Ke<=0?ai(3):ai(2)),fi(this);var y=this.g.ca();this.X=y;var b=mf(this);if(this.o=y==200,Su(this.i,this.v,this.B,this.l,this.S,Ae,y),this.o){if(this.U&&!this.L){t:{if(this.g){var x,P=this.g;if((x=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(x)){var F=x;break t}}F=null}if(c=F)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,Et(12),gn(this),Rn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<b.length;)if(ut=Au(this,b),ut==Lt){Ae==4&&(this.m=4,Et(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Tt){this.m=4,Et(15),ui(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,ut,null),di(this,ut);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||b.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,b,"[Invalid Chunked Response]"),gn(this),Rn(this);else if(b.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ko(te),te.P=!0,Et(11))}}else ui(this.i,this.l,b,null),di(this,b);Ae==4&&gn(this),this.o&&!this.K&&(Ae==4?Vu(this.j,this):(this.o=!1,hi(this)))}else Pi(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),gn(this),Rn(this)}}}catch{}};function mf(c){if(!wu(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let b="";const x=y.length,P=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Rn(c),"";c.h.i=new h.TextDecoder}for(let F=0;F<x;F++)c.h.h=!0,b+=c.h.i.decode(y[F],{stream:!(P&&F==x-1)});return y.length=0,c.h.g+=b,c.C=0,c.h.g}function wu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Au(c,y){var b=c.C,x=y.indexOf(`
`,b);return x==-1?Lt:(b=Number(y.substring(b,x)),isNaN(b)?Tt:(x+=1,x+b>y.length?Lt:(y=y.slice(x,x+b),c.C=x+b,y)))}Gn.prototype.cancel=function(){this.K=!0,gn(this)};function hi(c){c.T=Date.now()+c.H,ua(c,c.H)}function ua(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(p(c.aa,c),y)}function fi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gr(this.i,this.B),this.M!=2&&(ai(),Et(17)),gn(this),this.m=2,Rn(this)):ua(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Vu(c.j,c)}function gn(c){fi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Co(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function di(c,y){try{var b=c.j;if(b.I!=0&&(b.g==c||pi(b.h,c))){if(!c.L&&pi(b.h,c)&&b.I==3){try{var x=b.Ba.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var P=x;if(P[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)ya(b),_s(b);else break e;Ar(b),Et(18)}}else b.xa=P[1],0<b.xa-b.K&&P[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=li(p(b.Va,b),6e3));mi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ei(b,11)}else if((c.L||b.g==c)&&ya(b),!N(y))for(P=b.Ba.g.parse(y),y=0;y<P.length;y++){let Ke=P[y];const ut=Ke[0];if(!(ut<=b.K))if(b.K=ut,Ke=Ke[1],b.I==2)if(Ke[0]=="c"){b.M=Ke[1],b.ba=Ke[2];const In=Ke[3];In!=null&&(b.ka=In,b.j.info("VER="+b.ka));const Ti=Ke[4];Ti!=null&&(b.za=Ti,b.j.info("SVER="+b.za));const Xn=Ke[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(x=1.5*Xn,b.O=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Jn=c.g;if(Jn){const Rr=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var F=x.h;F.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ko(F,F.h),F.h=null))}if(x.G){const _a=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(x.wa=_a,Ye(x.J,x.G,_a))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),x=b;var te=c;if(x.na=Pu(x,x.L?x.ba:null,x.W),te.L){Vo(x.h,te);var Ae=te,gt=x.O;gt&&(Ae.H=gt),Ae.D&&(fi(Ae),hi(Ae)),x.g=te}else Mu(x);b.i.length>0&&bi(b)}else Ke[0]!="stop"&&Ke[0]!="close"||Ei(b,7);else b.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ei(b,7):Fo(b):Ke[0]!="noop"&&b.l&&b.l.qa(Ke),b.A=0)}}ai(4)}catch{}}var St=class{constructor(c,y){this.g=c,this.map=y}};function Do(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ko(c,y){c.g?c.g.add(y):c.h=y}function Vo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Do.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.G);return y}return j(c.i)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,y){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const x=c[b].indexOf("=");let P,F=null;x>=0?(P=c[b].substring(0,x),F=c[b].substring(x+1)):P=c[b],y(P,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,hs(this,c.u),this.h=c.h,Lo(this,Ou(c.i)),this.m=c.m):c&&(y=String(c).match(Ru))?(this.l=!1,Pt(this,y[1]||"",!0),this.o=gi(y[2]||""),this.g=gi(y[3]||"",!0),hs(this,y[4]),this.h=gi(y[5]||"",!0),Lo(this,y[6]||"",!0),this.m=gi(y[7]||"")):(this.l=!1,this.i=new ds(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(br(y,ha,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(br(y,ha,!0),"@"),c.push(ji(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(br(b,b.charAt(0)=="/"?Po:Nu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",br(b,Cu)),c.join("")},yn.prototype.resolve=function(c){const y=xt(this);let b=!!c.j;b?Pt(y,c.j):b=!!c.o,b?y.o=c.o:b=!!c.g,b?y.g=c.g:b=c.u!=null;var x=c.h;if(b)hs(y,c.u);else if(b=!!c.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var P=y.h.lastIndexOf("/");P!=-1&&(x=y.h.slice(0,P+1)+x)}if(P=x,P==".."||P==".")x="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){x=P.lastIndexOf("/",0)==0,P=P.split("/");const F=[];for(let te=0;te<P.length;){const Ae=P[te++];Ae=="."?x&&te==P.length&&F.push(""):Ae==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),x&&te==P.length&&F.push("")):(F.push(Ae),x=!0)}x=F.join("/")}else x=P}return b?y.h=x:b=c.i.toString()!=="",b?Lo(y,Ou(c.i)):b=!!c.m,b&&(y.m=c.m),y};function xt(c){return new yn(c)}function Pt(c,y,b){c.j=b?gi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function hs(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Lo(c,y,b){y instanceof ds?(c.i=y,da(c.i,c.l)):(b||(y=br(y,fs)),c.i=new ds(y,c.l))}function Ye(c,y,b){c.i.set(y,b)}function vr(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function br(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,on),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,Nu=/[#\?:]/g,Po=/[#\?]/g,fs=/[#\?@]/g,Cu=/#/g;function ds(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}r=ds.prototype,r.add=function(c,y){ln(this),this.i=null,c=ms(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function Iu(c,y){ln(c),y=ms(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Uo(c,y){return ln(c),y=ms(c,y),c.g.has(y)}r.forEach=function(c,y){ln(this),this.g.forEach(function(b,x){b.forEach(function(P){c.call(y,P,x,this)},this)},this)};function zo(c,y){ln(c);let b=[];if(typeof y=="string")Uo(c,y)&&(b=b.concat(c.g.get(ms(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)b=b.concat(c[y]);return b}r.set=function(c,y){return ln(this),this.i=null,c=ms(this,c),Uo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=zo(this,c),c.length>0?String(c[0]):y):y};function fa(c,y,b){Iu(c,y),b.length>0&&(c.i=null,c.g.set(ms(c,y),j(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let x=0;x<y.length;x++){var b=y[x];const P=ji(b);b=zo(this,b);for(let F=0;F<b.length;F++){let te=P;b[F]!==""&&(te+="="+ji(b[F])),c.push(te)}}return this.i=c.join("&")};function Ou(c){const y=new ds;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function ms(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function da(c,y){y&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(b,x){const P=x.toLowerCase();x!=P&&(Iu(this,x),fa(this,P,b))},c)),c.j=y}function Qn(c,y){const b=new Fn;if(h.Image){const x=new Image;x.onload=E(Nn,b,"TestLoadImage: loaded",!0,y,x),x.onerror=E(Nn,b,"TestLoadImage: error",!1,y,x),x.onabort=E(Nn,b,"TestLoadImage: abort",!1,y,x),x.ontimeout=E(Nn,b,"TestLoadImage: timeout",!1,y,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else y(!1)}function Bo(c,y){const b=new Fn,x=new AbortController,P=setTimeout(()=>{x.abort(),Nn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:x.signal}).then(F=>{clearTimeout(P),F.ok?Nn(b,"TestPingServer: ok",!0,y):Nn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(P),Nn(b,"TestPingServer: error",!1,y)})}function Nn(c,y,b,x,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),x(b)}catch{}}function ps(){this.g=new _u}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(yi,vu),yi.prototype.g=function(){return new Er(this.i,this.h)};function Er(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Er,bt),r=Er.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?gs(this):$n(this),this.readyState==3&&ma(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,gs(this))},r.Na=function(c){this.g&&(this.response=c,gs(this))},r.ga=function(){this.g&&gs(this)};function gs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let y="";return De(c,function(b,x){y+=x,y+=":",y+=b,y+=`\r
`}),y}function Tr(c,y,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=Cn(b),typeof c=="string"?b!=null&&ji(b):Ye(c,y,b))}function Ze(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,bt);var _i=/^https?$/i,qo=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){Sr(this,F);return}if(c=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var P in x)b.set(P,x[P]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const F of x.keys())b.set(F,x.get(F));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(F=>F.toLowerCase()=="content-type"),P=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(qo,y,void 0)>=0)||x||P||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,te]of b)this.g.setRequestHeader(F,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Sr(this,F)}};function Sr(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ho(c),Li(c)}function Ho(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?xr(this):this.Xa())},r.Xa=function(){xr(this)};function xr(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var x;if(x=F===0){let te=String(c.D).match(Ru)[1]||null;!te&&h.self&&h.self.location&&(te=h.self.location.protocol.slice(0,-1)),x=!_i.test(te?te.toLowerCase():"")}b=x}if(b)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var P=Yn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Ho(c)}}finally{Li(c)}}}}function Li(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,y||Mt(c,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),hf(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const y={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(N(c[x]))continue;var b=xu(c[x]);const P=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const F=y[P]||[];y[P]=F,F.push(b)}He(y,function(x){return x.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function ys(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Do(c&&c.concurrentRequestLimit),this.Ba=new ps,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ys.prototype,r.ka=8,r.I=1,r.connect=function(c,y,b,x){Et(0),this.W=c,this.H=y||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.J=Pu(this,null,this.W),bi(this)};function Fo(c){if(pa(c),c.I==3){var y=c.V++,b=xt(c.J);if(Ye(b,"SID",c.M),Ye(b,"RID",y),Ye(b,"TYPE","terminate"),wr(c,b),y=new Gn(c,c.j,y),y.M=2,y.A=vr(xt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=y.A,b=!0),b||(y.g=Uu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),hi(y)}Lu(c)}function _s(c){c.g&&(Ko(c),c.g.cancel(),c.g=null)}function pa(c){_s(c),c.v&&(h.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function bi(c){if(!Mo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ie||R(),Se||(Ie(),Se=!0),I.add(y,c),c.D=0}}function ga(c,y){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(p(c.Ea,c,y),ju(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Gn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=M(F),ne(F,this.U)):F=this.U),this.u!==null||this.R||(P.J=F,F=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Du(this,P,y),b=xt(this.J),Ye(b,"RID",c),Ye(b,"CVER",22),this.G&&Ye(b,"X-HTTP-Session-Id",this.G),wr(this,b),F&&(this.R?y="headers="+ji(Cn(F))+"&"+y:this.u&&Tr(b,this.u,F)),ko(this.h,P),this.Ra&&Ye(b,"TYPE","init"),this.S?(Ye(b,"$req",y),Ye(b,"SID","null"),P.U=!0,ci(P,b,null)):ci(P,b,y),this.I=2}}else this.I==3&&(c?Go(this,c):this.i.length==0||Mo(this.h)||Go(this))};function Go(c,y){var b;y?b=y.l:b=c.V++;const x=xt(c.J);Ye(x,"SID",c.M),Ye(x,"RID",b),Ye(x,"AID",c.K),wr(c,x),c.u&&c.o&&Tr(x,c.u,c.o),b=new Gn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Du(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ko(c.h,b),ci(b,x,y)}function wr(c,y){c.H&&De(c.H,function(b,x){Ye(y,x,b)}),c.l&&De({},function(b,x){Ye(y,x,b)})}function Du(c,y,b){b=Math.min(c.i.length,b);const x=c.l?p(c.l.Ka,c.l,c):null;e:{var P=c.i;let Ae=-1;for(;;){const gt=["count="+b];Ae==-1?b>0?(Ae=P[0].g,gt.push("ofs="+Ae)):Ae=0:gt.push("ofs="+Ae);let Ke=!0;for(let ut=0;ut<b;ut++){var F=P[ut].g;const In=P[ut].map;if(F-=Ae,F<0)Ae=Math.max(0,P[ut].g-100),Ke=!1;else try{F="req"+F+"_"||"";try{var te=In instanceof Map?In:Object.entries(In);for(const[Ti,Xn]of te){let Jn=Xn;m(Xn)&&(Jn=cs(Xn)),gt.push(F+Ti+"="+encodeURIComponent(Jn))}}catch(Ti){throw gt.push(F+"type="+encodeURIComponent("_badmap")),Ti}}catch{x&&x(In)}}if(Ke){te=gt.join("&");break e}}te=void 0}return c=c.i.splice(0,b),y.G=c,te}function Mu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ie||R(),Se||(Ie(),Se=!0),I.add(y,c),c.A=0}}function Ar(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(p(c.Da,c),ju(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),_s(this),ku(this))};function Ko(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function ku(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=xt(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),wr(c,y),c.u&&c.o&&Tr(y,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=vr(xt(y)),b.u=null,b.R=!0,la(b,c)}r.Va=function(){this.C!=null&&(this.C=null,_s(this),Ar(this),Et(19))};function ya(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Vu(c,y){var b=null;if(c.g==y){ya(c),Ko(c),c.g=null;var x=2}else if(pi(c.h,y))b=y.G,Vo(c.h,y),x=1;else return;if(c.I!=0){if(y.o)if(x==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var P=c.D;x=oa(),Mt(x,new oi(x,b)),bi(c)}else Mu(c);else if(P=y.m,P==3||P==0&&y.X>0||!(x==1&&ga(c,y)||x==2&&Ar(c)))switch(b&&b.length>0&&(y=c.h,y.i=y.i.concat(b)),P){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function ju(c,y){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*y}function Ei(c,y){if(c.j.info("Error code "+y),y==2){var b=p(c.bb,c),x=c.Ua;const P=!x;x=new yn(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Pt(x,"https"),vr(x),P?Qn(x.toString(),b):Bo(x.toString(),b)}else Et(2);c.I=0,c.l&&c.l.pa(y),Lu(c),pa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Lu(c){if(c.I=0,c.ja=[],c.l){const y=jo(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ja,y),q(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function Pu(c,y,b){var x=b instanceof yn?xt(b):new yn(b);if(x.g!="")y&&(x.g=y+"."+x.g),hs(x,x.u);else{var P=h.location;x=P.protocol,y=y?y+"."+P.hostname:P.hostname,P=+P.port;const F=new yn(null);x&&Pt(F,x),y&&(F.g=y),P&&hs(F,P),b&&(F.h=b),x=F}return b=c.G,y=c.wa,b&&y&&Ye(x,b,y),Ye(x,"VER",c.ka),wr(c,x),x}function Uu(c,y,b){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Ze(new yi({ab:b})):new Ze(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}r=zu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function vs(){}vs.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){bt.call(this),this.g=new ys(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ui(this)}T(sn,bt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Fo(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=cs(c),c=b);y.i.push(new St(y.Ya++,c)),y.I==3&&bi(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,sn.Z.N.call(this)};function Bu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Bu,qt);function qu(){An.call(this),this.status=1}T(qu,An);function Ui(c){this.g=c}T(Ui,zu),Ui.prototype.ra=function(){Mt(this.g,"a")},Ui.prototype.qa=function(c){Mt(this.g,new Bu(c))},Ui.prototype.pa=function(c){Mt(this.g,new qu)},Ui.prototype.oa=function(){Mt(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,kb=function(){return new vs},Mb=function(){return oa()},Db=pt,zm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,ih=yr,Io.COMPLETE="complete",Ob=Io,bu.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,kl=bu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Ib=Ze}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const cv="@firebase/firestore",hv="4.9.3";let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let bo="12.7.0";const Xr=new hp("@firebase/firestore");function Ja(){return Xr.logLevel}function re(r,...e){if(Xr.logLevel<=Le.DEBUG){const n=e.map(Tp);Xr.debug(`Firestore (${bo}): ${r}`,...n)}}function as(r,...e){if(Xr.logLevel<=Le.ERROR){const n=e.map(Tp);Xr.error(`Firestore (${bo}): ${r}`,...n)}}function lo(r,...e){if(Xr.logLevel<=Le.WARN){const n=e.map(Tp);Xr.warn(`Firestore (${bo}): ${r}`,...n)}}function Tp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ye(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Vb(r,s,n)}function Vb(r,e,n){let s=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw as(s),new Error(s)}function $e(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Vb(e,o,s)}function we(r,e){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends ls{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class jb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class fR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dR{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zs,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zs)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new jb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class mR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new mR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=u=>{u.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,re("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Sp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=yR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function Bm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Em(o)===Em(u)?Pe(o,u):Em(o)?1:-1}return Pe(r.length,e.length)}const _R=55296,vR=57343;function Em(r){const e=r.charCodeAt(0);return e>=_R&&e<=vR}function uo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const dv="__name__";class Ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Ri.isNumericId(e),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):Bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class it extends Ri{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ie(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const bR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ri{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return bR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dv}static keyField(){return new Yt([dv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ie(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ie(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ie(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ie(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(it.fromString(e))}static fromName(e){return new de(it.fromString(e).popFirst(5))}static empty(){return new de(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new it(e.slice()))}}function Lb(r,e,n){if(!n)throw new ie(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ER(r,e,n,s){if(e===!0&&s===!0)throw new ie(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function mv(r){if(!de.isDocumentKey(r))throw new ie(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pv(r){if(de.isDocumentKey(r))throw new ie(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Pb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function Bn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ie(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zh(r);throw new ie(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function hu(r,e){if(!Pb(r))throw new ie(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ie(X.INVALID_ARGUMENT,n);return!0}const gv=-62135596800,yv=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*yv);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gv)throw new ie(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Ot("string",at._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new at(0,0))}static max(){return new Te(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xl=-1;function TR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new er(o,de.empty(),e)}function SR(r){return new er(r.readTime,r.key,Xl)}class er{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new er(Te.min(),de.empty(),Xl)}static max(){return new er(Te.max(),de.empty(),Xl)}}function xR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}const wR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==wR)throw r;re("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,s)=>{n(e)}))}static reject(e){return new Z(((n,s)=>{s(e)}))}static waitFor(e){return new Z(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next((o=>o?Z.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new Z(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{h[p]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new Z(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function RR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(r){return r.name==="IndexedDbTransactionError"}class Bh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bh.ce=-1;const xp=-1;function qh(r){return r==null}function _h(r){return r===0&&1/r==-1/0}function NR(r){return typeof r=="number"&&Number.isInteger(r)&&!_h(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Ub="";function CR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=_v(e)),e=IR(r.get(n),e);return _v(e)}function IR(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Ub:n+="";break;default:n+=u}}return n}function _v(r){return r+Ub+""}function vv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function cr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function zb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bv(this.data.getIterator())}getIteratorFrom(e){return new bv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class bv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Bb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Bb("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const OR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(r){if($e(!!r,39018),typeof r=="string"){let e=0;const n=OR.exec(r);if($e(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function nr(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const qb="server_timestamp",Hb="__type__",Fb="__previous_value__",Gb="__local_write_time__";function wp(r){return(r?.mapValue?.fields||{})[Hb]?.stringValue===qb}function Hh(r){const e=r.mapValue.fields[Fb];return wp(e)?Hh(e):e}function Jl(r){const e=tr(r.mapValue.fields[Gb].timestampValue);return new at(e.seconds,e.nanos)}class DR{constructor(e,n,s,o,u,h,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const vh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||vh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}const Kb="__type__",MR="__max__",Yc={mapValue:{}},Qb="__vector__",bh="value";function ir(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wp(r)?4:VR(r)?9007199254740991:kR(r)?10:11:ye(28295,{value:r})}function Vi(r,e){if(r===e)return!0;const n=ir(r);if(n!==ir(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=tr(o.timestampValue),m=tr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return nr(o.bytesValue).isEqual(nr(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),m=vt(u.doubleValue);return h===m?_h(h)===_h(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return uo(r.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(vv(h)!==vv(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Vi(h[g],m[g])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function Wl(r,e){return(r.values||[]).find((n=>Vi(n,e)))!==void 0}function co(r,e){if(r===e)return 0;const n=ir(r),s=ir(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=vt(u.integerValue||u.doubleValue),g=vt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return Ev(r.timestampValue,e.timestampValue);case 4:return Ev(Jl(r),Jl(e));case 5:return Bm(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=nr(u),g=nr(h);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Pe(m[p],g[p]);if(E!==0)return E}return Pe(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Pe(vt(u.latitude),vt(h.latitude));return m!==0?m:Pe(vt(u.longitude),vt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Tv(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[bh]?.arrayValue,E=g[bh]?.arrayValue,T=Pe(p?.values?.length||0,E?.values?.length||0);return T!==0?T:Tv(p,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Yc.mapValue&&h===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(h===Yc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const w=Bm(g[T],E[T]);if(w!==0)return w;const j=co(m[g[T]],p[E[T]]);if(j!==0)return j}return Pe(g.length,E.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function Ev(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=tr(r),s=tr(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function Tv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=co(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function ho(r){return qm(r)}function qm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=tr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return nr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=qm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${qm(n.fields[h])}`;return o+"}"})(r.mapValue):ye(61005,{value:r})}function sh(r){switch(ir(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(r);return e?16+sh(e):16;case 5:return 2*r.stringValue.length;case 6:return nr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+sh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return cr(s.fields,((u,h)=>{o+=u.length+sh(h)})),o})(r.mapValue);default:throw ye(13486,{value:r})}}function Sv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Hm(r){return!!r&&"integerValue"in r}function Ap(r){return!!r&&"arrayValue"in r}function xv(r){return!!r&&"nullValue"in r}function wv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function rh(r){return!!r&&"mapValue"in r}function kR(r){return(r?.mapValue?.fields||{})[Kb]?.stringValue===Qb}function zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return cr(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=zl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(r.arrayValue.values[n]);return e}return{...r}}function VR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===MR}class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=zl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){cr(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new pn(zl(this.value))}}function $b(r){const e=[];return cr(r.fields,((n,s)=>{const o=new Yt([n]);if(rh(s)){const u=$b(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new wn(e)}class en{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Te.min(),Te.min(),Te.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Te.min(),Te.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Te.min(),Te.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function Av(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(h.referenceValue),n.key):s=co(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Rv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Vi(r.position[n],e.position[n]))return!1;return!0}class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function jR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Yb{}class It extends Yb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new PR(e,n,s):n==="array-contains"?new BR(e,s):n==="in"?new qR(e,s):n==="not-in"?new HR(e,s):n==="array-contains-any"?new FR(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new UR(e,s):new zR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(co(n,this.value)):n!==null&&ir(this.value)===ir(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends Yb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ii(e,n)}matches(e){return Xb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Xb(r){return r.op==="and"}function Jb(r){return LR(r)&&Xb(r)}function LR(r){for(const e of r.filters)if(e instanceof ii)return!1;return!0}function Fm(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+ho(r.value);if(Jb(r))return r.filters.map((e=>Fm(e))).join(",");{const e=r.filters.map((n=>Fm(n))).join(",");return`${r.op}(${e})`}}function Zb(r,e){return r instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Vi(s.value,o.value)})(r,e):r instanceof ii?(function(s,o){return o instanceof ii&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&Zb(h,o.filters[m])),!0):!1})(r,e):void ye(19439)}function Wb(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`})(r):r instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(Wb).join(" ,")+"}"})(r):"Filter"}class PR extends It{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class UR extends It{constructor(e,n){super(e,"in",n),this.keys=eE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class zR extends It{constructor(e,n){super(e,"not-in",n),this.keys=eE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function eE(r,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class BR extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ap(n)&&Wl(n.arrayValue,this.value)}}class qR extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class HR extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class FR extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Wl(this.value.arrayValue,s)))}}class GR{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Nv(r,e=null,n=[],s=[],o=null,u=null,h=null){return new GR(r,e,n,s,o,u,h)}function Rp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Fm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ho(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ho(s))).join(",")),e.Te=n}return e.Te}function Np(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!jR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Zb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Rv(r.startAt,e.startAt)&&Rv(r.endAt,e.endAt)}function Gm(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class So{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KR(r,e,n,s,o,u,h,m){return new So(r,e,n,s,o,u,h,m)}function Fh(r){return new So(r)}function Cv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tE(r){return r.collectionGroup!==null}function Bl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(Yt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new eu(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new eu(Yt.keyField(),s))}return e.Ie}function Oi(r){const e=we(r);return e.Ee||(e.Ee=QR(e,Bl(r))),e.Ee}function QR(r,e){if(r.limitType==="F")return Nv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new eu(o.field,u)}));const n=r.endAt?new Eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eh(r.startAt.position,r.startAt.inclusive):null;return Nv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Km(r,e){const n=r.filters.concat([e]);return new So(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Qm(r,e,n){return new So(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Gh(r,e){return Np(Oi(r),Oi(e))&&r.limitType===e.limitType}function nE(r){return`${Rp(Oi(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Wb(o))).join(", ")}]`),qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ho(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ho(o))).join(",")),`Target(${s})`})(Oi(r))}; limitType=${r.limitType})`}function Kh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Bl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=Av(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,Bl(s),o)||s.endAt&&!(function(h,m,g){const p=Av(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,Bl(s),o))})(r,e)}function $R(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iE(r){return(e,n)=>{let s=!1;for(const o of Bl(r)){const u=YR(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function YR(r,e,n){const s=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?co(g,p):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cr(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return zb(this.inner)}size(){return this.innerSize}}const XR=new ht(de.comparator);function os(){return XR}const sE=new ht(de.comparator);function Vl(...r){let e=sE;for(const n of r)e=e.insert(n.key,n);return e}function rE(r){let e=sE;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Fr(){return ql()}function aE(){return ql()}function ql(){return new ea((r=>r.toString()),((r,e)=>r.isEqual(e)))}const JR=new ht(de.comparator),ZR=new Vt(de.comparator);function Ue(...r){let e=ZR;for(const n of r)e=e.add(n);return e}const WR=new Vt(Pe);function eN(){return WR}function Cp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function oE(r){return{integerValue:""+r}}function tN(r,e){return NR(e)?oE(e):Cp(r,e)}class Qh{constructor(){this._=void 0}}function nN(r,e,n){return r instanceof Th?(function(o,u){const h={fields:{[Hb]:{stringValue:qb},[Gb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&wp(u)&&(u=Hh(u)),u&&(h.fields[Fb]=u),{mapValue:h}})(n,e):r instanceof tu?uE(r,e):r instanceof nu?cE(r,e):(function(o,u){const h=lE(o,u),m=Iv(h)+Iv(o.Ae);return Hm(h)&&Hm(o.Ae)?oE(m):Cp(o.serializer,m)})(r,e)}function iN(r,e,n){return r instanceof tu?uE(r,e):r instanceof nu?cE(r,e):n}function lE(r,e){return r instanceof Sh?(function(s){return Hm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Th extends Qh{}class tu extends Qh{constructor(e){super(),this.elements=e}}function uE(r,e){const n=hE(e);for(const s of r.elements)n.some((o=>Vi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class nu extends Qh{constructor(e){super(),this.elements=e}}function cE(r,e){let n=hE(e);for(const s of r.elements)n=n.filter((o=>!Vi(o,s)));return{arrayValue:{values:n}}}class Sh extends Qh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Iv(r){return vt(r.integerValue||r.doubleValue)}function hE(r){return Ap(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function sN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof tu&&o instanceof tu||s instanceof nu&&o instanceof nu?uo(s.elements,o.elements,Vi):s instanceof Sh&&o instanceof Sh?Vi(s.Ae,o.Ae):s instanceof Th&&o instanceof Th})(r.transform,e.transform)}class rN{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $h{}function fE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ip(r.key,qn.none()):new fu(r.key,r.data,qn.none());{const n=r.data,s=pn.empty();let o=new Vt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new hr(r.key,s,new wn(o.toArray()),qn.none())}}function aN(r,e,n){r instanceof fu?(function(o,u,h){const m=o.value.clone(),g=Dv(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof hr?(function(o,u,h){if(!ah(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Dv(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(dE(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Hl(r,e,n,s){return r instanceof fu?(function(u,h,m,g){if(!ah(u.precondition,h))return m;const p=u.value.clone(),E=Mv(u.fieldTransforms,g,h);return p.setAll(E),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof hr?(function(u,h,m,g){if(!ah(u.precondition,h))return m;const p=Mv(u.fieldTransforms,g,h),E=h.data;return E.setAll(dE(u)),E.setAll(p),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return ah(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function oN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=lE(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function Ov(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&uo(s,o,((u,h)=>sN(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fu extends $h{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hr extends $h{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dE(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function Dv(r,e,n){const s=new Map;$e(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,iN(h,m,n[o]))}return s}function Mv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,nN(u,h,e))}return s}class Ip extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lN extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&aN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Hl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Hl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=aE();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=fE(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,((n,s)=>Ov(n,s)))&&uo(this.baseMutations,e.baseMutations,((n,s)=>Ov(n,s)))}}class Op{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return JR})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Op(e,n,s,o)}}class cN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,qe;function fN(r){switch(r){case X.OK:return ye(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function mE(r){if(r===void 0)return as("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ct.OK:return X.OK;case Ct.CANCELLED:return X.CANCELLED;case Ct.UNKNOWN:return X.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return X.INTERNAL;case Ct.UNAVAILABLE:return X.UNAVAILABLE;case Ct.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ct.NOT_FOUND:return X.NOT_FOUND;case Ct.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ct.ABORTED:return X.ABORTED;case Ct.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ct.DATA_LOSS:return X.DATA_LOSS;default:return ye(39323,{code:r})}}(qe=Ct||(Ct={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function dN(){return new TextEncoder}const mN=new Js([4294967295,4294967295],0);function kv(r){const e=dN().encode(r),n=new Cb;return n.update(e),new Uint8Array(n.digest())}function Vv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Js([n,s],0),new Js([o,u],0)]}class Dp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Js.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Js.fromNumber(s)));return o.compare(mN)===1&&(o=new Js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kv(e),[s,o]=Vv(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Dp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=kv(e),[s,o]=Vv(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Yh(Te.min(),o,new ht(Pe),os(),Ue())}}class du{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new du(s,n,Ue(),Ue(),Ue())}}class oh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class pE{constructor(e,n){this.targetId=e,this.Ce=n}}class gE{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class jv{constructor(){this.ve=0,this.Fe=Lv(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new du(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Lv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pN{constructor(e){this.Ge=e,this.ze=new Map,this.je=os(),this.Je=Xc(),this.He=Xc(),this.Ye=new ht(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Gm(u))if(s===0){const h=new de(u.path);this.et(n,h,en.newNoDocument(h,Te.min()))}else $e(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=nr(s).toUint8Array()}catch(g){if(g instanceof Bb)return lo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Dp(h,o,u)}catch(g){return lo(g instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Gm(m.target)){const g=new de(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,en.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Ue();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Yh(e,n,this.Ye,this.je,s);return this.je=os(),this.Je=Xc(),this.He=Xc(),this.Ye=new ht(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new jv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xc(){return new ht(de.comparator)}function Lv(){return new ht(de.comparator)}const gN={asc:"ASCENDING",desc:"DESCENDING"},yN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_N={and:"AND",or:"OR"};class vN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(r,e){return r.useProto3Json||qh(e)?e:{value:e}}function xh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function bN(r,e){return xh(r,e.toTimestamp())}function Di(r){return $e(!!r,49232),Te.fromTimestamp((function(n){const s=tr(n);return new at(s.seconds,s.nanos)})(r))}function Mp(r,e){return Ym(r,e).canonicalString()}function Ym(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function _E(r){const e=it.fromString(r);return $e(SE(e),10190,{key:e.toString()}),e}function Xm(r,e){return Mp(r.databaseId,e.path)}function Tm(r,e){const n=_E(e);if(n.get(1)!==r.databaseId.projectId)throw new ie(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ie(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(bE(n))}function vE(r,e){return Mp(r.databaseId,e)}function EN(r){const e=_E(r);return e.length===4?it.emptyPath():bE(e)}function Jm(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function bE(r){return $e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Pv(r,e,n){return{name:Xm(r,e),fields:n.value.mapValue.fields}}function TN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ye(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?($e(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const E=p.code===void 0?X.UNKNOWN:mE(p.code);return new ie(E,p.message||"")})(h);n=new gE(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Tm(r,s.document.name),u=Di(s.document.updateTime),h=s.document.createTime?Di(s.document.createTime):Te.min(),m=new pn({mapValue:{fields:s.document.fields}}),g=en.newFoundDocument(o,u,h,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new oh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Tm(r,s.document),u=s.readTime?Di(s.readTime):Te.min(),h=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new oh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Tm(r,s.document),u=s.removedTargetIds||[];n=new oh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new hN(o,u),m=s.targetId;n=new pE(m,h)}}return n}function SN(r,e){let n;if(e instanceof fu)n={update:Pv(r,e.key,e.value)};else if(e instanceof Ip)n={delete:Xm(r,e.key)};else if(e instanceof hr)n={update:Pv(r,e.key,e.data),updateMask:DN(e.fieldMask)};else{if(!(e instanceof lN))return ye(16599,{Vt:e.type});n={verify:Xm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Th)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof tu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof nu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Sh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:bN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),n}function xN(r,e){return r&&r.length>0?($e(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Di(o.updateTime):Di(u);return h.isEqual(Te.min())&&(h=Di(u)),new rN(h,o.transformResults||[])})(n,e)))):[]}function wN(r,e){return{documents:[vE(r,e.path)]}}function AN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vE(r,o);const u=(function(p){if(p.length!==0)return TE(ii.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((E=>(function(w){return{field:Wa(w.field),direction:CN(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=$m(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function RN(r){let e=EN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=EE(T);return w instanceof ii&&Jb(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((w=>(function(q){return new eu(eo(q.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,qh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(T){const w=!!T.before,j=T.values||[];return new Eh(j,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const w=!T.before,j=T.values||[];return new Eh(j,w)})(n.endAt)),KR(e,o,h,u,m,"F",g,p)}function NN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=eo(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=eo(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((s=>EE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function CN(r){return gN[r]}function IN(r){return yN[r]}function ON(r){return _N[r]}function Wa(r){return{fieldPath:r.canonicalString()}}function eo(r){return Yt.fromServerFormat(r.fieldPath)}function TE(r){return r instanceof It?(function(n){if(n.op==="=="){if(wv(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(xv(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wv(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(xv(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:IN(n.op),value:n.value}}})(r):r instanceof ii?(function(n){const s=n.getFilters().map((o=>TE(o)));return s.length===1?s[0]:{compositeFilter:{op:ON(n.op),filters:s}}})(r):ye(54877,{filter:r})}function DN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function SE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Qs{constructor(e,n,s,o,u=Te.min(),h=Te.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MN{constructor(e){this.yt=e}}function kN(r){const e=RN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qm(e,e.limit,"L"):e}class VN{constructor(){this.Cn=new jN}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(er.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(er.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class jN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(it.comparator)).toArray()}}const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xE=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(xE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}const zv="LruGarbageCollector",LN=1048576;function Bv([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class PN{constructor(e){this.Ir=e,this.buffer=new Vt(Bv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Bv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(zv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?re(zv,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Vr(3e5)}))}}class zN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Bh.ce);const s=new PN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Uv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),Ja()<=Le.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function BN(r,e){return new zN(r,e)}class qN{constructor(){this.changes=new ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class FN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Hl(s.mutation,o,wn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Fr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Vl();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Fr();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=os();const h=ql(),m=(function(){return ql()})();return n.forEach(((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof hr)?u=u.insert(p.key,p):E!==void 0?(h.set(p.key,E.mutation.getFieldMask()),Hl(E.mutation,p,E.mutation.getFieldMask(),at.now())):h.set(p.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>h.set(p,E))),n.forEach(((p,E)=>m.set(p,new HN(E,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ql();let o=new ht(((h,m)=>h-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||wn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const T=(o.get(m.batchId)||Ue()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,T=aE();E.forEach((w=>{if(!u.has(w)){const j=fE(n.get(w),s.get(w));j!==null&&T.set(w,j),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,T))}return Z.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return de.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(Fr());let m=Xl,g=u;return h.next((p=>Z.forEach(p,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Ue()))).next((E=>({batchId:m,changes:rE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let o=Vl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Vl();return this.indexManager.getCollectionParents(e,u).next((m=>Z.forEach(m,(g=>{const p=(function(T,w){return new So(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,p)=>{const E=p.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))}));let m=Vl();return h.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&Hl(E.mutation,p,wn.empty(),at.now()),Kh(n,p)&&(m=m.insert(g,p))})),m}))}}class GN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:kN(o.bundledQuery),readTime:Di(o.readTime)}})(n)),Z.resolve()}}class KN{constructor(){this.overlays=new ht(de.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Fr();return Z.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=Fr(),u=n.length+1,h=new de(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((p,E)=>p-E));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Fr(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Fr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return Z.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new cN(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class QN{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}class kp{constructor(){this.Qr=new Vt(zt.$r),this.Ur=new Vt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new de(new it([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new it([])),s=new zt(n,e),o=new zt(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}class $N{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(zt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new uN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?xp:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Pe);return n.forEach((o=>{const u=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const h=new zt(new de(u),0);let m=new Vt(Pe);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),h),Z.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class YN{constructor(e){this.ri=e,this.docs=(function(){return new ht(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=os();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=os();const h=n.path,m=new de(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||xR(SR(E),s)<=0||(o.has(E.key)||Kh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ii(e,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new XN(this)}getSize(e){return Z.resolve(this.size)}}class XN extends qN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class JN{constructor(e){this.persistence=e,this.si=new ea((n=>Rp(n)),Np),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new kp,this.targetCount=0,this.ai=fo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}class wE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Bh(0),this.li=!1,this.li=!0,this.hi=new QN,this.referenceDelegate=e(this),this.Pi=new JN(this),this.indexManager=new VN,this.remoteDocumentCache=(function(o){return new YN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new MN(n),this.Ii=new GN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new $N(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){re("MemoryPersistence","Starting transaction:",e);const o=new ZN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class ZN extends AR{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new kp,this.Vi=null}static mi(e){return new Vp(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const o=de.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.pi=new ea((s=>CR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=BN(this,n)}static mi(e,n){return new wh(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return Z.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}br(e,n,s){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jp(e,n.fromCache,s,o)}}class WN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class eC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Mx()?8:RR(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new WN;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ja()<=Le.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ja()<=Le.DEBUG&&re("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ja()<=Le.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):Z.resolve())}ys(e,n){if(Cv(n))return Z.resolve(null);let s=Oi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Qm(n,null,"F"),s=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ue(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,h,g.readTime)?this.ys(e,Qm(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return Cv(n)||o.isEqual(Te.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?Z.resolve(null):(Ja()<=Le.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(e,h,n,TR(o,Xl)).next((m=>m)))}))}Ds(e,n){let s=new Vt(iE(e));return n.forEach(((o,u)=>{Kh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ja()<=Le.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ps.getDocumentsMatchingQuery(e,n,er.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Lp="LocalStore",tC=3e8;class nC{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Pe),this.xs=new ea((u=>Rp(u)),Np),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function iC(r,e,n,s){return new nC(r,e,n,s)}async function AE(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=Ue();for(const p of o){h.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function sC(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const T=p.batch,w=T.keys();let j=Z.resolve();return w.forEach((q=>{j=j.next((()=>E.getEntry(g,q))).next((H=>{const W=p.docVersions.get(q);$e(W!==null,48541),H.version.compareTo(W)<0&&(T.applyToRemoteDocument(H,p),H.isValidDocument()&&(H.setReadTime(p.commitVersion),E.addEntry(H)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Ue();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function RE(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function rC(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let j=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?j=j.withResumeToken(Xt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,s)),o=o.insert(T,j),(function(H,W,oe){return H.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=tC?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0})(w,j,E)&&m.push(n.Pi.updateTargetData(u,j))}));let g=os(),p=Ue();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(aC(u,h,e.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!s.isEqual(Te.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return Z.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function aC(r,e,n){let s=Ue(),o=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=os();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):re(Lp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function oC(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=xp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function lC(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,Z.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new Qs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Zm(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!To(h))throw h;re(Lp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function qv(r,e,n){const s=we(r);let o=Te.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,E){const T=we(g),w=T.xs.get(E);return w!==void 0?Z.resolve(T.Ms.get(w)):T.Pi.getTargetData(p,E)})(s,h,Oi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Te.min(),n?u:Ue()))).next((m=>(uC(s,$R(e),m),{documents:m,Qs:u})))))}function uC(r,e,n){let s=r.Os.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class Hv{constructor(){this.activeTargetIds=eN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cC{constructor(){this.Mo=new Hv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Hv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hC{Oo(e){}shutdown(){}}const Fv="ConnectivityMonitor";class Gv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jc=null;function Wm(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}const Sm="RestConnection",fC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Wm(),m=this.zo(e,n.toUriEncodedString());re(Sm,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),E=yo(p);return this.Jo(e,m,g,s,E).then((T=>(re(Sm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw lo(Sm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=fC[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class mC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class pC extends dC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Wm();return new Promise(((m,g)=>{const p=new Ib;p.setWithCredentials(!0),p.listenOnce(Ob.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case ih.NO_ERROR:const T=p.getResponseJson();re(Zt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case ih.TIMEOUT:re(Zt,`RPC '${e}' ${h} timed out`),g(new ie(X.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const w=p.getStatus();if(re(Zt,`RPC '${e}' ${h} failed with status:`,w,"response text:",p.getResponseText()),w>0){let j=p.getResponseJson();Array.isArray(j)&&(j=j[0]);const q=j?.error;if(q&&q.status&&q.message){const H=(function(oe){const le=oe.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(le)>=0?le:X.UNKNOWN})(q.status);g(new ie(H,q.message))}else g(new ie(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ie(X.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{re(Zt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);re(Zt,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Wm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=kb(),m=Mb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");re(Zt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const T=h.createWebChannel(E,g);this.I_(T);let w=!1,j=!1;const q=new mC({Yo:W=>{j?re(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(w||(re(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),re(Zt,`RPC '${e}' stream ${o} sending:`,W),T.send(W))},Zo:()=>T.close()}),H=(W,oe,le)=>{W.listen(oe,(ue=>{try{le(ue)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return H(T,kl.EventType.OPEN,(()=>{j||(re(Zt,`RPC '${e}' stream ${o} transport opened.`),q.o_())})),H(T,kl.EventType.CLOSE,(()=>{j||(j=!0,re(Zt,`RPC '${e}' stream ${o} transport closed`),q.a_(),this.E_(T))})),H(T,kl.EventType.ERROR,(W=>{j||(j=!0,lo(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),q.a_(new ie(X.UNAVAILABLE,"The operation could not be completed")))})),H(T,kl.EventType.MESSAGE,(W=>{if(!j){const oe=W.data[0];$e(!!oe,16349);const le=oe,ue=le?.error||le[0]?.error;if(ue){re(Zt,`RPC '${e}' stream ${o} received error:`,ue);const _e=ue.status;let Ie=(function(R){const A=Ct[R];if(A!==void 0)return mE(A)})(_e),Se=ue.message;Ie===void 0&&(Ie=X.INTERNAL,Se="Unknown error status: "+_e+" with message "+ue.message),j=!0,q.a_(new ie(Ie,Se)),T.close()}else re(Zt,`RPC '${e}' stream ${o} received:`,oe),q.u_(oe)}})),H(m,Db.STAT_EVENT,(W=>{W.stat===zm.PROXY?re(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===zm.NOPROXY&&re(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function xm(){return typeof document<"u"?document:null}function Xh(r){return new vN(r,!0)}class NE{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Kv="PersistentStream";class CE{constructor(e,n,s,o,u,h,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(as(n.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ie(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(Kv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(re(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gC extends CE{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Di(h.readTime):Te.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Jm(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=Gm(g)?{documents:wN(u,g)}:{query:AN(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=yE(u,h.resumeToken);const p=$m(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=xh(u,h.snapshotVersion.toTimestamp());const p=$m(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=NN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Jm(this.serializer),n.removeTarget=e,this.q_(n)}}class yC extends CE{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xN(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Jm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>SN(this.serializer,s)))};this.q_(n)}}class _C{}class vC extends _C{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ie(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Ym(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ie(X.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Ym(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ie(X.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class EC{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ta(this)&&(re(Jr,"Restarting streams for network reachability change."),await(async function(g){const p=we(g);p.Ea.add(4),await mu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Jh(p)})(this))}))})),this.Ra=new bC(s,o)}}async function Jh(r){if(ta(r))for(const e of r.da)await e(!0)}async function mu(r){for(const e of r.da)await e(!1)}function IE(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Bp(n)?zp(n):xo(n).O_()&&Up(n,e))}function Pp(r,e){const n=we(r),s=xo(n);n.Ia.delete(e),s.O_()&&OE(n,e),n.Ia.size===0&&(s.O_()?s.L_():ta(n)&&n.Ra.set("Unknown"))}function Up(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(r).Y_(e)}function OE(r,e){r.Va.Ue(e),xo(r).Z_(e)}function zp(r){r.Va=new pN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),xo(r).start(),r.Ra.ua()}function Bp(r){return ta(r)&&!xo(r).x_()&&r.Ia.size>0}function ta(r){return we(r).Ea.size===0}function DE(r){r.Va=void 0}async function TC(r){r.Ra.set("Online")}async function SC(r){r.Ia.forEach(((e,n)=>{Up(r,e)}))}async function xC(r,e){DE(r),Bp(r)?(r.Ra.ha(e),zp(r)):r.Ra.set("Unknown")}async function wC(r,e,n){if(r.Ra.set("Online"),e instanceof gE&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){re(Jr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ah(r,s)}else if(e instanceof oh?r.Va.Ze(e):e instanceof pE?r.Va.st(e):r.Va.tt(e),!n.isEqual(Te.min()))try{const s=await RE(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),OE(u,g);const T=new Qs(E.target,g,p,E.sequenceNumber);Up(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){re(Jr,"Failed to raise snapshot:",s),await Ah(r,s)}}async function Ah(r,e,n){if(!To(e))throw e;r.Ea.add(1),await mu(r),r.Ra.set("Offline"),n||(n=()=>RE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{re(Jr,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Jh(r)}))}function ME(r,e){return e().catch((n=>Ah(r,n,e)))}async function Zh(r){const e=we(r),n=sr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xp;for(;AC(e);)try{const o=await oC(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,RC(e,o)}catch(o){await Ah(e,o)}kE(e)&&VE(e)}function AC(r){return ta(r)&&r.Ta.length<10}function RC(r,e){r.Ta.push(e);const n=sr(r);n.O_()&&n.X_&&n.ea(e.mutations)}function kE(r){return ta(r)&&!sr(r).x_()&&r.Ta.length>0}function VE(r){sr(r).start()}async function NC(r){sr(r).ra()}async function CC(r){const e=sr(r);for(const n of r.Ta)e.ea(n.mutations)}async function IC(r,e,n){const s=r.Ta.shift(),o=Op.from(s,e,n);await ME(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Zh(r)}async function OC(r,e){e&&sr(r).X_&&await(async function(s,o){if((function(h){return fN(h)&&h!==X.ABORTED})(o.code)){const u=s.Ta.shift();sr(s).B_(),await ME(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Zh(s)}})(r,e),kE(r)&&VE(r)}async function Qv(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),re(Jr,"RemoteStore received new credentials");const s=ta(n);n.Ea.add(3),await mu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jh(n)}async function DC(r,e){const n=we(r);e?(n.Ea.delete(2),await Jh(n)):e||(n.Ea.add(2),await mu(n),n.Ra.set("Unknown"))}function xo(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new gC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:TC.bind(null,r),t_:SC.bind(null,r),r_:xC.bind(null,r),H_:wC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Bp(r)?zp(r):r.Ra.set("Unknown")):(await r.ma.stop(),DE(r))}))),r.ma}function sr(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new yC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:NC.bind(null,r),r_:OC.bind(null,r),ta:CC.bind(null,r),na:IC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Zh(r)):(await r.fa.stop(),r.Ta.length>0&&(re(Jr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class qp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new qp(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(r,e){if(as("AsyncQueue",`${e}: ${r}`),To(r))return new ie(X.UNAVAILABLE,`${e}: ${r}`);throw r}class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Vl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class $v{constructor(){this.ga=new ht(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class mo{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new mo(e,n,ro.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class MC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kC{constructor(){this.queries=Yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=Yv(),u.forEach(((h,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ie(X.ABORTED,"Firestore shutting down"))}}function Yv(){return new ea((r=>nE(r)),Gh)}async function jE(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new MC,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Hp(h,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Fp(n)}async function LE(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function VC(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Fp(n)}function jC(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Fp(r){r.Ca.forEach((e=>{e.next()}))}var ep,Xv;(Xv=ep||(ep={})).Ma="default",Xv.Cache="cache";class PE{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ep.Cache}}class UE{constructor(e){this.key=e}}class zE{constructor(e){this.key=e}}class LC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=iE(e),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new $v,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),j=Kh(this.query,T)?T:null,q=!!w&&this.mutatedKeys.has(w.key),H=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let W=!1;w&&j?w.data.isEqual(j.data)?q!==H&&(s.track({type:3,doc:j}),W=!0):this.su(w,j)||(s.track({type:2,doc:j}),W=!0,(g&&this.eu(j,g)>0||p&&this.eu(j,p)<0)&&(m=!0)):!w&&j?(s.track({type:0,doc:j}),W=!0):w&&!j&&(s.track({type:1,doc:w}),W=!0,(g||p)&&(m=!0)),W&&(j?(h=h.add(j),u=H?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(j,q){const H=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:W})}};return H(j)-H(q)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,h.length!==0||p?{snapshot:new mo(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new zE(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new UE(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gp="SyncEngine";class PC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class UC{constructor(e){this.key=e,this.hu=!1}}class zC{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ea((m=>nE(m)),Gh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(de.comparator),this.Au=new Map,this.Ru=new kp,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BC(r,e,n=!0){const s=KE(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await BE(s,e,n,!0),o}async function qC(r,e){const n=KE(r);await BE(n,e,!0,!1)}async function BE(r,e,n,s){const o=await lC(r.localStore,Oi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await HC(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&IE(r.remoteStore,o),m}async function HC(r,e,n,s,o){r.pu=(T,w,j)=>(async function(H,W,oe,le){let ue=W.view.ru(oe);ue.Cs&&(ue=await qv(H.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,ue))));const _e=le&&le.targetChanges.get(W.targetId),Ie=le&&le.targetMismatches.get(W.targetId)!=null,Se=W.view.applyChanges(ue,H.isPrimaryClient,_e,Ie);return Zv(H,W.targetId,Se.au),Se.snapshot})(r,T,w,j);const u=await qv(r.localStore,e,!0),h=new LC(e,u.Qs),m=h.ru(u.documents),g=du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);Zv(r,n,p.au);const E=new PC(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function FC(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Gh(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Pp(s.remoteStore,o.targetId),tp(s,o.targetId)})).catch(Eo)):(tp(s,o.targetId),await Zm(s.localStore,o.targetId,!0))}async function GC(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pp(n.remoteStore,s.targetId))}async function KC(r,e,n){const s=WC(r);try{const o=await(function(h,m){const g=we(h),p=at.now(),E=m.reduce(((j,q)=>j.add(q.key)),Ue());let T,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let q=os(),H=Ue();return g.Ns.getEntries(j,E).next((W=>{q=W,q.forEach(((oe,le)=>{le.isValidDocument()||(H=H.add(oe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,q))).next((W=>{T=W;const oe=[];for(const le of m){const ue=oN(le,T.get(le.key).overlayedDocument);ue!=null&&oe.push(new hr(le.key,ue,$b(ue.value.mapValue),qn.exists(!0)))}return g.mutationQueue.addMutationBatch(j,p,oe,m)})).next((W=>{w=W;const oe=W.applyToLocalDocumentSet(T,H);return g.documentOverlayCache.saveOverlays(j,W.batchId,oe)}))})).then((()=>({batchId:w.batchId,changes:rE(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.Vu[h.currentUser.toKey()];p||(p=new ht(Pe)),p=p.insert(m,g),h.Vu[h.currentUser.toKey()]=p})(s,o.batchId,n),await pu(s,o.changes),await Zh(s.remoteStore)}catch(o){const u=Hp(o,"Failed to persist write");n.reject(u)}}async function qE(r,e){const n=we(r);try{const s=await rC(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?$e(h.hu,14607):o.removedDocuments.size>0&&($e(h.hu,42227),h.hu=!1))})),await pu(n,s,e)}catch(s){await Eo(s)}}function Jv(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=we(h);g.onlineState=m;let p=!1;g.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(p=!0)})),p&&Fp(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function QC(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(de.comparator);h=h.insert(u,en.newNoDocument(u,Te.min()));const m=Ue().add(u),g=new Yh(Te.min(),new Map,new ht(Pe),h,m);await qE(s,g),s.du=s.du.remove(u),s.Au.delete(e),Kp(s)}else await Zm(s.localStore,e,!1).then((()=>tp(s,e,n))).catch(Eo)}async function $C(r,e){const n=we(r),s=e.batch.batchId;try{const o=await sC(n.localStore,e);FE(n,s,null),HE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await Eo(o)}}async function YC(r,e,n){const s=we(r);try{const o=await(function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((T=>($e(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);FE(s,e,n),HE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pu(s,o)}catch(o){await Eo(o)}}function HE(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function FE(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function tp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||GE(r,s)}))}function GE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Pp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Kp(r))}function Zv(r,e,n){for(const s of n)s instanceof UE?(r.Ru.addReference(s.key,e),XC(r,s)):s instanceof zE?(re(Gp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||GE(r,s.key)):ye(19791,{wu:s})}function XC(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(re(Gp,"New document in limbo: "+n),r.Eu.add(s),Kp(r))}function Kp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(it.fromString(e)),s=r.fu.next();r.Au.set(s,new UC(n)),r.du=r.du.insert(n,s),IE(r.remoteStore,new Qs(Oi(Fh(n.path)),s,"TargetPurposeLimboResolution",Bh.ce))}}async function pu(r,e,n){const s=we(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=jp.As(g.targetId,p);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,p){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Z.forEach(p,(w=>Z.forEach(w.Es,(j=>E.persistence.referenceDelegate.addReference(T,w.targetId,j))).next((()=>Z.forEach(w.ds,(j=>E.persistence.referenceDelegate.removeReference(T,w.targetId,j)))))))))}catch(T){if(!To(T))throw T;re(Lp,"Failed to update sequence numbers: "+T)}for(const T of p){const w=T.targetId;if(!T.fromCache){const j=E.Ms.get(w),q=j.snapshotVersion,H=j.withLastLimboFreeSnapshotVersion(q);E.Ms=E.Ms.insert(w,H)}}})(s.localStore,u))}async function JC(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){re(Gp,"User change. New user:",e.toKey());const s=await AE(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ie(X.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(n,s.Ls)}}function ZC(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function KE(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QC.bind(null,e),e.Pu.H_=VC.bind(null,e.eventManager),e.Pu.yu=jC.bind(null,e.eventManager),e}function WC(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$C.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YC.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iC(this.persistence,new eC,e.initialUser,this.serializer)}Cu(e){return new wE(Vp.mi,this.serializer)}Du(e){return new cC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class eI extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof wh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new UN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new wE((s=>wh.mi(s,n)),this.serializer)}}class np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Jv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JC.bind(null,this.syncEngine),await DC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kC})()}createDatastore(e){const n=Xh(e.databaseInfo.databaseId),s=(function(u){return new pC(u)})(e.databaseInfo);return(function(u,h,m,g){return new vC(u,h,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new EC(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Jv(this.syncEngine,n,0)),(function(){return Gv.v()?new Gv:new hC})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,E){const T=new zC(o,u,h,m,g,p);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);re(Jr,"RemoteStore shutting down."),s.Ea.add(5),await mu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}np.provider={build:()=>new np};class QE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const rr="FirestoreClient";class tI{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{re(rr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(re(rr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Hp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function wm(r,e){r.asyncQueue.verifyOperationInProgress(),re(rr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await AE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Wv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await nI(r);re(rr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Qv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Qv(e.remoteStore,o))),r._onlineComponents=e}async function nI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){re(rr,"Using user provided OfflineComponentProvider");try{await wm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await wm(r,new Rh)}}else re(rr,"Using default OfflineComponentProvider"),await wm(r,new eI(void 0));return r._offlineComponents}async function $E(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(re(rr,"Using user provided OnlineComponentProvider"),await Wv(r,r._uninitializedComponentsProvider._online)):(re(rr,"Using default OnlineComponentProvider"),await Wv(r,new np))),r._onlineComponents}function iI(r){return $E(r).then((e=>e.syncEngine))}async function ip(r){const e=await $E(r),n=e.eventManager;return n.onListen=BC.bind(null,e.syncEngine),n.onUnlisten=FC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GC.bind(null,e.syncEngine),n}function sI(r,e,n={}){const s=new Zs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const E=new QE({next:w=>{E.Nu(),h.enqueueAndForget((()=>LE(u,T)));const j=w.docs.has(m);!j&&w.fromCache?p.reject(new ie(X.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&w.fromCache&&g&&g.source==="server"?p.reject(new ie(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),T=new PE(Fh(m.path),E,{includeMetadataChanges:!0,qa:!0});return jE(u,T)})(await ip(r),r.asyncQueue,e,n,s))),s.promise}function YE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const e1=new Map;const XE="firestore.googleapis.com",t1=!0;class n1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XE,this.ssl=t1}else this.host=e.host,this.ssl=e.ssl??t1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LN)throw new ie(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ER("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new hR;switch(s.type){case"firstParty":return new pR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ie(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=e1.get(n);s&&(re("ComponentProvider","Removing Datastore"),e1.delete(n),s.terminate())})(this),Promise.resolve()}}function rI(r,e,n,s={}){r=Bn(r,Wh);const o=yo(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(z1(`https://${m}`),B1("Firestore",!0)),u.host!==XE&&u.host!==m&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Kr(g,h)&&(r._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=Wt.MOCK_USER;else{p=xx(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ie(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(T)}r._authCredentials=new fR(new jb(p,E))}}class na{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(hu(n,mt._jsonSchema))return new mt(e,s||null,new de(it.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Ot("string",mt._jsonSchemaVersion),referencePath:Ot("string")};class Ws extends na{constructor(e,n,s){super(e,n,Fh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new de(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function ar(r,e,...n){if(r=jt(r),Lb("collection","path",e),r instanceof Wh){const s=it.fromString(e,...n);return pv(s),new Ws(r,null,s)}{if(!(r instanceof mt||r instanceof Ws))throw new ie(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return pv(s),new Ws(r.firestore,null,s)}}function si(r,e,...n){if(r=jt(r),arguments.length===1&&(e=Sp.newId()),Lb("doc","path",e),r instanceof Wh){const s=it.fromString(e,...n);return mv(s),new mt(r,null,new de(s))}{if(!(r instanceof mt||r instanceof Ws))throw new ie(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return mv(s),new mt(r.firestore,r instanceof Ws?r.converter:null,new de(s))}}const i1="AsyncQueue";class s1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NE(this,"async_queue_retry"),this._c=()=>{const s=xm();s&&re(i1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;re(i1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",r1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=qp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:r1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function r1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function a1(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class or extends Wh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new s1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s1(e),this._firestoreClient=void 0,await e}}}function aI(r,e){const n=typeof r=="object"?r:G1(),s=typeof r=="string"?r:vh,o=dp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Tx("firestore");u&&rI(o,...u)}return o}function Qp(r){if(r._terminated)throw new ie(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||oI(r),r._firestoreClient}function oI(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new DR(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,YE(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new tI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Xt.fromBase64String(e))}catch(n){throw new ie(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ot("string",zn._jsonSchemaVersion),bytes:Ot("string")};class ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $p{constructor(e){this._methodName=e}}class Mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(hu(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ot("string",Mi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ki(e.vectorValues);throw new ie(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Ot("string",ki._jsonSchemaVersion),vectorValues:Ot("object")};const lI=/^__.*__$/;class uI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class JE{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:r})}}class Yp{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ZE(this.Ac)&&lI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Xh(e)}Cc(e,n,s,o=!1){return new Yp({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(r){const e=r._freezeSettings(),n=Xh(r._databaseId);return new cI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function WE(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Xp("Data must be an object, but it was:",h,s);const m=eT(s,h);let g,p;if(u.merge)g=new wn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=sp(e,T,n);if(!h.contains(w))throw new ie(X.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);nT(E,w)||E.push(w)}g=new wn(E),p=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=h.fieldTransforms;return new uI(new pn(m),g,p)}class nf extends $p{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}function hI(r,e,n,s){const o=r.Cc(1,e,n);Xp("Data must be an object, but it was:",o,s);const u=[],h=pn.empty();cr(s,((g,p)=>{const E=Jp(e,g,n);p=jt(p);const T=o.yc(E);if(p instanceof nf)u.push(E);else{const w=gu(p,T);w!=null&&(u.push(E),h.set(E,w))}}));const m=new wn(u);return new JE(h,m,o.fieldTransforms)}function fI(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[sp(e,s,n)],g=[o];if(u.length%2!=0)throw new ie(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(sp(e,u[w])),g.push(u[w+1]);const p=[],E=pn.empty();for(let w=m.length-1;w>=0;--w)if(!nT(p,m[w])){const j=m[w];let q=g[w];q=jt(q);const H=h.yc(j);if(q instanceof nf)p.push(j);else{const W=gu(q,H);W!=null&&(p.push(j),E.set(j,W))}}const T=new wn(p);return new JE(E,T,h.fieldTransforms)}function dI(r,e,n,s=!1){return gu(n,r.Cc(s?4:3,e))}function gu(r,e){if(tT(r=jt(r)))return Xp("Unsupported field value:",e,r),eT(r,e);if(r instanceof $p)return(function(s,o){if(!ZE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=gu(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:xh(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xh(o.serializer,u)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:yE(o.serializer,s._byteString)};if(s instanceof mt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ki)return(function(h,m){return{mapValue:{fields:{[Kb]:{stringValue:Qb},[bh]:{arrayValue:{values:h.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Cp(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${zh(s)}`)})(r,e)}function eT(r,e){const n={};return zb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cr(r,((s,o)=>{const u=gu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function tT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof Mi||r instanceof zn||r instanceof mt||r instanceof $p||r instanceof ki)}function Xp(r,e,n){if(!tT(n)||!Pb(n)){const s=zh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function sp(r,e,n){if((e=jt(e))instanceof ef)return e._internalPath;if(typeof e=="string")return Jp(r,e);throw Nh("Field path arguments must be of type string or ",r,!1,void 0,n)}const mI=new RegExp("[~\\*/\\[\\]]");function Jp(r,e,n){if(e.search(mI)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ef(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Nh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ie(X.INVALID_ARGUMENT,m+r+g)}function nT(r,e){return r.some((n=>n.isEqual(e)))}class iT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pI extends iT{data(){return super.data()}}function sf(r,e){return typeof e=="string"?Jp(r,e):e instanceof ef?e._internalPath:e._delegate._internalPath}function gI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ie(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class sT extends Zp{}function po(r,e,...n){let s=[];e instanceof Zp&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof Wp)).length,m=u.filter((g=>g instanceof rf)).length;if(h>1||h>0&&m>0)throw new ie(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class rf extends sT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new rf(e,n,s)}_apply(e){const n=this._parse(e);return rT(e._query,n),new na(e.firestore,e.converter,Km(e._query,n))}_parse(e){const n=tf(e.firestore);return(function(u,h,m,g,p,E,T){let w;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ie(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){l1(T,E);const q=[];for(const H of T)q.push(o1(g,u,H));w={arrayValue:{values:q}}}else w=o1(g,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||l1(T,E),w=dI(m,h,T,E==="in"||E==="not-in");return It.create(p,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yI(r,e,n){const s=e,o=sf("where",r);return rf._create(o,s,n)}class Wp extends Zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)rT(h,g),h=Km(h,g)})(e._query,n),new na(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eg extends sT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new eg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new ie(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ie(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(u,h)})(e._query,this._field,this._direction);return new na(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new So(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function af(r,e="asc"){const n=e,s=sf("orderBy",r);return eg._create(s,n)}function o1(r,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new ie(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tE(e)&&n.indexOf("/")!==-1)throw new ie(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!de.isDocumentKey(s))throw new ie(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Sv(r,new de(s))}if(n instanceof mt)return Sv(r,n._key);throw new ie(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zh(n)}.`)}function l1(r,e){if(!Array.isArray(r)||r.length===0)throw new ie(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rT(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ie(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _I{convertValue(e,n="none"){switch(ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return cr(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[bh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new ki(n)}convertGeoPoint(e){return new Mi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Hh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=tr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);$e(SE(s),9688,{name:e});const o=new Zl(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||as(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function aT(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gr extends iT{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(sf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:Ot("string",Gr._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class lh extends Gr{data(e={}){return super.data(e)}}class ao{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ll(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new lh(this._firestore,this._userDataWriter,s.key,s,new Ll(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ll(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ll(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:vI(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}function oT(r){r=Bn(r,mt);const e=Bn(r.firestore,or);return sI(Qp(e),r._key).then((n=>hT(e,r,n)))}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:Ot("string",ao._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class lT extends _I{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function bI(r,e,n){r=Bn(r,mt);const s=Bn(r.firestore,or),o=aT(r.converter,e);return of(s,[WE(tf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,qn.none())])}function iu(r,e,n,...s){r=Bn(r,mt);const o=Bn(r.firestore,or),u=tf(o);let h;return h=typeof(e=jt(e))=="string"||e instanceof ef?fI(u,"updateDoc",r._key,e,n,s):hI(u,"updateDoc",r._key,e),of(o,[h.toMutation(r._key,qn.exists(!0))])}function uT(r){return of(Bn(r.firestore,or),[new Ip(r._key,qn.none())])}function cT(r,e){const n=Bn(r.firestore,or),s=si(r),o=aT(r.converter,e);return of(n,[WE(tf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then((()=>s))}function go(r,...e){r=jt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||a1(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(a1(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,h,m;if(r instanceof mt)h=Bn(r.firestore,or),m=Fh(r._key.path),u={next:g=>{e[s]&&e[s](hT(h,r,g))},error:e[s+1],complete:e[s+2]};else{const g=Bn(r,na);h=Bn(g.firestore,or),m=g._query;const p=new lT(h);u={next:E=>{e[s]&&e[s](new ao(h,p,g,E))},error:e[s+1],complete:e[s+2]},gI(r._query)}return(function(p,E,T,w){const j=new QE(w),q=new PE(E,j,T);return p.asyncQueue.enqueueAndForget((async()=>jE(await ip(p),q))),()=>{j.Nu(),p.asyncQueue.enqueueAndForget((async()=>LE(await ip(p),q)))}})(Qp(h),m,o,u)}function of(r,e){return(function(s,o){const u=new Zs;return s.asyncQueue.enqueueAndForget((async()=>KC(await iI(s),o,u))),u.promise})(Qp(r),e)}function hT(r,e,n){const s=n.docs.get(e._key),o=new lT(r);return new Gr(r,o,e._key,s,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){bo=o})(_o),oo(new Qr("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new or(new dR(s.getProvider("auth-internal")),new gR(h,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ie(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(p.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Xs(cv,hv,e),Xs(cv,hv,"esm2020")})();const EI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),u1=r=>{const e=TI(r);return e.charAt(0).toUpperCase()+e.slice(1)},fT=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),SI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var xI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wI=pe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},g)=>pe.createElement("svg",{ref:g,...xI,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:fT("lucide",o),...!u&&!SI(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,E])=>pe.createElement(p,E)),...Array.isArray(u)?u:[u]]));const Ee=(r,e)=>{const n=pe.forwardRef(({className:s,...o},u)=>pe.createElement(wI,{ref:u,iconNode:e,className:fT(`lucide-${EI(u1(r))}`,`lucide-${r}`,s),...o}));return n.displayName=u1(r),n};const AI=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],RI=Ee("activity",AI);const NI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],CI=Ee("arrow-left",NI);const II=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],OI=Ee("arrow-right",II);const DI=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],MI=Ee("arrow-up-right",DI);const kI=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],VI=Ee("award",kI);const jI=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],LI=Ee("baby",jI);const PI=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],UI=Ee("bell",PI);const zI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],dT=Ee("calendar-check",zI);const BI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uh=Ee("calendar",BI);const qI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rp=Ee("check",qI);const HI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],FI=Ee("chevron-down",HI);const GI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],KI=Ee("chevron-left",GI);const QI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$I=Ee("chevron-right",QI);const YI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],XI=Ee("circle-alert",YI);const JI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ZI=Ee("circle-check-big",JI);const WI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],e4=Ee("circle-question-mark",WI);const t4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],n4=Ee("circle-user",t4);const i4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],s4=Ee("clipboard-check",i4);const r4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],a4=Ee("clipboard-list",r4);const o4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],l4=Ee("clipboard",o4);const u4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tg=Ee("clock",u4);const c4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],h4=Ee("globe",c4);const f4=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],d4=Ee("heart-handshake",f4);const m4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],lf=Ee("heart",m4);const p4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],g4=Ee("loader-circle",p4);const y4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mT=Ee("log-out",y4);const _4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],v4=Ee("mail",_4);const b4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ch=Ee("map-pin",b4);const E4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],T4=Ee("menu",E4);const S4=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],x4=Ee("message-square",S4);const w4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ng=Ee("phone",w4);const A4=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],R4=Ee("pill",A4);const N4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],C4=Ee("plus",N4);const I4=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],O4=Ee("quote",I4);const D4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],M4=Ee("save",D4);const k4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],V4=Ee("search",k4);const j4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],L4=Ee("send",j4);const P4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ih=Ee("shield-check",P4);const U4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Oh=Ee("star",U4);const z4=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],ap=Ee("stethoscope",z4);const B4=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],q4=Ee("syringe",B4);const H4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pT=Ee("trash-2",H4);const F4=[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]],G4=Ee("user-search",F4);const K4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],c1=Ee("user",K4);const Q4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$4=Ee("users",Q4);const Y4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X4=Ee("x",Y4),be=r=>typeof r=="string",Ol=()=>{let r,e;const n=new Promise((s,o)=>{r=s,e=o});return n.resolve=r,n.reject=e,n},h1=r=>r==null?"":""+r,J4=(r,e,n)=>{r.forEach(s=>{e[s]&&(n[s]=e[s])})},Z4=/###/g,f1=r=>r&&r.indexOf("###")>-1?r.replace(Z4,"."):r,d1=r=>!r||be(r),Fl=(r,e,n)=>{const s=be(e)?e.split("."):e;let o=0;for(;o<s.length-1;){if(d1(r))return{};const u=f1(s[o]);!r[u]&&n&&(r[u]=new n),Object.prototype.hasOwnProperty.call(r,u)?r=r[u]:r={},++o}return d1(r)?{}:{obj:r,k:f1(s[o])}},m1=(r,e,n)=>{const{obj:s,k:o}=Fl(r,e,Object);if(s!==void 0||e.length===1){s[o]=n;return}let u=e[e.length-1],h=e.slice(0,e.length-1),m=Fl(r,h,Object);for(;m.obj===void 0&&h.length;)u=`${h[h.length-1]}.${u}`,h=h.slice(0,h.length-1),m=Fl(r,h,Object),m?.obj&&typeof m.obj[`${m.k}.${u}`]<"u"&&(m.obj=void 0);m.obj[`${m.k}.${u}`]=n},W4=(r,e,n,s)=>{const{obj:o,k:u}=Fl(r,e,Object);o[u]=o[u]||[],o[u].push(n)},Dh=(r,e)=>{const{obj:n,k:s}=Fl(r,e);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},eO=(r,e,n)=>{const s=Dh(r,n);return s!==void 0?s:Dh(e,n)},gT=(r,e,n)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in r?be(r[s])||r[s]instanceof String||be(e[s])||e[s]instanceof String?n&&(r[s]=e[s]):gT(r[s],e[s],n):r[s]=e[s]);return r},$a=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var tO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const nO=r=>be(r)?r.replace(/[&<>"'\/]/g,e=>tO[e]):r;class iO{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const sO=[" ",",","?","!",";"],rO=new iO(20),aO=(r,e,n)=>{e=e||"",n=n||"";const s=sO.filter(h=>e.indexOf(h)<0&&n.indexOf(h)<0);if(s.length===0)return!0;const o=rO.getRegExp(`(${s.map(h=>h==="?"?"\\?":h).join("|")})`);let u=!o.test(r);if(!u){const h=r.indexOf(n);h>0&&!o.test(r.substring(0,h))&&(u=!0)}return u},op=(r,e,n=".")=>{if(!r)return;if(r[e])return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0;const s=e.split(n);let o=r;for(let u=0;u<s.length;){if(!o||typeof o!="object")return;let h,m="";for(let g=u;g<s.length;++g)if(g!==u&&(m+=n),m+=s[g],h=o[m],h!==void 0){if(["string","number","boolean"].indexOf(typeof h)>-1&&g<s.length-1)continue;u+=g-u+1;break}o=h}return o},su=r=>r?.replace("_","-"),oO={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,e){console?.[r]?.apply?.(console,e)}};class Mh{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||oO,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,s,o){return o&&!this.debug?null:(be(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Mh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Mh(this.logger,e)}}var Ni=new Mh;class uf{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const o=this.observers[s].get(n)||0;this.observers[s].set(n,o+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,u])=>{for(let h=0;h<u;h++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,u])=>{for(let h=0;h<u;h++)o.apply(o,[e,...n])})}}class p1 extends uf{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,s,o={}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,h=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let m;e.indexOf(".")>-1?m=e.split("."):(m=[e,n],s&&(Array.isArray(s)?m.push(...s):be(s)&&u?m.push(...s.split(u)):m.push(s)));const g=Dh(this.data,m);return!g&&!n&&!s&&e.indexOf(".")>-1&&(e=m[0],n=m[1],s=m.slice(2).join(".")),g||!h||!be(s)?g:op(this.data?.[e]?.[n],s,u)}addResource(e,n,s,o,u={silent:!1}){const h=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator;let m=[e,n];s&&(m=m.concat(h?s.split(h):s)),e.indexOf(".")>-1&&(m=e.split("."),o=n,n=m[1]),this.addNamespaces(n),m1(this.data,m,o),u.silent||this.emit("added",e,n,s,o)}addResources(e,n,s,o={silent:!1}){for(const u in s)(be(s[u])||Array.isArray(s[u]))&&this.addResource(e,n,u,s[u],{silent:!0});o.silent||this.emit("added",e,n,s)}addResourceBundle(e,n,s,o,u,h={silent:!1,skipCopy:!1}){let m=[e,n];e.indexOf(".")>-1&&(m=e.split("."),o=s,s=n,n=m[1]),this.addNamespaces(n);let g=Dh(this.data,m)||{};h.skipCopy||(s=JSON.parse(JSON.stringify(s))),o?gT(g,s,u):g={...g,...s},m1(this.data,m,g),h.silent||this.emit("added",e,n,s)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var yT={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,e,n,s,o){return r.forEach(u=>{e=this.processors[u]?.process(e,n,s,o)??e}),e}};const _T=Symbol("i18next/PATH_KEY");function lO(){const r=[],e=Object.create(null);let n;return e.get=(s,o)=>(n?.revoke?.(),o===_T?r:(r.push(o),n=Proxy.revocable(s,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function lp(r,e){const{[_T]:n}=r(lO());return n.join(e?.keySeparator??".")}const g1={},Am=r=>!be(r)&&typeof r!="boolean"&&typeof r!="number";class kh extends uf{constructor(e,n={}){super(),J4(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ni.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const s={...n};if(e==null)return!1;const o=this.resolve(e,s);if(o?.res===void 0)return!1;const u=Am(o.res);return!(s.returnObjects===!1&&u)}extractFromKey(e,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let u=n.ns||this.options.defaultNS||[];const h=s&&e.indexOf(s)>-1,m=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!aO(e,s,o);if(h&&!m){const g=e.match(this.interpolator.nestingRegexp);if(g&&g.length>0)return{key:e,namespaces:be(u)?[u]:u};const p=e.split(s);(s!==o||s===o&&this.options.ns.indexOf(p[0])>-1)&&(u=p.shift()),e=p.join(o)}return{key:e,namespaces:be(u)?[u]:u}}translate(e,n,s){let o=typeof n=="object"?{...n}:n;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),e==null)return"";typeof e=="function"&&(e=lp(e,{...this.options,...o})),Array.isArray(e)||(e=[String(e)]);const u=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,h=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:m,namespaces:g}=this.extractFromKey(e[e.length-1],o),p=g[g.length-1];let E=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;E===void 0&&(E=":");const T=o.lng||this.language,w=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(T?.toLowerCase()==="cimode")return w?u?{res:`${p}${E}${m}`,usedKey:m,exactUsedKey:m,usedLng:T,usedNS:p,usedParams:this.getUsedParamsDetails(o)}:`${p}${E}${m}`:u?{res:m,usedKey:m,exactUsedKey:m,usedLng:T,usedNS:p,usedParams:this.getUsedParamsDetails(o)}:m;const j=this.resolve(e,o);let q=j?.res;const H=j?.usedKey||m,W=j?.exactUsedKey||m,oe=["[object Number]","[object Function]","[object RegExp]"],le=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,ue=!this.i18nFormat||this.i18nFormat.handleAsObject,_e=o.count!==void 0&&!be(o.count),Ie=kh.hasDefaultValue(o),Se=_e?this.pluralResolver.getSuffix(T,o.count,o):"",I=o.ordinal&&_e?this.pluralResolver.getSuffix(T,o.count,{ordinal:!1}):"",R=_e&&!o.ordinal&&o.count===0,A=R&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${Se}`]||o[`defaultValue${I}`]||o.defaultValue;let D=q;ue&&!q&&Ie&&(D=A);const O=Am(D),V=Object.prototype.toString.apply(D);if(ue&&D&&O&&oe.indexOf(V)<0&&!(be(le)&&Array.isArray(D))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(H,D,{...o,ns:g}):`key '${m} (${this.language})' returned an object instead of string.`;return u?(j.res=N,j.usedParams=this.getUsedParamsDetails(o),j):N}if(h){const N=Array.isArray(D),Oe=N?[]:{},ot=N?W:H;for(const K in D)if(Object.prototype.hasOwnProperty.call(D,K)){const ee=`${ot}${h}${K}`;Ie&&!q?Oe[K]=this.translate(ee,{...o,defaultValue:Am(A)?A[K]:void 0,joinArrays:!1,ns:g}):Oe[K]=this.translate(ee,{...o,joinArrays:!1,ns:g}),Oe[K]===ee&&(Oe[K]=D[K])}q=Oe}}else if(ue&&be(le)&&Array.isArray(q))q=q.join(le),q&&(q=this.extendTranslation(q,e,o,s));else{let N=!1,Oe=!1;!this.isValidLookup(q)&&Ie&&(N=!0,q=A),this.isValidLookup(q)||(Oe=!0,q=m);const K=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Oe?void 0:q,ee=Ie&&A!==q&&this.options.updateMissing;if(Oe||N||ee){if(this.logger.log(ee?"updateKey":"missingKey",T,p,m,ee?A:q),h){const M=this.resolve(m,{...o,keySeparator:!1});M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let he=[];const De=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&De&&De[0])for(let M=0;M<De.length;M++)he.push(De[M]);else this.options.saveMissingTo==="all"?he=this.languageUtils.toResolveHierarchy(o.lng||this.language):he.push(o.lng||this.language);const He=(M,$,ne)=>{const se=Ie&&ne!==q?ne:K;this.options.missingKeyHandler?this.options.missingKeyHandler(M,p,$,se,ee,o):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(M,p,$,se,ee,o),this.emit("missingKey",M,p,$,q)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_e?he.forEach(M=>{const $=this.pluralResolver.getSuffixes(M,o);R&&o[`defaultValue${this.options.pluralSeparator}zero`]&&$.indexOf(`${this.options.pluralSeparator}zero`)<0&&$.push(`${this.options.pluralSeparator}zero`),$.forEach(ne=>{He([M],m+ne,o[`defaultValue${ne}`]||A)})}):He(he,m,A))}q=this.extendTranslation(q,e,o,j,s),Oe&&q===m&&this.options.appendNamespaceToMissingKey&&(q=`${p}${E}${m}`),(Oe||N)&&this.options.parseMissingKeyHandler&&(q=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${E}${m}`:m,N?q:void 0,o))}return u?(j.res=q,j.usedParams=this.getUsedParamsDetails(o),j):q}extendTranslation(e,n,s,o,u){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const g=be(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(g){const T=e.match(this.interpolator.nestingRegexp);p=T&&T.length}let E=s.replace&&!be(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(E={...this.options.interpolation.defaultVariables,...E}),e=this.interpolator.interpolate(e,E,s.lng||this.language||o.usedLng,s),g){const T=e.match(this.interpolator.nestingRegexp),w=T&&T.length;p<w&&(s.nest=!1)}!s.lng&&o&&o.res&&(s.lng=this.language||o.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>u?.[0]===T[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${n[0]}`),null):this.translate(...T,n),s)),s.interpolation&&this.interpolator.reset()}const h=s.postProcess||this.options.postProcess,m=be(h)?[h]:h;return e!=null&&m?.length&&s.applyPostProcessor!==!1&&(e=yT.handle(m,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,n={}){let s,o,u,h,m;return be(e)&&(e=[e]),e.forEach(g=>{if(this.isValidLookup(s))return;const p=this.extractFromKey(g,n),E=p.key;o=E;let T=p.namespaces;this.options.fallbackNS&&(T=T.concat(this.options.fallbackNS));const w=n.count!==void 0&&!be(n.count),j=w&&!n.ordinal&&n.count===0,q=n.context!==void 0&&(be(n.context)||typeof n.context=="number")&&n.context!=="",H=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);T.forEach(W=>{this.isValidLookup(s)||(m=W,!g1[`${H[0]}-${W}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(m)&&(g1[`${H[0]}-${W}`]=!0,this.logger.warn(`key "${o}" for languages "${H.join(", ")}" won't get resolved as namespace "${m}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),H.forEach(oe=>{if(this.isValidLookup(s))return;h=oe;const le=[E];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(le,E,oe,W,n);else{let _e;w&&(_e=this.pluralResolver.getSuffix(oe,n.count,n));const Ie=`${this.options.pluralSeparator}zero`,Se=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(n.ordinal&&_e.indexOf(Se)===0&&le.push(E+_e.replace(Se,this.options.pluralSeparator)),le.push(E+_e),j&&le.push(E+Ie)),q){const I=`${E}${this.options.contextSeparator||"_"}${n.context}`;le.push(I),w&&(n.ordinal&&_e.indexOf(Se)===0&&le.push(I+_e.replace(Se,this.options.pluralSeparator)),le.push(I+_e),j&&le.push(I+Ie))}}let ue;for(;ue=le.pop();)this.isValidLookup(s)||(u=ue,s=this.getResource(oe,W,ue,n))}))})}),{res:s,usedKey:o,exactUsedKey:u,usedLng:h,usedNS:m}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,s,o={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,s,o):this.resourceStore.getResource(e,n,s,o)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!be(e.replace);let o=s?e.replace:e;if(s&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!s){o={...o};for(const u of n)delete o[u]}return o}static hasDefaultValue(e){const n="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&n===s.substring(0,n.length)&&e[s]!==void 0)return!0;return!1}}class y1{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ni.create("languageUtils")}getScriptPartFromCode(e){if(e=su(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=su(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(be(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(s=>{if(n)return;const o=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&e.forEach(s=>{if(n)return;const o=this.getScriptPartFromCode(s);if(this.isSupportedCode(o))return n=o;const u=this.getLanguagePartFromCode(s);if(this.isSupportedCode(u))return n=u;n=this.options.supportedLngs.find(h=>{if(h===u)return h;if(!(h.indexOf("-")<0&&u.indexOf("-")<0)&&(h.indexOf("-")>0&&u.indexOf("-")<0&&h.substring(0,h.indexOf("-"))===u||h.indexOf(u)===0&&u.length>1))return h})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),be(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let s=e[n];return s||(s=e[this.getScriptPartFromCode(n)]),s||(s=e[this.formatLanguageCode(n)]),s||(s=e[this.getLanguagePartFromCode(n)]),s||(s=e.default),s||[]}toResolveHierarchy(e,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),o=[],u=h=>{h&&(this.isSupportedCode(h)?o.push(h):this.logger.warn(`rejecting language code not found in supportedLngs: ${h}`))};return be(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&u(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&u(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&u(this.getLanguagePartFromCode(e))):be(e)&&u(this.formatLanguageCode(e)),s.forEach(h=>{o.indexOf(h)<0&&u(this.formatLanguageCode(h))}),o}}const _1={zero:0,one:1,two:2,few:3,many:4,other:5},v1={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class uO{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Ni.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const s=su(e==="dev"?"en":e),o=n.ordinal?"ordinal":"cardinal",u=JSON.stringify({cleanedCode:s,type:o});if(u in this.pluralRulesCache)return this.pluralRulesCache[u];let h;try{h=new Intl.PluralRules(s,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),v1;if(!e.match(/-|_/))return v1;const g=this.languageUtils.getLanguagePartFromCode(e);h=this.getRule(g,n)}return this.pluralRulesCache[u]=h,h}needsPlural(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,s={}){return this.getSuffixes(e,s).map(o=>`${n}${o}`)}getSuffixes(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((o,u)=>_1[o]-_1[u]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,n,s={}){const o=this.getRule(e,s);return o?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,s))}}const b1=(r,e,n,s=".",o=!0)=>{let u=eO(r,e,n);return!u&&o&&be(n)&&(u=op(r,n,s),u===void 0&&(u=op(e,n,s))),u},Rm=r=>r.replace(/\$/g,"$$$$");class E1{constructor(e={}){this.logger=Ni.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:o,prefix:u,prefixEscaped:h,suffix:m,suffixEscaped:g,formatSeparator:p,unescapeSuffix:E,unescapePrefix:T,nestingPrefix:w,nestingPrefixEscaped:j,nestingSuffix:q,nestingSuffixEscaped:H,nestingOptionsSeparator:W,maxReplaces:oe,alwaysFormat:le}=e.interpolation;this.escape=n!==void 0?n:nO,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=u?$a(u):h||"{{",this.suffix=m?$a(m):g||"}}",this.formatSeparator=p||",",this.unescapePrefix=E?"":T||"-",this.unescapeSuffix=this.unescapePrefix?"":E||"",this.nestingPrefix=w?$a(w):j||$a("$t("),this.nestingSuffix=q?$a(q):H||$a(")"),this.nestingOptionsSeparator=W||",",this.maxReplaces=oe||1e3,this.alwaysFormat=le!==void 0?le:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,s)=>n?.source===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,s,o){let u,h,m;const g=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=j=>{if(j.indexOf(this.formatSeparator)<0){const oe=b1(n,g,j,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(oe,void 0,s,{...o,...n,interpolationkey:j}):oe}const q=j.split(this.formatSeparator),H=q.shift().trim(),W=q.join(this.formatSeparator).trim();return this.format(b1(n,g,H,this.options.keySeparator,this.options.ignoreJSONStructure),W,s,{...o,...n,interpolationkey:H})};this.resetRegExp();const E=o?.missingInterpolationHandler||this.options.missingInterpolationHandler,T=o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:j=>Rm(j)},{regex:this.regexp,safeValue:j=>this.escapeValue?Rm(this.escape(j)):Rm(j)}].forEach(j=>{for(m=0;u=j.regex.exec(e);){const q=u[1].trim();if(h=p(q),h===void 0)if(typeof E=="function"){const W=E(e,u,o);h=be(W)?W:""}else if(o&&Object.prototype.hasOwnProperty.call(o,q))h="";else if(T){h=u[0];continue}else this.logger.warn(`missed to pass in variable ${q} for interpolating ${e}`),h="";else!be(h)&&!this.useRawValueToEscape&&(h=h1(h));const H=j.safeValue(h);if(e=e.replace(u[0],H),T?(j.regex.lastIndex+=h.length,j.regex.lastIndex-=u[0].length):j.regex.lastIndex=0,m++,m>=this.maxReplaces)break}}),e}nest(e,n,s={}){let o,u,h;const m=(g,p)=>{const E=this.nestingOptionsSeparator;if(g.indexOf(E)<0)return g;const T=g.split(new RegExp(`${E}[ ]*{`));let w=`{${T[1]}`;g=T[0],w=this.interpolate(w,h);const j=w.match(/'/g),q=w.match(/"/g);((j?.length??0)%2===0&&!q||q.length%2!==0)&&(w=w.replace(/'/g,'"'));try{h=JSON.parse(w),p&&(h={...p,...h})}catch(H){return this.logger.warn(`failed parsing options string in nesting for key ${g}`,H),`${g}${E}${w}`}return h.defaultValue&&h.defaultValue.indexOf(this.prefix)>-1&&delete h.defaultValue,g};for(;o=this.nestingRegexp.exec(e);){let g=[];h={...s},h=h.replace&&!be(h.replace)?h.replace:h,h.applyPostProcessor=!1,delete h.defaultValue;const p=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(p!==-1&&(g=o[1].slice(p).split(this.formatSeparator).map(E=>E.trim()).filter(Boolean),o[1]=o[1].slice(0,p)),u=n(m.call(this,o[1].trim(),h),h),u&&o[0]===e&&!be(u))return u;be(u)||(u=h1(u)),u||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),u=""),g.length&&(u=g.reduce((E,T)=>this.format(E,T,s.lng,{...s,interpolationkey:o[1].trim()}),u.trim())),e=e.replace(o[0],u),this.regexp.lastIndex=0}return e}}const cO=r=>{let e=r.toLowerCase().trim();const n={};if(r.indexOf("(")>-1){const s=r.split("(");e=s[0].toLowerCase().trim();const o=s[1].substring(0,s[1].length-1);e==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(h=>{if(h){const[m,...g]=h.split(":"),p=g.join(":").trim().replace(/^'+|'+$/g,""),E=m.trim();n[E]||(n[E]=p),p==="false"&&(n[E]=!1),p==="true"&&(n[E]=!0),isNaN(p)||(n[E]=parseInt(p,10))}})}return{formatName:e,formatOptions:n}},T1=r=>{const e={};return(n,s,o)=>{let u=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(u={...u,[o.interpolationkey]:void 0});const h=s+JSON.stringify(u);let m=e[h];return m||(m=r(su(s),o),e[h]=m),m(n)}},hO=r=>(e,n,s)=>r(su(n),s)(e);class fO{constructor(e={}){this.logger=Ni.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?T1:hO;this.formats={number:s((o,u)=>{const h=new Intl.NumberFormat(o,{...u});return m=>h.format(m)}),currency:s((o,u)=>{const h=new Intl.NumberFormat(o,{...u,style:"currency"});return m=>h.format(m)}),datetime:s((o,u)=>{const h=new Intl.DateTimeFormat(o,{...u});return m=>h.format(m)}),relativetime:s((o,u)=>{const h=new Intl.RelativeTimeFormat(o,{...u});return m=>h.format(m,u.range||"day")}),list:s((o,u)=>{const h=new Intl.ListFormat(o,{...u});return m=>h.format(m)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=T1(n)}format(e,n,s,o={}){const u=n.split(this.formatSeparator);if(u.length>1&&u[0].indexOf("(")>1&&u[0].indexOf(")")<0&&u.find(m=>m.indexOf(")")>-1)){const m=u.findIndex(g=>g.indexOf(")")>-1);u[0]=[u[0],...u.splice(1,m)].join(this.formatSeparator)}return u.reduce((m,g)=>{const{formatName:p,formatOptions:E}=cO(g);if(this.formats[p]){let T=m;try{const w=o?.formatParams?.[o.interpolationkey]||{},j=w.locale||w.lng||o.locale||o.lng||s;T=this.formats[p](m,j,{...E,...o,...w})}catch(w){this.logger.warn(w)}return T}else this.logger.warn(`there was no format function for ${p}`);return m},e)}}const dO=(r,e)=>{r.pending[e]!==void 0&&(delete r.pending[e],r.pendingCount--)};class mO extends uf{constructor(e,n,s,o={}){super(),this.backend=e,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=o,this.logger=Ni.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,o.backend,o)}queueLoad(e,n,s,o){const u={},h={},m={},g={};return e.forEach(p=>{let E=!0;n.forEach(T=>{const w=`${p}|${T}`;!s.reload&&this.store.hasResourceBundle(p,T)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?h[w]===void 0&&(h[w]=!0):(this.state[w]=1,E=!1,h[w]===void 0&&(h[w]=!0),u[w]===void 0&&(u[w]=!0),g[T]===void 0&&(g[T]=!0)))}),E||(m[p]=!0)}),(Object.keys(u).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(u),pending:Object.keys(h),toLoadLanguages:Object.keys(m),toLoadNamespaces:Object.keys(g)}}loaded(e,n,s){const o=e.split("|"),u=o[0],h=o[1];n&&this.emit("failedLoading",u,h,n),!n&&s&&this.store.addResourceBundle(u,h,s,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&s&&(this.state[e]=0);const m={};this.queue.forEach(g=>{W4(g.loaded,[u],h),dO(g,e),n&&g.errors.push(n),g.pendingCount===0&&!g.done&&(Object.keys(g.loaded).forEach(p=>{m[p]||(m[p]={});const E=g.loaded[p];E.length&&E.forEach(T=>{m[p][T]===void 0&&(m[p][T]=!0)})}),g.done=!0,g.errors.length?g.callback(g.errors):g.callback())}),this.emit("loaded",m),this.queue=this.queue.filter(g=>!g.done)}read(e,n,s,o=0,u=this.retryTimeout,h){if(!e.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:s,tried:o,wait:u,callback:h});return}this.readingCalls++;const m=(p,E)=>{if(this.readingCalls--,this.waitingReads.length>0){const T=this.waitingReads.shift();this.read(T.lng,T.ns,T.fcName,T.tried,T.wait,T.callback)}if(p&&E&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,s,o+1,u*2,h)},u);return}h(p,E)},g=this.backend[s].bind(this.backend);if(g.length===2){try{const p=g(e,n);p&&typeof p.then=="function"?p.then(E=>m(null,E)).catch(m):m(null,p)}catch(p){m(p)}return}return g(e,n,m)}prepareLoading(e,n,s={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();be(e)&&(e=this.languageUtils.toResolveHierarchy(e)),be(n)&&(n=[n]);const u=this.queueLoad(e,n,s,o);if(!u.toLoad.length)return u.pending.length||o(),null;u.toLoad.forEach(h=>{this.loadOne(h)})}load(e,n,s){this.prepareLoading(e,n,{},s)}reload(e,n,s){this.prepareLoading(e,n,{reload:!0},s)}loadOne(e,n=""){const s=e.split("|"),o=s[0],u=s[1];this.read(o,u,"read",void 0,void 0,(h,m)=>{h&&this.logger.warn(`${n}loading namespace ${u} for language ${o} failed`,h),!h&&m&&this.logger.log(`${n}loaded namespace ${u} for language ${o}`,m),this.loaded(e,h,m)})}saveMissing(e,n,s,o,u,h={},m=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const g={...h,isUpdate:u},p=this.backend.create.bind(this.backend);if(p.length<6)try{let E;p.length===5?E=p(e,n,s,o,g):E=p(e,n,s,o),E&&typeof E.then=="function"?E.then(T=>m(null,T)).catch(m):m(null,E)}catch(E){m(E)}else p(e,n,s,o,m,g)}!e||!e[0]||this.store.addResource(e[0],n,s,o)}}}const Nm=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let e={};if(typeof r[1]=="object"&&(e=r[1]),be(r[1])&&(e.defaultValue=r[1]),be(r[2])&&(e.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const n=r[3]||r[2];Object.keys(n).forEach(s=>{e[s]=n[s]})}return e},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),S1=r=>(be(r.ns)&&(r.ns=[r.ns]),be(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),be(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs?.indexOf?.("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r),Zc=()=>{},pO=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(n=>{typeof r[n]=="function"&&(r[n]=r[n].bind(r))})};class Gl extends uf{constructor(e={},n){if(super(),this.options=S1(e),this.services={},this.logger=Ni,this.modules={external:[]},pO(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(be(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=Nm();this.options={...s,...this.options,...S1(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=s.overloadTranslationOptionHandler);const o=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?Ni.init(o(this.modules.logger),this.options):Ni.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=fO;const E=new y1(this.options);this.store=new p1(this.options.resources,this.options);const T=this.services;T.logger=Ni,T.resourceStore=this.store,T.languageUtils=E,T.pluralResolver=new uO(E,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(T.formatter=o(p),T.formatter.init&&T.formatter.init(T,this.options),this.options.interpolation.format=T.formatter.format.bind(T.formatter)),T.interpolator=new E1(this.options),T.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},T.backendConnector=new mO(o(this.modules.backend),T.resourceStore,T,this.options),T.backendConnector.on("*",(j,...q)=>{this.emit(j,...q)}),this.modules.languageDetector&&(T.languageDetector=o(this.modules.languageDetector),T.languageDetector.init&&T.languageDetector.init(T,this.options.detection,this.options)),this.modules.i18nFormat&&(T.i18nFormat=o(this.modules.i18nFormat),T.i18nFormat.init&&T.i18nFormat.init(this)),this.translator=new kh(this.services,this.options),this.translator.on("*",(j,...q)=>{this.emit(j,...q)}),this.modules.external.forEach(j=>{j.init&&j.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Zc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...E)=>this.store[p](...E)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...E)=>(this.store[p](...E),this)});const m=Ol(),g=()=>{const p=(E,T)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),m.resolve(T),n(E,T)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?g():setTimeout(g,0),m}loadResources(e,n=Zc){let s=n;const o=be(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(o?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const u=[],h=m=>{if(!m||m==="cimode")return;this.services.languageUtils.toResolveHierarchy(m).forEach(p=>{p!=="cimode"&&u.indexOf(p)<0&&u.push(p)})};o?h(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(g=>h(g)),this.options.preload?.forEach?.(m=>h(m)),this.services.backendConnector.load(u,this.options.ns,m=>{!m&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(m)})}else s(null)}reloadResources(e,n,s){const o=Ol();return typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),s||(s=Zc),this.services.backendConnector.reload(e,n,u=>{o.resolve(),s(u)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&yT.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const s=Ol();this.emit("languageChanging",e);const o=m=>{this.language=m,this.languages=this.services.languageUtils.toResolveHierarchy(m),this.resolvedLanguage=void 0,this.setResolvedLanguage(m)},u=(m,g)=>{g?this.isLanguageChangingTo===e&&(o(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,s.resolve((...p)=>this.t(...p)),n&&n(m,(...p)=>this.t(...p))},h=m=>{!e&&!m&&this.services.languageDetector&&(m=[]);const g=be(m)?m:m&&m[0],p=this.store.hasLanguageSomeTranslations(g)?g:this.services.languageUtils.getBestMatchFromCodes(be(m)?[m]:m);p&&(this.language||o(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,E=>{u(E,p)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(e),s}getFixedT(e,n,s){const o=(u,h,...m)=>{let g;typeof h!="object"?g=this.options.overloadTranslationOptionHandler([u,h].concat(m)):g={...h},g.lng=g.lng||o.lng,g.lngs=g.lngs||o.lngs,g.ns=g.ns||o.ns,g.keyPrefix!==""&&(g.keyPrefix=g.keyPrefix||s||o.keyPrefix);const p=this.options.keySeparator||".";let E;return g.keyPrefix&&Array.isArray(u)?E=u.map(T=>(typeof T=="function"&&(T=lp(T,{...this.options,...h})),`${g.keyPrefix}${p}${T}`)):(typeof u=="function"&&(u=lp(u,{...this.options,...h})),E=g.keyPrefix?`${g.keyPrefix}${p}${u}`:u),this.t(E,g)};return be(e)?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=s,o}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const h=(m,g)=>{const p=this.services.backendConnector.state[`${m}|${g}`];return p===-1||p===0||p===2};if(n.precheck){const m=n.precheck(this,h);if(m!==void 0)return m}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(s,e)&&(!o||h(u,e)))}loadNamespaces(e,n){const s=Ol();return this.options.ns?(be(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{s.resolve(),n&&n(o)}),s):(n&&n(),Promise.resolve())}loadLanguages(e,n){const s=Ol();be(e)&&(e=[e]);const o=this.options.preload||[],u=e.filter(h=>o.indexOf(h)<0&&this.services.languageUtils.isSupportedCode(h));return u.length?(this.options.preload=o.concat(u),this.loadResources(h=>{s.resolve(),n&&n(h)}),s):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const u=o.getTextInfo();if(u&&u.direction)return u.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new y1(Nm());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const s=new Gl(e,n);return s.createInstance=Gl.createInstance,s}cloneInstance(e={},n=Zc){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},u=new Gl(o);if((e.debug!==void 0||e.prefix!==void 0)&&(u.logger=u.logger.clone(e)),["store","services","language"].forEach(m=>{u[m]=this[m]}),u.services={...this.services},u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},s){const m=Object.keys(this.store.data).reduce((g,p)=>(g[p]={...this.store.data[p]},g[p]=Object.keys(g[p]).reduce((E,T)=>(E[T]={...g[p][T]},E),g[p]),g),{});u.store=new p1(m,o),u.services.resourceStore=u.store}if(e.interpolation){const g={...Nm().interpolation,...this.options.interpolation,...e.interpolation},p={...o,interpolation:g};u.services.interpolator=new E1(p)}return u.translator=new kh(u.services,o),u.translator.on("*",(m,...g)=>{u.emit(m,...g)}),u.init(o,n),u.translator.options=o,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const an=Gl.createInstance();an.createInstance;an.dir;an.init;an.loadResources;an.reloadResources;an.use;an.changeLanguage;an.getFixedT;an.t;an.exists;an.setDefaultNamespace;an.hasLoadedNamespace;an.loadNamespaces;an.loadLanguages;const gO=(r,e,n,s)=>{const o=[n,{code:e,...s||{}}];if(r?.services?.logger?.forward)return r.services.logger.forward(o,"warn","react-i18next::",!0);Zr(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),r?.services?.logger?.warn?r.services.logger.warn(...o):console?.warn&&console.warn(...o)},x1={},vT=(r,e,n,s)=>{Zr(n)&&x1[n]||(Zr(n)&&(x1[n]=new Date),gO(r,e,n,s))},bT=(r,e)=>()=>{if(r.isInitialized)e();else{const n=()=>{setTimeout(()=>{r.off("initialized",n)},0),e()};r.on("initialized",n)}},up=(r,e,n)=>{r.loadNamespaces(e,bT(r,n))},w1=(r,e,n,s)=>{if(Zr(n)&&(n=[n]),r.options.preload&&r.options.preload.indexOf(e)>-1)return up(r,n,s);n.forEach(o=>{r.options.ns.indexOf(o)<0&&r.options.ns.push(o)}),r.loadLanguages(e,bT(r,s))},yO=(r,e,n={})=>!e.languages||!e.languages.length?(vT(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(r,{lng:n.lng,precheck:(s,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,r))return!1}}),Zr=r=>typeof r=="string",_O=r=>typeof r=="object"&&r!==null,vO=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,bO={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},EO=r=>bO[r],TO=r=>r.replace(vO,EO);let cp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:TO,transDefaultProps:void 0};const SO=(r={})=>{cp={...cp,...r}},xO=()=>cp;let ET;const wO=r=>{ET=r},AO=()=>ET,RO={type:"3rdParty",init(r){SO(r.options.react),wO(r)}},NO=pe.createContext();class CO{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Cm={exports:{}},Im={};var A1;function IO(){if(A1)return Im;A1=1;var r=Vh();function e(T,w){return T===w&&(T!==0||1/T===1/w)||T!==T&&w!==w}var n=typeof Object.is=="function"?Object.is:e,s=r.useState,o=r.useEffect,u=r.useLayoutEffect,h=r.useDebugValue;function m(T,w){var j=w(),q=s({inst:{value:j,getSnapshot:w}}),H=q[0].inst,W=q[1];return u(function(){H.value=j,H.getSnapshot=w,g(H)&&W({inst:H})},[T,j,w]),o(function(){return g(H)&&W({inst:H}),T(function(){g(H)&&W({inst:H})})},[T]),h(j),j}function g(T){var w=T.getSnapshot;T=T.value;try{var j=w();return!n(T,j)}catch{return!0}}function p(T,w){return w()}var E=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:m;return Im.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:E,Im}var R1;function OO(){return R1||(R1=1,Cm.exports=IO()),Cm.exports}var DO=OO();const MO=(r,e)=>Zr(e)?e:_O(e)&&Zr(e.defaultValue)?e.defaultValue:Array.isArray(r)?r[r.length-1]:r,kO={t:MO,ready:!1},VO=()=>()=>{},ia=(r,e={})=>{const{i18n:n}=e,{i18n:s,defaultNS:o}=pe.useContext(NO)||{},u=n||s||AO();u&&!u.reportNamespaces&&(u.reportNamespaces=new CO),u||vT(u,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const h=pe.useMemo(()=>({...xO(),...u?.options?.react,...e}),[u,e]),{useSuspense:m,keyPrefix:g}=h,p=o||u?.options?.defaultNS,E=Zr(p)?[p]:p||["translation"],T=pe.useMemo(()=>E,E);u?.reportNamespaces?.addUsedNamespaces?.(T);const w=pe.useRef(0),j=pe.useCallback(A=>{if(!u)return VO;const{bindI18n:D,bindI18nStore:O}=h,V=()=>{w.current+=1,A()};return D&&u.on(D,V),O&&u.store.on(O,V),()=>{D&&D.split(" ").forEach(N=>u.off(N,V)),O&&O.split(" ").forEach(N=>u.store.off(N,V))}},[u,h]),q=pe.useRef(),H=pe.useCallback(()=>{if(!u)return kO;const A=!!(u.isInitialized||u.initializedStoreOnce)&&T.every(ot=>yO(ot,u,h)),D=e.lng||u.language,O=w.current,V=q.current;if(V&&V.ready===A&&V.lng===D&&V.keyPrefix===g&&V.revision===O)return V;const Oe={t:u.getFixedT(D,h.nsMode==="fallback"?T:T[0],g),ready:A,lng:D,keyPrefix:g,revision:O};return q.current=Oe,Oe},[u,T,g,h,e.lng]),[W,oe]=pe.useState(0),{t:le,ready:ue}=DO.useSyncExternalStore(j,H,H);pe.useEffect(()=>{if(u&&!ue&&!m){const A=()=>oe(D=>D+1);e.lng?w1(u,e.lng,T,A):up(u,T,A)}},[u,e.lng,T,ue,m,W]);const _e=u||{},Ie=pe.useRef(null),Se=pe.useRef(),I=A=>{const D=Object.getOwnPropertyDescriptors(A);D.__original&&delete D.__original;const O=Object.create(Object.getPrototypeOf(A),D);if(!Object.prototype.hasOwnProperty.call(O,"__original"))try{Object.defineProperty(O,"__original",{value:A,writable:!1,enumerable:!1,configurable:!1})}catch{}return O},R=pe.useMemo(()=>{const A=_e,D=A?.language;let O=A;A&&(Ie.current&&Ie.current.__original===A?Se.current!==D?(O=I(A),Ie.current=O,Se.current=D):O=Ie.current:(O=I(A),Ie.current=O,Se.current=D));const V=[le,O,ue];return V.t=le,V.i18n=O,V.ready=ue,V},[le,_e,ue,_e.resolvedLanguage,_e.language,_e.languages]);if(u&&m&&!ue)throw new Promise(A=>{const D=()=>A();e.lng?w1(u,e.lng,T,D):up(u,T,D)});return R};var jO="firebase",LO="12.7.0";Xs(jO,LO,"app");const PO={apiKey:"AIzaSyAlZV6HLwh4tTDV9hb5JF13rPepWmnbYIU",authDomain:"family-nurse-68b2f.firebaseapp.com",projectId:"family-nurse-68b2f",storageBucket:"family-nurse-68b2f.firebasestorage.app",messagingSenderId:"948066319832",appId:"1:948066319832:web:3facec7ad50f44ea1306ad",measurementId:"G-CZPP1ZR0DY"},TT=F1(PO),Bt=aI(TT),Kl=uR(TT),UO=()=>{const[r,e]=pe.useState([]),[n,s]=pe.useState([]);pe.useEffect(()=>{const u=po(ar(Bt,"bookings"),af("createdAt","desc")),h=go(u,p=>e(p.docs.map(E=>({id:E.id,...E.data()})))),m=po(ar(Bt,"users")),g=go(m,p=>{s(p.docs.map(E=>({id:E.id,...E.data()})).filter(E=>E.role==="nurse"&&E.status==="active"))});return()=>{h(),g()}},[]);const o=async(u,h)=>{const m=n.find(g=>g.id===h);await iu(si(Bt,"bookings",u),{assignedNurseId:h,assignedNurseName:m.name,status:"assigned"}),alert("Nurse assigned successfully!")};return _.jsx("div",{className:"bg-white rounded-[2rem] border-2 border-white shadow-xl overflow-hidden",children:_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:_.jsxs("tr",{className:"text-[10px] font-bold uppercase text-slate-400",children:[_.jsx("th",{className:"p-6",children:"Patient / Service"}),_.jsx("th",{className:"p-6",children:"Schedule"}),_.jsx("th",{className:"p-6",children:"Assigned Nurse"}),_.jsx("th",{className:"p-6 text-right",children:"Actions"})]})}),_.jsx("tbody",{className:"divide-y divide-slate-50",children:r.map(u=>_.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[_.jsxs("td",{className:"p-6",children:[_.jsx("p",{className:"font-bold text-slate-800",children:u.patientName}),_.jsx("p",{className:"text-xs text-primary font-bold",children:u.service})]}),_.jsxs("td",{className:"p-6 text-xs text-slate-600 font-medium",children:[_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(uh,{size:14})," ",u.date]}),_.jsx("div",{className:"mt-1 text-slate-400",children:u.time})]}),_.jsx("td",{className:"p-6",children:_.jsxs("select",{className:"p-2 bg-slate-50 border border-slate-200 rounded-xl text-xs font-bold outline-none focus:border-primary w-full",value:u.assignedNurseId||"",onChange:h=>o(u.id,h.target.value),children:[_.jsx("option",{value:"",children:"Unassigned"}),n.map(h=>_.jsx("option",{value:h.id,children:h.name},h.id))]})}),_.jsx("td",{className:"p-6 text-right space-x-2",children:_.jsx("button",{onClick:()=>uT(si(Bt,"bookings",u.id)),className:"p-2.5 bg-red-50 text-red-500 rounded-xl hover:bg-red-500 hover:text-white transition-all",children:_.jsx(pT,{size:18})})})]},u.id))})]})})},zO=()=>{const[r,e]=pe.useState([]);pe.useEffect(()=>{const s=po(ar(Bt,"comments"),af("createdAt","desc")),o=go(s,u=>{e(u.docs.map(h=>({id:h.id,...h.data()})))});return()=>o()},[]);const n=async s=>{if(window.confirm("Delete this review?"))try{await uT(si(Bt,"comments",s))}catch(o){console.error(o)}};return _.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(s=>_.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border-2 border-white shadow-xl relative group",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 bg-teal-50 rounded-xl flex items-center justify-center text-primary font-bold",children:s.initial}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-slate-800",children:s.name}),_.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:s.role})]})]}),_.jsx("button",{onClick:()=>n(s.id),className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:_.jsx(pT,{size:18})})]}),_.jsx("div",{className:"flex gap-1 mb-3",children:[...Array(5)].map((o,u)=>_.jsx(Oh,{size:14,className:u<s.rating?"fill-yellow-400 text-yellow-400":"text-slate-200"},u))}),_.jsxs("p",{className:"text-sm text-slate-600 italic break-words leading-relaxed",children:['"',s.text,'"']})]},s.id))})},BO=({user:r,onLogout:e})=>{const[n,s]=pe.useState("bookings"),[o,u]=pe.useState([]),[h,m]=pe.useState("");pe.useEffect(()=>{const T=po(ar(Bt,"users"),af("createdAt","desc")),w=go(T,j=>{u(j.docs.map(q=>({id:q.id,...q.data()})))});return()=>w()},[]);const g=async T=>{try{await iu(si(Bt,"users",T),{status:"active"}),alert("Nurse account has been approved.")}catch(w){console.error("Approval error:",w)}},p=async T=>{if(window.confirm("Promote this user to Admin? They will have full system access."))try{await iu(si(Bt,"users",T),{role:"admin",status:"active"})}catch(w){console.error("Promotion error:",w)}},E=o.filter(T=>T.name?.toLowerCase().includes(h.toLowerCase())||T.email?.toLowerCase().includes(h.toLowerCase()));return _.jsxs("div",{className:"flex min-h-screen bg-slate-100",children:[_.jsxs("aside",{className:"w-72 bg-slate-900 text-white fixed h-full z-20 shadow-2xl",children:[_.jsxs("div",{className:"p-8 border-b border-slate-800",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx("div",{className:"bg-primary p-2 rounded-xl",children:_.jsx(Ih,{className:"text-white",size:24})}),_.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"AdminPanel"})]}),_.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-2xl border border-slate-700",children:[_.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Administrator"}),_.jsx("p",{className:"text-sm font-bold text-slate-200 truncate",children:r.name})]})]}),_.jsxs("nav",{className:"mt-8 px-4 space-y-2",children:[_.jsxs("button",{onClick:()=>s("bookings"),className:`w-full flex items-center gap-3 px-4 py-4 rounded-2xl font-bold transition-all ${n==="bookings"?"bg-primary text-white shadow-lg":"text-slate-400 hover:bg-slate-800"}`,children:[_.jsx(dT,{size:20})," Manage Bookings"]}),_.jsxs("button",{onClick:()=>s("users"),className:`w-full flex items-center gap-3 px-4 py-4 rounded-2xl font-bold transition-all ${n==="users"?"bg-primary text-white shadow-lg":"text-slate-400 hover:bg-slate-800"}`,children:[_.jsx($4,{size:20})," Nurse & User Mgmt"]}),_.jsxs("button",{onClick:()=>s("reviews"),className:`w-full flex items-center gap-3 px-4 py-4 rounded-2xl font-bold transition-all ${n==="reviews"?"bg-primary text-white shadow-lg":"text-slate-400 hover:bg-slate-800"}`,children:[_.jsx(x4,{size:20})," Reviews"]})]}),_.jsx("div",{className:"absolute bottom-8 w-full px-6",children:_.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-3 px-4 py-4 rounded-2xl text-red-400 bg-red-500/5 border border-red-500/10 hover:bg-red-500/10 transition-all font-bold",children:[_.jsx(mT,{size:20})," Sign Out"]})})]}),_.jsxs("main",{className:"flex-1 ml-72 p-10",children:[_.jsxs("header",{className:"flex justify-between items-center mb-10 bg-white p-6 rounded-[2rem] shadow-sm border border-white",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-extrabold text-slate-800 capitalize",children:n}),_.jsx("p",{className:"text-slate-500 font-medium",children:"System performance and data overview."})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"relative",children:[_.jsx(V4,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),_.jsx("input",{type:"text",placeholder:"Search...",className:"pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-50 rounded-2xl outline-none focus:border-primary w-72 text-sm font-medium",value:h,onChange:T=>m(T.target.value)})]}),_.jsxs("button",{className:"p-3 bg-slate-50 rounded-2xl text-slate-400 hover:text-primary transition-all relative",children:[_.jsx(UI,{size:22}),_.jsx("span",{className:"absolute top-3 right-3 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white"})]})]})]}),_.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n==="bookings"&&_.jsx(UO,{}),n==="reviews"&&_.jsx(zO,{}),n==="users"&&_.jsxs("div",{className:"bg-white rounded-[2.5rem] border-2 border-white shadow-xl shadow-teal-900/5 overflow-hidden",children:[_.jsx("div",{className:"p-8 border-b border-slate-50",children:_.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"System Users"})}),_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-slate-50/50 text-slate-400 text-[10px] font-bold uppercase tracking-widest",children:[_.jsx("th",{className:"px-8 py-5",children:"User Information"}),_.jsx("th",{className:"px-8 py-5",children:"Role"}),_.jsx("th",{className:"px-8 py-5",children:"Status"}),_.jsx("th",{className:"px-8 py-5 text-right",children:"Actions"})]})}),_.jsx("tbody",{className:"divide-y divide-slate-50",children:E.map(T=>_.jsxs("tr",{className:"hover:bg-slate-50/30 transition-colors",children:[_.jsxs("td",{className:"px-8 py-6",children:[_.jsx("p",{className:"font-bold text-slate-800",children:T.name}),_.jsx("p",{className:"text-xs text-slate-400 font-medium",children:T.email}),T.role==="nurse"&&T.specialization&&_.jsxs("div",{className:"mt-2 flex items-center gap-2 text-[10px] font-bold text-primary uppercase",children:[_.jsx(VI,{size:12})," ",T.specialization,"  ",T.experience," Years Exp"]})]}),_.jsx("td",{className:"px-8 py-6",children:_.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider ${T.role==="admin"?"bg-purple-100 text-purple-700":"bg-teal-100 text-teal-700"}`,children:T.role})}),_.jsx("td",{className:"px-8 py-6",children:_.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider ${T.status==="active"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:T.status})}),_.jsxs("td",{className:"px-8 py-6 text-right space-x-2",children:[T.role==="nurse"&&T.status==="pending"&&_.jsx("button",{onClick:()=>g(T.id),className:"p-2.5 bg-green-50 text-green-600 rounded-xl hover:bg-green-600 hover:text-white transition-all shadow-sm",children:_.jsx(rp,{size:18})}),T.role!=="admin"&&_.jsx("button",{onClick:()=>p(T.id),className:"p-2.5 bg-slate-100 text-slate-600 rounded-xl hover:bg-slate-900 hover:text-white transition-all shadow-sm",children:_.jsx(Ih,{size:18})})]})]},T.id))})]})]})]})]})]})},qO=({onBack:r,onLoginSuccess:e})=>{const[n,s]=pe.useState(!0),[o,u]=pe.useState(!1),[h,m]=pe.useState({email:"",password:"",name:""}),g=async p=>{p.preventDefault(),u(!0);try{if(n){const E=await Y2(Kl,h.email,h.password),T=await oT(si(Bt,"users",E.user.uid));if(T.exists()){const w=T.data();w.role==="nurse"&&w.status==="pending"?(await _b(Kl),alert("Nurse Account Pending: Please wait for admin approval.")):e({id:E.user.uid,...w})}}else{const E=await $2(Kl,h.email,h.password),T={name:h.name,email:h.email,role:"nurse",status:"pending",createdAt:new Date().toISOString()};await bI(si(Bt,"users",E.user.uid),T),alert("Registered as Nurse! Access is restricted until an Admin approves you."),s(!0)}}catch(E){alert(E.message)}finally{u(!1)}};return _.jsx("div",{className:"min-h-screen bg-[#e6f7f5] flex items-center justify-center p-4",children:_.jsxs("div",{className:"max-w-md w-full bg-white rounded-[2.5rem] shadow-2xl p-10 border-2 border-white",children:[_.jsxs("button",{onClick:r,className:"mb-6 text-slate-400 hover:text-primary transition-colors flex items-center gap-2 font-bold",children:[_.jsx(CI,{size:20})," Back to Site"]}),_.jsx("h2",{className:"text-3xl font-extrabold text-slate-800 mb-8",children:n?"Admin & Nurse Login":"Nurse Registration"}),_.jsxs("form",{onSubmit:g,className:"space-y-5",children:[!n&&_.jsx("input",{type:"text",required:!0,placeholder:"Full Name",className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl outline-none focus:border-primary",onChange:p=>m({...h,name:p.target.value})}),_.jsx("input",{type:"email",required:!0,placeholder:"Email Address",className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl outline-none focus:border-primary",onChange:p=>m({...h,email:p.target.value})}),_.jsx("input",{type:"password",required:!0,placeholder:"Password",className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl outline-none focus:border-primary",onChange:p=>m({...h,password:p.target.value})}),_.jsx("button",{type:"submit",disabled:o,className:"w-full bg-slate-900 text-white py-5 rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-slate-800 transition-all disabled:opacity-50",children:o?_.jsx(g4,{className:"animate-spin"}):n?"Sign In":"Register as Nurse"})]}),_.jsx("button",{onClick:()=>s(!n),className:"w-full mt-6 text-sm font-bold text-primary",children:n?"Need a nurse account? Register here":"Already have an account? Login"})]})})},HO=({onBack:r})=>{const[e,n]=pe.useState(1),[s,o]=pe.useState(!1),[u,h]=pe.useState({service:"",date:"",time:"",patientName:"",patientAge:"",patientPhone:"",patientEmail:"",address:"",city:"",zip:"",notes:""}),m="w-full p-4 bg-white border-2 border-slate-300 rounded-2xl shadow-sm outline-none focus:border-primary focus:ring-4 focus:ring-teal-50 transition-all font-medium text-slate-700 placeholder:text-slate-400",g=[{id:1,name:"Service",icon:_.jsx(ap,{size:20})},{id:2,name:"Schedule",icon:_.jsx(uh,{size:20})},{id:3,name:"Patient Info",icon:_.jsx(c1,{size:20})},{id:4,name:"Location",icon:_.jsx(Ch,{size:20})},{id:5,name:"Review",icon:_.jsx(s4,{size:20})}],p=["Post-Surgery Care","Elderly Care","Medication Management","IV Therapy","Newborn & Maternal Care","Chronic Disease Care","Wound Management","Physical Therapy Assistance"],E=["08:00 AM","09:00 AM","10:00 AM","11:00 AM","12:00 PM","01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM","06:00 PM"],T=()=>n(e+1),w=()=>e>1?n(e-1):r(),j=async()=>{o(!0);try{const H={...u,status:"pending",createdAt:new Date().toISOString()},W=await cT(ar(Bt,"bookings"),H);console.log("Document written with ID: ",W.id),alert("Booking successfully submitted! Our team will contact you shortly."),r()}catch(H){console.error("FIREBASE ERROR:",H),alert(`Submission failed: ${H.message}. Please check your Firebase rules.`)}finally{o(!1)}},q=()=>{switch(e){case 1:return u.service!=="";case 2:return u.date!==""&&u.time!=="";case 3:return u.patientName!==""&&u.patientPhone!=="";case 4:return u.address!==""&&u.city!=="";default:return!0}};return _.jsx("div",{className:"min-h-screen pt-28 pb-16 px-4",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs("div",{className:"relative flex justify-between items-center mb-16 px-4 max-w-2xl mx-auto",children:[_.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-slate-300 -z-10 -translate-y-1/2"}),_.jsx("div",{className:"absolute top-1/2 left-0 h-1 bg-primary -z-10 -translate-y-1/2 transition-all duration-500 ease-out",style:{width:`${(e-1)/(g.length-1)*100}%`}}),g.map(H=>_.jsxs("div",{className:"flex flex-col items-center gap-3",children:[_.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-2xl flex items-center justify-center border-2 shadow-sm transition-all duration-300 
                ${e>=H.id?"bg-primary border-primary text-white scale-110 shadow-lg shadow-teal-100":"bg-white border-slate-300 text-slate-400"}`,children:e>H.id?_.jsx(rp,{size:24}):H.icon}),_.jsx("span",{className:`text-[10px] md:text-xs font-bold uppercase tracking-wider ${e>=H.id?"text-primary":"text-slate-400"}`,children:H.name})]},H.id))]}),_.jsxs("div",{className:"bg-white rounded-[2rem] border-2 border-white shadow-xl shadow-teal-900/5 p-6 md:p-12 min-h-[550px] flex flex-col",children:[_.jsxs("div",{className:"flex-1",children:[e===1&&_.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-slate-800 mb-2",children:"Select Your Service"}),_.jsx("p",{className:"text-slate-500 mb-10",children:"What type of nursing care do you need?"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map(H=>_.jsx("button",{onClick:()=>h({...u,service:H}),className:`p-5 text-left border-2 rounded-2xl font-bold transition-all shadow-sm ${u.service===H?"border-primary bg-teal-50 text-primary ring-4 ring-teal-50":"border-slate-300 bg-white hover:border-primary hover:shadow-md text-slate-700"}`,children:H},H))})]}),e===2&&_.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-slate-800 mb-2",children:"Choose Date & Time"}),_.jsx("p",{className:"text-slate-500 mb-10",children:"When would you like the nurse to visit?"}),_.jsxs("div",{className:"space-y-8",children:[_.jsxs("div",{className:"space-y-3",children:[_.jsxs("label",{className:"text-sm font-bold text-slate-700 uppercase flex items-center gap-2",children:[_.jsx(uh,{size:16})," Select Date *"]}),_.jsx("input",{type:"date",className:m,onChange:H=>h({...u,date:H.target.value}),value:u.date})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("label",{className:"text-sm font-bold text-slate-700 uppercase flex items-center gap-2",children:[_.jsx(tg,{size:16})," Select Time Slot *"]}),_.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:E.map(H=>_.jsx("button",{onClick:()=>h({...u,time:H}),className:`p-3 text-sm border-2 rounded-xl font-bold transition-all shadow-sm ${u.time===H?"bg-primary text-white border-primary shadow-md ring-2 ring-teal-100":"bg-white border-slate-300 hover:border-primary text-slate-700"}`,children:H},H))})]})]})]}),e===3&&_.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-slate-800 mb-2",children:"Patient Information"}),_.jsx("p",{className:"text-slate-500 mb-10",children:"Tell us about the person receiving care"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Patient Name *"}),_.jsx("input",{type:"text",placeholder:"Full Name",className:m,value:u.patientName,onChange:H=>h({...u,patientName:H.target.value})})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Age"}),_.jsx("input",{type:"number",placeholder:"Years",className:m,value:u.patientAge,onChange:H=>h({...u,patientAge:H.target.value})})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Phone Number *"}),_.jsx("input",{type:"tel",placeholder:"+94 XX XXX XXXX",className:m,value:u.patientPhone,onChange:H=>h({...u,patientPhone:H.target.value})})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Email (Optional)"}),_.jsx("input",{type:"email",placeholder:"example@mail.com",className:m,value:u.patientEmail,onChange:H=>h({...u,patientEmail:H.target.value})})]})]})]}),e===4&&_.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-slate-800 mb-2",children:"Service Location"}),_.jsx("p",{className:"text-slate-500 mb-10",children:"Where should the nurse provide the service?"}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Street Address *"}),_.jsx("input",{type:"text",placeholder:"123/A, Main St...",className:m,value:u.address,onChange:H=>h({...u,address:H.target.value})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"City *"}),_.jsx("input",{type:"text",placeholder:"Colombo",className:m,value:u.city,onChange:H=>h({...u,city:H.target.value})})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"ZIP Code"}),_.jsx("input",{type:"text",placeholder:"XXXXX",className:m,value:u.zip,onChange:H=>h({...u,zip:H.target.value})})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"Special Notes"}),_.jsx("textarea",{className:`${m} h-28 resize-none`,placeholder:"Any special medical conditions or entry instructions?",value:u.notes,onChange:H=>h({...u,notes:H.target.value})})]})]})]}),e===5&&_.jsxs("div",{className:"animate-in slide-in-from-bottom-4 duration-500",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-slate-800 mb-2",children:"Review & Submit"}),_.jsx("p",{className:"text-slate-500 mb-8",children:"Please review your booking details before final submission"}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{className:"bg-teal-50/50 p-6 rounded-2xl border-2 border-teal-100",children:[_.jsxs("p",{className:"text-xs font-bold text-primary uppercase mb-2 flex items-center gap-1",children:[_.jsx(ap,{size:14})," Service"]}),_.jsx("p",{className:"text-xl font-bold text-slate-800",children:u.service||"N/A"})]}),_.jsxs("div",{className:"bg-teal-50/50 p-6 rounded-2xl border-2 border-teal-100",children:[_.jsxs("p",{className:"text-xs font-bold text-primary uppercase mb-2 flex items-center gap-1",children:[_.jsx(uh,{size:14})," Schedule"]}),_.jsxs("p",{className:"text-xl font-bold text-slate-800",children:[u.date," at ",u.time]})]})]}),_.jsxs("div",{className:"bg-teal-50/50 p-6 rounded-2xl border-2 border-teal-100",children:[_.jsxs("p",{className:"text-xs font-bold text-primary uppercase mb-2 flex items-center gap-1",children:[_.jsx(c1,{size:14})," Patient Information"]}),_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("p",{className:"text-xl font-bold text-slate-800",children:u.patientName}),_.jsxs("span",{className:"bg-white px-3 py-1 rounded-full text-xs font-bold border border-teal-200 text-teal-700",children:[u.patientAge," Years Old"]})]}),_.jsx("p",{className:"text-slate-600 font-medium mt-1",children:u.patientPhone})]}),_.jsxs("div",{className:"bg-teal-50/50 p-6 rounded-2xl border-2 border-teal-100",children:[_.jsxs("p",{className:"text-xs font-bold text-primary uppercase mb-2 flex items-center gap-1",children:[_.jsx(Ch,{size:14})," Location Details"]}),_.jsx("p",{className:"text-lg font-bold text-slate-800 leading-tight",children:u.address}),_.jsxs("p",{className:"text-slate-600 font-medium",children:[u.city," ",u.zip]})]})]}),_.jsxs("div",{className:"mt-6 flex items-start gap-3 bg-amber-50 p-4 rounded-xl border border-amber-200 text-amber-800 text-sm font-medium",children:[_.jsx(XI,{size:18,className:"mt-0.5 shrink-0"}),_.jsx("p",{children:"By submitting, you agree to our Terms of Service. A coordinator will call you within 30 minutes to confirm your nurse assignment."})]})]})]}),_.jsxs("div",{className:"mt-12 pt-8 border-t-2 border-slate-100 flex justify-between gap-4",children:[_.jsxs("button",{onClick:w,className:"px-6 md:px-10 py-4 rounded-2xl border-2 border-slate-300 bg-white font-bold text-slate-700 flex items-center gap-2 hover:border-primary hover:text-primary transition-all active:scale-95 shadow-sm",children:[_.jsx(KI,{size:20})," Back"]}),e<5?_.jsxs("button",{onClick:T,disabled:!q(),className:`px-10 md:px-14 py-4 rounded-2xl font-bold text-white flex items-center gap-2 transition-all shadow-lg active:scale-95
                  ${q()?"bg-primary hover:bg-secondary shadow-teal-200":"bg-slate-300 cursor-not-allowed"}`,children:["Next Step ",_.jsx($I,{size:20})]}):_.jsx("button",{onClick:j,disabled:s,className:"px-10 md:px-14 py-4 rounded-2xl bg-slate-900 text-white font-bold flex items-center gap-2 hover:bg-slate-800 shadow-xl shadow-slate-200 transition-all active:scale-95 disabled:opacity-50",children:s?"Processing...":_.jsxs(_.Fragment,{children:[_.jsx(rp,{size:20})," Submit Booking"]})})]})]})]})})},FO=()=>_.jsx("footer",{className:"bg-slate-900 text-slate-300 pt-24 pb-12",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-20",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"bg-primary p-2 rounded-xl",children:_.jsx(lf,{className:"text-white w-5 h-5 fill-current"})}),_.jsx("span",{className:"text-2xl font-bold text-white tracking-tight",children:"NurseCare"})]}),_.jsx("p",{className:"text-slate-400 text-lg leading-relaxed",children:"Providing professional, board-certified nursing services directly to your doorstep."})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-white text-lg mb-8",children:"Quick Links"}),_.jsxs("ul",{className:"space-y-4",children:[_.jsx("li",{children:_.jsx("a",{href:"#home",className:"hover:text-primary transition-colors",children:"Home"})}),_.jsx("li",{children:_.jsx("a",{href:"#services",className:"hover:text-primary transition-colors",children:"Services"})}),_.jsx("li",{children:_.jsx("a",{href:"#how-it-works",className:"hover:text-primary transition-colors",children:"How It Works"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Book a Nurse"})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-white text-lg mb-8",children:"Services"}),_.jsxs("ul",{className:"space-y-4",children:[_.jsx("li",{children:"Post-Surgery Recovery"}),_.jsx("li",{children:"Elderly Daily Care"}),_.jsx("li",{children:"Wound Care Management"}),_.jsx("li",{children:"IV Therapy Support"}),_.jsx("li",{children:"Maternal & Infant Care"})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-white text-lg mb-8",children:"Contact Us"}),_.jsxs("ul",{className:"space-y-6",children:[_.jsxs("li",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-primary border border-slate-700",children:_.jsx(ng,{size:18})}),_.jsx("span",{className:"font-medium",children:"1-800-NURSE-CARE"})]}),_.jsxs("li",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-primary border border-slate-700",children:_.jsx(v4,{size:18})}),_.jsx("span",{className:"font-medium",children:"hello@nursecare.com"})]}),_.jsxs("li",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-primary border border-slate-700",children:_.jsx(Ch,{size:18})}),_.jsx("span",{className:"font-medium",children:"Serving Islandwide"})]})]})]})]}),_.jsxs("div",{className:"pt-8 border-t border-slate-800 flex flex-col md:flex-row justify-between items-center gap-6 text-sm text-slate-500",children:[_.jsx("p",{children:" 2026 NurseCare. Built for professional home healthcare."}),_.jsxs("div",{className:"flex gap-10",children:[_.jsx("a",{href:"#",className:"hover:text-white transition-colors underline decoration-slate-700",children:"Privacy Policy"}),_.jsx("a",{href:"#",className:"hover:text-white transition-colors underline decoration-slate-700",children:"Terms of Service"})]})]})]})}),GO=({onBookNow:r,onHome:e})=>{const{t:n,i18n:s}=ia(),[o,u]=pe.useState(!1),h=p=>{s.changeLanguage(p),u(!1)},m=[{name:n("home"),href:"#home",action:e},{name:n("services"),href:"#services",action:e},{name:n("how_it_works"),href:"#how-it-works",action:e}],g=p=>{p.action(),u(!1)};return _.jsxs("nav",{className:"fixed top-0 w-full bg-white/90 backdrop-blur-md z-50 border-b border-teal-100 shadow-sm",children:[_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex justify-between items-center h-20",children:[_.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:e,children:[_.jsx("div",{className:"bg-primary p-2 rounded-xl shadow-lg shadow-teal-100",children:_.jsx(lf,{className:"text-white w-6 h-6 fill-current"})}),_.jsx("span",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"NurseCare"})]}),_.jsxs("div",{className:"hidden md:flex items-center space-x-10",children:[m.map(p=>_.jsx("a",{href:p.href,onClick:()=>g(p),className:"text-slate-600 font-semibold hover:text-primary transition-colors",children:p.name},p.name)),_.jsxs("div",{className:"flex items-center gap-4 border-l pl-10 border-slate-200",children:[_.jsxs("div",{className:"relative group",children:[_.jsxs("button",{className:"flex items-center gap-2 p-2.5 border border-slate-200 rounded-xl hover:bg-slate-50 transition-all",children:[_.jsx(h4,{size:18,className:"text-slate-500"}),_.jsx("span",{className:"uppercase text-sm font-bold text-slate-700",children:s.language.split("-")[0]})]}),_.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white border border-slate-100 rounded-2xl shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[_.jsx("button",{onClick:()=>h("en"),className:"block w-full text-left px-5 py-3 hover:bg-teal-50 rounded-t-2xl text-sm font-medium",children:"English"}),_.jsx("button",{onClick:()=>h("si"),className:"block w-full text-left px-5 py-3 hover:bg-teal-50 text-sm font-medium",children:""}),_.jsx("button",{onClick:()=>h("ta"),className:"block w-full text-left px-5 py-3 hover:bg-teal-50 rounded-b-2xl text-sm font-medium",children:""})]})]}),_.jsx("button",{onClick:r,className:"bg-primary text-white px-6 py-3 rounded-xl font-bold hover:bg-secondary shadow-lg shadow-teal-200 transition-all active:scale-95",children:n("book_nurse")})]})]}),_.jsx("button",{className:"md:hidden p-2 text-slate-600",onClick:()=>u(!o),children:o?_.jsx(X4,{size:28}):_.jsx(T4,{size:28})})]})}),o&&_.jsxs("div",{className:"md:hidden bg-white border-b border-teal-50 px-4 py-6 space-y-4 shadow-xl",children:[m.map(p=>_.jsx("a",{href:p.href,onClick:()=>g(p),className:"block text-lg font-semibold text-slate-700 p-2",children:p.name},p.name)),_.jsxs("div",{className:"flex flex-col gap-4 pt-4 border-t border-slate-100",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsx("button",{onClick:()=>h("en"),className:"px-4 py-2 border rounded-lg flex-1 font-bold",children:"EN"}),_.jsx("button",{onClick:()=>h("si"),className:"px-4 py-2 border rounded-lg flex-1 font-bold",children:""}),_.jsx("button",{onClick:()=>h("ta"),className:"px-4 py-2 border rounded-lg flex-1 font-bold",children:""})]}),_.jsx("button",{onClick:r,className:"w-full bg-primary text-white py-4 rounded-xl font-bold",children:n("book_nurse")})]})]})]})},KO=({user:r,onLogout:e})=>{const[n,s]=pe.useState([]),[o,u]=pe.useState("tasks"),[h,m]=pe.useState({specialization:r.specialization||"",experience:r.experience||"",bio:r.bio||""}),[g,p]=pe.useState(!1);pe.useEffect(()=>{const w=po(ar(Bt,"bookings"),yI("assignedNurseId","==",r.id)),j=go(w,q=>{s(q.docs.map(H=>({id:H.id,...H.data()})))});return()=>j()},[r.id]);const E=async w=>{w.preventDefault(),p(!0);try{await iu(si(Bt,"users",r.id),h),alert("Profile updated successfully!")}catch(j){console.error(j)}p(!1)},T=async w=>{await iu(si(Bt,"bookings",w),{status:"completed"})};return _.jsxs("div",{className:"min-h-screen bg-[#f0fdfa]",children:[_.jsx("nav",{className:"bg-white border-b border-teal-100 p-6 sticky top-0 z-10 shadow-sm",children:_.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-12 h-12 bg-primary rounded-2xl flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-teal-100",children:r.name.charAt(0)}),_.jsxs("div",{children:[_.jsx("h1",{className:"font-extrabold text-slate-800 tracking-tight",children:r.name}),_.jsxs("div",{className:"flex gap-4 mt-1",children:[_.jsx("button",{onClick:()=>u("tasks"),className:`text-[10px] font-bold uppercase tracking-widest transition-colors ${o==="tasks"?"text-primary":"text-slate-400 hover:text-slate-600"}`,children:"My Tasks"}),_.jsx("button",{onClick:()=>u("profile"),className:`text-[10px] font-bold uppercase tracking-widest transition-colors ${o==="profile"?"text-primary":"text-slate-400 hover:text-slate-600"}`,children:"My Profile"})]})]})]}),_.jsx("button",{onClick:e,className:"p-3 bg-red-50 text-red-500 rounded-xl hover:bg-red-500 hover:text-white transition-all",children:_.jsx(mT,{size:20})})]})}),_.jsx("main",{className:"max-w-5xl mx-auto p-6 md:p-10",children:o==="tasks"?_.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[_.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mb-8 flex items-center gap-2",children:[_.jsx(l4,{className:"text-primary"})," Your Assigned Tasks (",n.length,")"]}),_.jsx("div",{className:"grid gap-6",children:n.map(w=>_.jsx("div",{className:"bg-white p-8 rounded-[2.5rem] border-2 border-white shadow-xl shadow-teal-900/5",children:_.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("span",{className:"px-3 py-1 bg-teal-50 text-primary text-[10px] font-bold uppercase rounded-lg border border-teal-100",children:w.service}),_.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 mt-2",children:w.patientName})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-slate-500 font-medium",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(tg,{size:16,className:"text-primary"})," ",w.date," at ",w.time]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(ng,{size:16,className:"text-primary"})," ",w.patientPhone]}),_.jsxs("div",{className:"flex items-start gap-2 sm:col-span-2",children:[_.jsx(Ch,{size:16,className:"text-primary mt-1"})," ",w.address,", ",w.city]})]})]}),_.jsx("div",{className:"shrink-0",children:w.status==="completed"?_.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-bold bg-green-50 px-6 py-3 rounded-2xl border border-green-100",children:[_.jsx(ZI,{size:20})," Completed"]}):_.jsx("button",{onClick:()=>T(w.id),className:"w-full md:w-auto bg-slate-900 text-white px-8 py-4 rounded-2xl font-bold hover:bg-slate-800 shadow-xl active:scale-95",children:"Mark as Finished"})})]})},w.id))})]}):_.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:_.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border-2 border-white shadow-xl shadow-teal-900/5 max-w-2xl mx-auto",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[_.jsx("div",{className:"p-3 bg-teal-50 rounded-2xl text-primary",children:_.jsx(n4,{size:24})}),_.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Professional Qualifications"})]}),_.jsxs("form",{onSubmit:E,className:"space-y-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Specialization"}),_.jsx("input",{type:"text",placeholder:"e.g. ICU, Pediatrics, Geriatrics",className:"w-full p-4 bg-slate-50 border-2 border-slate-50 rounded-2xl focus:border-primary outline-none font-medium",value:h.specialization,onChange:w=>m({...h,specialization:w.target.value})})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Years of Experience"}),_.jsx("input",{type:"number",placeholder:"5",className:"w-full p-4 bg-slate-50 border-2 border-slate-50 rounded-2xl focus:border-primary outline-none font-medium",value:h.experience,onChange:w=>m({...h,experience:w.target.value})})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Short Bio & Experience"}),_.jsx("textarea",{placeholder:"Tell the admin about your nursing background...",className:"w-full p-4 bg-slate-50 border-2 border-slate-50 rounded-2xl h-32 focus:border-primary outline-none resize-none font-medium",value:h.bio,onChange:w=>m({...h,bio:w.target.value})})]}),_.jsx("button",{disabled:g,type:"submit",className:"w-full bg-slate-900 text-white py-5 rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-slate-800 transition-all shadow-xl active:scale-95 disabled:opacity-50",children:g?"Saving...":_.jsxs(_.Fragment,{children:[_.jsx(M4,{size:18})," Save Profile"]})})]})]})})})]})},{slice:QO,forEach:$O}=[];function YO(r){return $O.call(QO.call(arguments,1),e=>{if(e)for(const n in e)r[n]===void 0&&(r[n]=e[n])}),r}function XO(r){return typeof r!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(r))}const N1=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,JO=function(r,e){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(e);let u=`${r}=${o}`;if(s.maxAge>0){const h=s.maxAge-0;if(Number.isNaN(h))throw new Error("maxAge should be a Number");u+=`; Max-Age=${Math.floor(h)}`}if(s.domain){if(!N1.test(s.domain))throw new TypeError("option domain is invalid");u+=`; Domain=${s.domain}`}if(s.path){if(!N1.test(s.path))throw new TypeError("option path is invalid");u+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");u+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(u+="; Partitioned"),u},C1={create(r,e,n,s){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+n*60*1e3)),s&&(o.domain=s),document.cookie=JO(r,e,o)},read(r){const e=`${r}=`,n=document.cookie.split(";");for(let s=0;s<n.length;s++){let o=n[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(r,e){this.create(r,"",-1,e)}};var ZO={name:"cookie",lookup(r){let{lookupCookie:e}=r;if(e&&typeof document<"u")return C1.read(e)||void 0},cacheUserLanguage(r,e){let{lookupCookie:n,cookieMinutes:s,cookieDomain:o,cookieOptions:u}=e;n&&typeof document<"u"&&C1.create(n,r,s,o,u)}},WO={name:"querystring",lookup(r){let{lookupQuerystring:e}=r,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const u=s.substring(1).split("&");for(let h=0;h<u.length;h++){const m=u[h].indexOf("=");m>0&&u[h].substring(0,m)===e&&(n=u[h].substring(m+1))}}return n}},eD={name:"hash",lookup(r){let{lookupHash:e,lookupFromHashIndex:n}=r,s;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const u=o.substring(1);if(e){const h=u.split("&");for(let m=0;m<h.length;m++){const g=h[m].indexOf("=");g>0&&h[m].substring(0,g)===e&&(s=h[m].substring(g+1))}}if(s)return s;if(!s&&n>-1){const h=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(h)?h[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return s}};let Ya=null;const I1=()=>{if(Ya!==null)return Ya;try{if(Ya=typeof window<"u"&&window.localStorage!==null,!Ya)return!1;const r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{Ya=!1}return Ya};var tD={name:"localStorage",lookup(r){let{lookupLocalStorage:e}=r;if(e&&I1())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(r,e){let{lookupLocalStorage:n}=e;n&&I1()&&window.localStorage.setItem(n,r)}};let Xa=null;const O1=()=>{if(Xa!==null)return Xa;try{if(Xa=typeof window<"u"&&window.sessionStorage!==null,!Xa)return!1;const r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{Xa=!1}return Xa};var nD={name:"sessionStorage",lookup(r){let{lookupSessionStorage:e}=r;if(e&&O1())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(r,e){let{lookupSessionStorage:n}=e;n&&O1()&&window.sessionStorage.setItem(n,r)}},iD={name:"navigator",lookup(r){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:s,language:o}=navigator;if(n)for(let u=0;u<n.length;u++)e.push(n[u]);s&&e.push(s),o&&e.push(o)}return e.length>0?e:void 0}},sD={name:"htmlTag",lookup(r){let{htmlTag:e}=r,n;const s=e||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},rD={name:"path",lookup(r){let{lookupFromPathIndex:e}=r;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},aD={name:"subdomain",lookup(r){let{lookupFromSubdomainIndex:e}=r;const n=typeof e=="number"?e+1:1,s=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[n]}};let ST=!1;try{document.cookie,ST=!0}catch{}const xT=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ST||xT.splice(1,1);const oD=()=>({order:xT,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:r=>r});class wT{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=YO(n,this.options||{},oD()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(ZO),this.addDetector(WO),this.addDetector(tD),this.addDetector(nD),this.addDetector(iD),this.addDetector(sD),this.addDetector(rD),this.addDetector(aD),this.addDetector(eD)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(s=>{if(this.detectors[s]){let o=this.detectors[s].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(n=n.concat(o))}}),n=n.filter(s=>s!=null&&!XO(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}wT.type="languageDetector";an.use(wT).use(RO).init({fallbackLng:"en",resources:{en:{translation:{home:"Home",services:"Services",how_it_works:"How It Works",book_nurse:"Book a Nurse",hero_title:"Quality Nursing Care, Right at Home",hero_sub:"Connect with certified, compassionate nurses for personalized home healthcare. From post-surgery recovery to elderly care, we're here for you.",explore_services:"Explore Services",available:"Available",rating:"Rating",nurses:"Nurses",trusted_by:"Trusted by 10,000+ families",services_title:"Comprehensive Home Healthcare",services_sub:"From routine check-ups to specialized care, our nurses are trained to handle all your healthcare needs at home.",s1_t:"Post-Surgery Care",s1_d:"Expert nursing support during your recovery at home. Wound care and monitoring.",s2_t:"Elderly Care",s2_d:"Compassionate daily assistance for seniors. Personal care and health monitoring.",s3_t:"Medication Management",s3_d:"Professional administration and monitoring of medications for proper dosage.",s4_t:"IV Therapy",s4_d:"Safe and sterile intravenous treatments administered by certified nurses.",s5_t:"Newborn & Maternal Care",s5_d:"Specialized support for new mothers and infants. Breastfeeding guidance.",s6_t:"Chronic Disease Care",s6_d:"Ongoing management for diabetes, heart conditions, and other illnesses.",how_title:"Book a Nurse in 4 Simple Steps",how_sub:"Getting quality healthcare at home has never been easier.",step1_t:"Submit Your Request",step1_d:"Fill out a simple form with your care requirements and location.",step2_t:"Get Matched",step2_d:"We match you with a qualified nurse based on your specific needs.",step3_t:"Confirm Booking",step3_d:"Review the nurse's profile and finalize your booking.",step4_t:"Receive Care",step4_d:"Your nurse arrives on time, ready to provide professional care.",faq_title:"Frequently Asked Questions",q1:"Are your nurses qualified?",a1:"Yes, all our nurses are board-certified and undergo rigorous background checks.",q2:"Do you bring your own equipment?",a2:"We bring medical consumables. Specialized equipment should be discussed beforehand.",q3:"How do I make a payment?",a3:"We offer secure options including cards, online transfers, and insurance.",q4:"Is emergency service available?",a4:"For life-threatening emergencies, we recommend calling 1990 immediately.",testimonials_title:"What Our Families Say",testimonials_sub:"Real stories from real families who trusted us.",post_review:"Post a Review",full_name:"Full Name",your_role:"Your Role",select_rating:"Select Rating",message:"Message",submit_review:"Submit Review",no_reviews:"No reviews yet. Be the first to share your story!",wizard_intro:"Complete the form below to request a qualified nurse. We'll match you with the best professional.",service:"Service",schedule:"Schedule",patient_info:"Patient Info",location:"Location",review:"Review",next:"Next Step",back:"Back",submit_booking:"Submit Booking",patient_name:"Patient Name",age:"Age",phone:"Phone Number",email:"Email",street:"Street Address",city:"City",zip:"ZIP Code",special_notes:"Special Notes",footer_desc:"Providing professional, board-certified nursing services directly to your doorstep.",quick_links:"Quick Links",contact_us:"Contact Us",serving:"Serving Islandwide"}},si:{translation:{home:" ",services:"",how_it_works:"",book_nurse:" ",hero_title:"  ,  ",hero_sub:"     .           .",explore_services:"  ",available:"",rating:" ",nurses:"",trusted_by:" 10,000+  ",services_title:"   ",services_sub:"             .",s1_t:"  ",s1_d:"       .",s2_t:" ",s2_d:"      .",s3_t:" ",s3_d:"      .",s4_t:"IV ",s4_d:"        .",s5_t:"   ",s5_d:"      .",s6_t:"  ",s6_d:",      .",how_title:" 4    ",how_sub:"      .",step1_t:"  ",step1_d:"     .",step2_t:"  ",step2_d:"       .",step3_t:" ",step3_d:"      .",step4_t:" ",step4_d:"        .",faq_title:"  ",q1:"    ?",a1:",            .",q2:"   ?",a2:"     .      .",q3:"  ?",a3:",       .",q4:"  ?",a4:"      1990 .",testimonials_title:"  ",testimonials_sub:"      .",post_review:" ",full_name:" ",your_role:" ",select_rating:" ",message:"",submit_review:" ",no_reviews:"  .    !",wizard_intro:"    .      .",service:"",schedule:"",patient_info:" ",location:"",review:"",next:" ",back:"",submit_booking:" ",patient_name:" ",age:"",phone:" ",email:" ",street:"",city:"",zip:" ",special_notes:" "}},ta:{translation:{home:"",services:"",how_it_works:" ",book_nurse:" ",hero_title:"  ,  ",hero_sub:"   .           .",explore_services:" ",available:"",rating:"",nurses:"",trusted_by:"10,000+  ",services_title:"   ",services_sub:"        .",s1_t:"   ",s1_d:"     .",s2_t:" ",s2_d:"     .",s3_t:" ",s3_d:"     .",s4_t:"IV ",s4_d:"     .",s5_t:"   ",s5_d:"     .",s6_t:"  ",s6_d:" ,    .",how_title:"4    ",how_sub:"     .",step1_t:" ",step1_d:"    .",step2_t:"   ",step2_d:"      .",step3_t:" ",step3_d:"    .",step4_t:" ",step4_d:"      .",faq_title:"  ",q1:"  ?",a1:",     .",q2:"   ?",a2:"    .      .",q3:"  ?",a3:",     .",q4:"  ?",a4:"    1990  .",testimonials_title:"  ",testimonials_sub:"    .",post_review:" ",full_name:" ",your_role:" ",select_rating:"",message:"",submit_review:"",no_reviews:"  .   !",wizard_intro:"   .     .",service:"",schedule:" ",patient_info:" ",location:"",review:"",next:" ",back:"",submit_booking:" ",patient_name:" ",age:"",phone:"",email:"",street:"",city:"",zip:" ",special_notes:""}}}});const lD=()=>{const{t:r}=ia(),[e,n]=pe.useState(null),s=[{question:r("q1"),answer:r("a1")},{question:r("q2"),answer:r("a2")},{question:r("q3"),answer:r("a3")},{question:r("q4"),answer:r("a4")}];return _.jsx("section",{className:"py-24 scroll-mt-20",children:_.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[_.jsxs("div",{className:"flex items-center justify-center gap-3 mb-12 text-slate-800 animate-in fade-in duration-700",children:[_.jsx("div",{className:"bg-white p-2 rounded-xl shadow-sm border border-white",children:_.jsx(e4,{size:32,className:"text-primary"})}),_.jsx("h2",{className:"text-4xl font-extrabold tracking-tight",children:r("faq_title")})]}),_.jsx("div",{className:"space-y-4",children:s.map((o,u)=>_.jsxs("div",{className:`bg-white border-2 rounded-[1.5rem] transition-all duration-300 overflow-hidden shadow-sm hover:shadow-md 
                ${e===u?"border-primary shadow-xl shadow-teal-900/10":"border-white"}`,children:[_.jsxs("button",{onClick:()=>n(e===u?null:u),className:"w-full flex items-center justify-between p-6 md:p-8 text-left transition-all",children:[_.jsx("span",{className:`text-xl font-bold transition-colors duration-300 ${e===u?"text-primary":"text-slate-700"}`,children:o.question}),_.jsx("div",{className:`p-1 rounded-full transition-all duration-300 ${e===u?"bg-primary text-white rotate-180":"bg-slate-50 text-slate-400"}`,children:_.jsx(FI,{size:20})})]}),e===u&&_.jsxs("div",{className:"px-8 pb-8 animate-in slide-in-from-top-4 duration-500",children:[_.jsx("div",{className:"h-px bg-slate-100 mb-6"}),_.jsx("p",{className:"text-slate-600 leading-relaxed text-lg font-medium",children:o.answer})]})]},u))})]})})},uD="/Family-Nurse/assets/7967198_3804031-Dd-48aAN.jpg",cD=({onBookNow:r})=>{const{t:e}=ia(),n=()=>{const s=document.getElementById("services");s&&s.scrollIntoView({behavior:"smooth"})};return _.jsx("section",{id:"home",className:"pt-32 pb-16",children:_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[_.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-left duration-1000",children:[_.jsxs("span",{className:"inline-flex items-center px-4 py-1.5 rounded-full text-sm font-bold bg-teal-100 text-teal-800 border border-teal-200",children:[_.jsx(Ih,{size:16,className:"mr-2"})," Trusted by 10,000+ families"]}),_.jsxs("h1",{className:"text-5xl lg:text-7xl font-extrabold text-slate-900 leading-[1.1]",children:[e("hero_title").split(",")[0],", ",_.jsx("br",{}),_.jsx("span",{className:"text-primary",children:e("hero_title").split(",")[1]})]}),_.jsx("p",{className:"text-lg text-slate-500 max-w-lg leading-relaxed font-medium",children:e("hero_sub")}),_.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[_.jsxs("button",{onClick:r,className:"bg-primary text-white px-10 py-4 rounded-2xl font-bold flex items-center gap-2 hover:bg-secondary shadow-xl shadow-teal-200 transition-all active:scale-95",children:[e("book_nurse")," ",_.jsx(OI,{size:20})]}),_.jsx("button",{onClick:n,className:"bg-white border-2 border-slate-200 text-slate-700 px-10 py-4 rounded-2xl font-bold hover:bg-slate-50 transition-all active:scale-95",children:"Explore Services"})]}),_.jsxs("div",{className:"grid grid-cols-3 gap-6 pt-10 border-t border-slate-100",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold",children:[_.jsx(tg,{size:20})," ",_.jsx("span",{children:"24/7"})]}),_.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Available"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold",children:[_.jsx(Oh,{size:20,className:"fill-current"})," ",_.jsx("span",{children:"4.9/5"})]}),_.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Rating"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold",children:[_.jsx(Ih,{size:20})," ",_.jsx("span",{children:"Verified"})]}),_.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Nurses"})]})]})]}),_.jsxs("div",{className:"relative animate-in fade-in zoom-in duration-1000 delay-200",children:[_.jsx("div",{className:"absolute -inset-4 bg-primary/10 rounded-[3rem] blur-3xl"}),_.jsx("img",{src:uD,alt:"Professional Nursing Care",className:"relative w-full h-auto rounded-[2.5rem] shadow-2xl border-4 border-white"})]})]})})})},hD=()=>{const{t:r}=ia(),e=[{id:"01",title:r("step1_t"),desc:r("step1_d"),icon:_.jsx(a4,{size:24})},{id:"02",title:r("step2_t"),desc:r("step2_d"),icon:_.jsx(G4,{size:24})},{id:"03",title:r("step3_t"),desc:r("step3_d"),icon:_.jsx(dT,{size:24})},{id:"04",title:r("step4_t"),desc:r("step4_d"),icon:_.jsx(d4,{size:24})}];return _.jsx("section",{id:"how-it-works",className:"py-24 bg-white overflow-hidden scroll-mt-20",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[_.jsx("p",{className:"text-primary font-bold tracking-widest uppercase text-xs mb-3",children:r("how_it_works")}),_.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:r("how_title")}),_.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto leading-relaxed",children:r("how_sub")})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"hidden lg:block absolute top-12 left-0 w-full h-0.5 bg-slate-100 z-0"}),_.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-12 relative z-10",children:e.map(n=>_.jsxs("div",{className:"text-center group",children:[_.jsx("div",{className:"w-20 h-20 mx-auto rounded-2xl flex items-center justify-center mb-6 transition-all duration-500 shadow-sm border border-slate-200 bg-white group-hover:bg-primary group-hover:border-primary group-hover:scale-110 group-hover:shadow-xl group-hover:shadow-teal-100 group-hover:text-white text-primary",children:n.icon}),_.jsx("p",{className:"text-primary font-bold text-sm mb-2 group-hover:scale-110 transition-transform",children:n.id}),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-primary transition-colors",children:n.title}),_.jsx("p",{className:"text-gray-500 text-sm leading-relaxed px-4 group-hover:text-gray-700 transition-colors",children:n.desc})]},n.id))})]})]})})},fD=()=>{const{t:r}=ia(),e=[{title:r("s1_t"),desc:r("s1_d"),icon:_.jsx(ap,{size:28})},{title:r("s2_t"),desc:r("s2_d"),icon:_.jsx(lf,{size:28})},{title:r("s3_t"),desc:r("s3_d"),icon:_.jsx(R4,{size:28})},{title:r("s4_t"),desc:r("s4_d"),icon:_.jsx(q4,{size:28})},{title:r("s5_t"),desc:r("s5_d"),icon:_.jsx(LI,{size:28})},{title:r("s6_t"),desc:r("s6_d"),icon:_.jsx(RI,{size:28})}];return _.jsx("section",{id:"services",className:"py-24 scroll-mt-20",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[_.jsx("p",{className:"text-primary font-bold tracking-widest uppercase text-xs mb-3",children:r("services")}),_.jsx("h2",{className:"text-4xl font-bold text-slate-900 mb-6",children:r("services_title")}),_.jsx("p",{className:"text-slate-500 max-w-2xl mx-auto leading-relaxed",children:r("services_sub")})]}),_.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((n,s)=>_.jsxs("div",{className:"bg-white p-10 rounded-[2.5rem] border-2 border-white shadow-xl shadow-teal-900/5 hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 group",children:[_.jsx("div",{className:"w-16 h-16 bg-teal-50 text-primary rounded-2xl flex items-center justify-center mb-8 group-hover:bg-primary group-hover:text-white transition-all duration-300 shadow-sm",children:n.icon}),_.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4 group-hover:text-primary transition-colors",children:n.title}),_.jsx("p",{className:"text-slate-500 leading-relaxed font-medium",children:n.desc})]},s))})]})})},dD=()=>{const{t:r}=ia(),[e,n]=pe.useState([]),[s,o]=pe.useState({name:"",role:"",text:"",rating:5}),[u,h]=pe.useState(!1),m="w-full p-4 bg-white border-2 border-slate-300 rounded-2xl shadow-sm outline-none focus:border-primary focus:ring-4 focus:ring-teal-50 transition-all font-medium text-slate-700 placeholder:text-slate-400";pe.useEffect(()=>{const p=po(ar(Bt,"comments"),af("createdAt","desc")),E=go(p,T=>{const w=T.docs.map(j=>({id:j.id,...j.data()}));n(w)});return()=>E()},[]);const g=async p=>{if(p.preventDefault(),!(!s.name||!s.text)){h(!0);try{await cT(ar(Bt,"comments"),{...s,initial:s.name.charAt(0).toUpperCase(),createdAt:new Date().toISOString()}),o({name:"",role:"",text:"",rating:5})}catch(E){console.error("Error adding comment: ",E)}h(!1)}};return _.jsx("section",{className:"py-24 scroll-mt-20",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsx("p",{className:"text-primary font-bold tracking-widest uppercase text-xs mb-3",children:"Testimonials"}),_.jsx("h2",{className:"text-4xl font-bold text-slate-900 mb-4",children:r("testimonials_title")}),_.jsx("p",{className:"text-slate-500",children:r("testimonials_sub")})]}),_.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[_.jsxs("div",{className:"space-y-6 max-h-[700px] overflow-y-auto pr-4 no-scrollbar",children:[e.map(p=>_.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border-2 border-white shadow-lg shadow-teal-900/5 relative group hover:border-primary/30 transition-all",children:[_.jsx(O4,{className:"absolute top-6 right-6 text-teal-50",size:40}),_.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((E,T)=>_.jsx(Oh,{size:14,className:T<p.rating?"fill-yellow-400 text-yellow-400":"text-slate-200"},T))}),_.jsxs("p",{className:"text-slate-600 italic mb-6 leading-relaxed break-words",children:['"',p.text,'"']}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-teal-50 flex items-center justify-center text-primary font-bold border border-teal-100",children:p.initial}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-slate-900 text-sm",children:p.name}),_.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:p.role})]})]})]},p.id)),e.length===0&&_.jsx("div",{className:"text-center py-20 bg-white/50 rounded-3xl border-2 border-dashed border-slate-200",children:_.jsx("p",{className:"text-slate-500 font-medium",children:r("no_reviews")})})]}),_.jsxs("div",{className:"bg-white p-8 md:p-10 rounded-[3rem] border-2 border-white shadow-2xl shadow-teal-900/10 sticky top-28",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[_.jsx("div",{className:"p-3 bg-teal-50 rounded-2xl text-primary",children:_.jsx(C4,{size:24})}),_.jsx("h3",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:r("post_review")})]}),_.jsxs("form",{onSubmit:g,className:"space-y-5",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{className:"space-y-1.5",children:[_.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:r("full_name")}),_.jsx("input",{type:"text",placeholder:r("full_name"),required:!0,className:m,value:s.name,onChange:p=>o({...s,name:p.target.value})})]}),_.jsxs("div",{className:"space-y-1.5",children:[_.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:r("your_role")}),_.jsx("input",{type:"text",placeholder:r("your_role"),className:m,value:s.role,onChange:p=>o({...s,role:p.target.value})})]})]}),_.jsxs("div",{className:"p-4 bg-white rounded-2xl border-2 border-slate-300 shadow-sm flex items-center justify-between",children:[_.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:r("select_rating")}),_.jsx("div",{className:"flex gap-1.5",children:[1,2,3,4,5].map(p=>_.jsx("button",{type:"button",onClick:()=>o({...s,rating:p}),children:_.jsx(Oh,{size:20,className:p<=s.rating?"fill-yellow-400 text-yellow-400":"text-slate-200"})},p))})]}),_.jsxs("div",{className:"space-y-1.5",children:[_.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:r("message")}),_.jsx("textarea",{placeholder:r("message"),required:!0,className:`${m} h-32 resize-none`,value:s.text,onChange:p=>o({...s,text:p.target.value})})]}),_.jsx("button",{type:"submit",disabled:u,className:"w-full bg-slate-900 text-white py-5 rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-slate-800 transition-all disabled:opacity-50 active:scale-95 shadow-xl shadow-slate-200",children:u?"...":_.jsxs(_.Fragment,{children:[_.jsx(L4,{size:18})," ",r("submit_review")]})})]})]})]})]})})},D1=()=>_.jsxs("div",{className:"fixed inset-0 bg-[#e6f7f5] z-[100] flex flex-col items-center justify-center",children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"w-20 h-20 border-4 border-teal-100 border-t-primary rounded-full animate-spin"}),_.jsx(lf,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-primary fill-current animate-pulse",size:32})]}),_.jsx("h2",{className:"mt-6 text-2xl font-bold text-slate-800 tracking-tight",children:"NurseCare"})]});function mD(){const{t:r}=ia(),[e,n]=pe.useState(null),[s,o]=pe.useState(!0),[u,h]=pe.useState(()=>{const E=new URLSearchParams(window.location.search).get("p");if(E&&(window.history.replaceState(null,null,"/Family-Nurse"+E),E.includes("/admin")))return"admin";const T=window.location.pathname;return T.endsWith("/admin")||T.endsWith("/admin/")?"admin":"home"});pe.useEffect(()=>{const p=Z2(Kl,async T=>{if(T){const w=await oT(si(Bt,"users",T.uid));w.exists()&&n({id:T.uid,...w.data()})}else n(null)}),E=setTimeout(()=>o(!1),1500);return()=>{p(),clearTimeout(E)}},[]);const m=p=>{h(p),window.history.pushState({},"","/Family-Nurse/"),window.scrollTo({top:0,behavior:"smooth"})},g=async()=>{await _b(Kl),n(null),m("home")};if(s)return _.jsx(D1,{});if(u==="admin"){if(!e)return _.jsx(qO,{onBack:()=>m("home"),onLoginSuccess:p=>n(p)});if(e.role==="admin")return _.jsx(BO,{user:e,onLogout:g});if(e.role==="nurse")return _.jsx(KO,{user:e,onLogout:g})}return _.jsx(pe.Suspense,{fallback:_.jsx(D1,{}),children:_.jsxs("div",{className:"min-h-screen bg-[#e6f7f5] selection:bg-teal-100 selection:text-primary transition-colors duration-500",children:[_.jsx(GO,{onBookNow:()=>h("booking"),onHome:()=>m("home")}),u==="home"?_.jsxs("main",{className:"animate-in fade-in duration-1000",children:[_.jsx("div",{id:"home",children:_.jsx(cD,{onBookNow:()=>h("booking")})}),_.jsx("div",{id:"services",children:_.jsx(fD,{})}),_.jsx(hD,{}),_.jsx(lD,{}),_.jsx(dD,{}),_.jsx("section",{className:"py-24 px-4",children:_.jsx("div",{className:"max-w-6xl mx-auto",children:_.jsxs("div",{className:"bg-primary rounded-[3rem] p-12 md:p-24 text-center relative overflow-hidden shadow-2xl shadow-teal-900/20 border-4 border-white",children:[_.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-white/10 rounded-full -mr-20 -mt-20 blur-3xl"}),_.jsxs("h2",{className:"text-4xl md:text-6xl font-extrabold text-white mb-8 relative z-10 leading-tight",children:["Professional Nursing ",_.jsx("br",{})," At Your Doorstep"]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center relative z-10",children:[_.jsxs("button",{onClick:()=>h("booking"),className:"bg-slate-900 text-white px-12 py-5 rounded-2xl font-bold text-xl hover:bg-slate-800 transition-all flex items-center justify-center gap-2 group shadow-xl",children:[r("book_nurse")," ",_.jsx(MI,{className:"group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]}),_.jsxs("button",{className:"bg-white/20 backdrop-blur-md text-white border border-white/40 px-12 py-5 rounded-2xl font-bold text-xl hover:bg-white/30 transition-all flex items-center justify-center gap-3",children:[_.jsx(ng,{size:24})," 1-800-NURSE"]})]})]})})})]}):_.jsx("div",{className:"animate-in slide-in-from-right duration-500",children:_.jsx(HO,{onBack:()=>m("home")})}),_.jsx(FO,{})]})})}dx.createRoot(document.getElementById("root")).render(_.jsx(rx.StrictMode,{children:_.jsx(mD,{})}));
